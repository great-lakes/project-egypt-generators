!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=54)}([function(t,e,n){"use strict";var r=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0};Object.defineProperty(r.prototype,"xy",{get:function(){return[this.x,this.y]}}),r.ZERO=new r(0,0),r.read=function(t,e){if(2===arguments.length)return new r(t,e);var n=t;return n instanceof r?n:"number"==typeof n?new r(n,n):Array.isArray(n)?0===n.length?r.ZERO:(t=n[0],e=n.length>1?n[1]:t,new r(t,e)):void 0!==n.x&&void 0!==n.y?new r(n.x,n.y):r.ZERO},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.prototype.subtract=r.prototype.sub=function(t){return new r(this.x-t.x,this.y-t.y)},r.prototype.divide=function(t){return new r(this.x/t,this.y/t)},r.prototype.multiply=function(t){return new r(this.x*t,this.y*t)},r.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y},r.prototype.heading=function(){return Math.atan2(this.y,this.x)},r.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.normalize=function(){var t=this.magnitude();return 0!==t?this.divide(t):r.ZERO},r.prototype.limit=function(t){return this.magnitudeSquared()>t*t?this.normalize().multiply(t):this},r.prototype.translate=function(t,e){return new r(this.x+t,this.y+e)},r.prototype.scale=function(t,e){return e=void 0!==e?e:t,new r(this.x*t,this.y*e)},r.prototype.toString=function(){return"["+this.x+", "+this.y+"]"},t.exports=r},function(t,e,n){"use strict";var r=n(2),i=n(27),o=n(47),a=function(t,e,n,o,a){var s,u,l,h,f,c;void 0===t?(s=u=l=0,h=1):Array.isArray(t)?(c=e||{},s=void 0!==t[0]?t[0]:0,u=void 0!==t[1]?t[1]:0,l=void 0!==t[2]?t[2]:0,h=void 0!==t[3]?t[3]:c.range||1):void 0!==t.r?(c=e||{},s=t.r,u=t.g,l=t.b,h=void 0!==t.a?t.a:c.range||1):"string"==typeof t?(s=(f=i.hex2rgb(t))[0],u=f[1],l=f[2],h=1):"number"==typeof t&&(1===arguments.length?(s=u=l=t,h=1):2===arguments.length?(s=u=l=t,h="number"==typeof e?e:(c=e).range||1):3===arguments.length?"number"==typeof n?(s=t,u=e,l=n,h=1):(s=u=l=t,h=e,c=n):4===arguments.length?(s=t,u=e,l=n,h="number"==typeof o?o:(c=o).range||1):(s=t,u=e,l=n,h=o,c=a)),void 0!==(c=c||{}).range&&(s/=c.range,u/=c.range,l/=c.range,h/=c.range,"HSB"===c.mode&&(t/=c.range,e/=c.range,n/=c.range)),"HSB"===c.mode?(t=r.clamp(t,0,1),e=r.clamp(e,0,1),n=r.clamp(n,0,1),s=(f=i.hsb2rgb(t,e,n))[0],u=f[1],l=f[2]):"HSL"===c.mode?(t=r.clamp(t,0,1),e=r.clamp(e,0,1),n=r.clamp(n,0,1),s=(f=i.hsl2rgb(t,e,n))[0],u=f[1],l=f[2]):"HEX"===c.mode&&(s=(f=i.hex2rgb(t))[0],u=f[1],l=f[2],h=1),this.r=r.clamp(s,0,1),this.g=r.clamp(u,0,1),this.b=r.clamp(l,0,1),this.a=r.clamp(h,0,1)};a.BLACK=new a(0),a.WHITE=new a(1),o.defineAlias(a,"r","red"),o.defineAlias(a,"g","green"),o.defineAlias(a,"b","blue"),o.defineAlias(a,"a","alpha"),o.defineGetter(a,"h",function(){return i.rgb2hsl(this.r,this.g,this.b)[0]}),o.defineGetter(a,"s",function(){return i.rgb2hsl(this.r,this.g,this.b)[1]}),o.defineGetter(a,"l",function(){return i.rgb2hsl(this.r,this.g,this.b)[2]}),o.defineAlias(a,"h","hue"),o.defineAlias(a,"s","saturation"),o.defineAlias(a,"l","lightness"),o.defineGetter(a,"rgb",function(){return[this.r,this.g,this.b]}),o.defineGetter(a,"rgba",function(){return[this.r,this.g,this.b,this.a]}),o.defineGetter(a,"hsb",function(){return i.rgb2hsb(this.r,this.g,this.b)}),o.defineGetter(a,"hsba",function(){return i.rgb2hsb(this.r,this.g,this.b).concat([this.a])}),o.defineGetter(a,"hsl",function(){return i.rgb2hsl(this.r,this.g,this.b)}),o.defineGetter(a,"hsla",function(){return i.rgb2hsl(this.r,this.g,this.b).concat([this.a])}),a.prototype.toCSS=function(){return a.toCSS(this)},a.prototype.toHex=function(t){return t||this.a>=1?i.rgb2hex(this.r,this.g,this.b):i.rgba2hex(this.r,this.g,this.b,this.a)},a.prototype.desaturate=function(t){if(this.r===this.g&&this.g===this.b)return this;var e,n,r;void 0!==t&&t.method&&"ITU-R BT.601"!==t.method?"ITU-R BT.709"===t.method&&(e=.2125,n=.7154,r=.0721):(e=.3,n=.59,r=.11);var i=this.r*e+this.g*n+this.b*r;return new a(i,i,i,this.a)},a.prototype.invert=function(){return new a(1-this.r,1-this.g,1-this.b,this.a)},a.clone=function(t){return null===t||void 0===t?null:"string"==typeof t?t:new a(t.r,t.g,t.b,t.a)},a.toCSS=function(t){if(null===t)return"none";if(void 0===t)return"black";if("string"==typeof t)return t;if(t instanceof a){return"rgba("+Math.round(255*t.r)+", "+Math.round(255*t.g)+", "+Math.round(255*t.b)+", "+t.a+")"}if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b){let e=Math.round(255*t.r),n=Math.round(255*t.g),r=Math.round(255*t.b);return void 0===t.a?"rgb("+e+", "+n+", "+r+")":"rgba("+e+", "+n+", "+r+", "+t.a+")"}throw new Error("Don't know how to convert "+t+" to CSS.")},a.toHex=function(t,e){return a.parse(t,e).toHex()},a.make=function(){var t=Object.create(a.prototype);return t.constructor=a.prototype,a.apply(t,arguments),t},a.parse=function(t){function e(t,e){return!(!t||!e)&&0===(t=String(t)).indexOf(e)}var n;if(void 0===t||null===t)return new a(0,0,0,0);if(t instanceof a)return t;if(i.namedColors[t])return a.make.apply(null,i.namedColors[t]);if("#"===t[0])return new a(t,0,0,0,{mode:"HEX"});if(e(t,"rgba"))return(n=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255,parseFloat(n[4])):(n=t.match(/^rgba\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new a(0,0,0,0);if(e(t,"rgb"))return(n=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?new a(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255):(n=t.match(/^rgb\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i))?new a(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100):new a(0,0,0,0);if(e(t,"hsla"))return(n=t.match(/^hsla\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new a(0,0,0,0);if(e(t,"hsl"))return(n=t.match(/^hsl\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i))?new a(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100):new a(0,0,0,0);if("none"===t||"null"===t||e(t,"url("))return new a(0,0,0,0);throw new Error("Color "+t+"can not be parsed")},a.gray=function(t,e,n){return n=Math.max(n,1),new a(t/n,t/n,t/n,e/n)},a.rgb=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i)},a.hsb=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i,{mode:"HSB"})},a.hsl=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i,{mode:"HSL"})},t.exports=a},function(t,e,n){"use strict";var r={sum:function(t){var e,n=t.length,r=0;for(e=0;e<n;e+=1)r+=t[e];return r},round:function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)},sign:function(t){return t<0?-1:t>0?1:0},degrees:function(t){return 180*t/Math.PI},radians:function(t){return t/180*Math.PI},clamp:function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t},snap:function(t,e,n){return t*(1-(n=void 0!==n?n:1))+n*Math.round(t/e)*e},dot:function(t,e){var n,r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=t[n]*e[n];return i}},i=r.mix=r.lerp=function(t,e,n,r){if(r){if(n<0)return t;if(n>1)return e}return t+(e-t)*n};function o(t){return t*t*t*(t*(6*t-15)+10)}function a(t,e,n,r){var i,o,a;return o=(i=15&t)<8?e:n,a=i<4?n:12===i||14===i?e:r,(0==(1&i)?o:-o)+(0==(2&i)?a:-a)}var s=function(){var t,e,n;for(t=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],e=new Uint8Array(512),n=0;n<256;n+=1)e[256+n]=e[n]=t[n];return e}();r.noise=function(t,e,n){var r=s,u=255&Math.floor(t),l=255&Math.floor(e),h=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var f=o(t),c=o(e),p=o(n),d=r[u]+l,m=r[d]+h,y=r[d+1]+h,v=r[u+1]+l,g=r[v]+h,x=r[v+1]+h;return function(t){return(1+t)/2}(i(i(i(a(r[m],t,e,n),a(r[g],t-1,e,n),f),i(a(r[y],t,e-1,n),a(r[x],t-1,e-1,n),f),c),i(i(a(r[m+1],t,e,n-1),a(r[g+1],t-1,e,n-1),f),i(a(r[y+1],t,e-1,n-1),a(r[x+1],t-1,e-1,n-1),f),c),p))},t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(14),i=n(9),o=n(8),a=n(2),s=n(1),u=n(5),l=i.MOVETO,h=i.LINETO,f=i.QUADTO,c=i.CURVETO,p=i.CLOSE,d=Object.freeze({type:p});function m(t,e=3){return t%1==0?t:t.toFixed(e)}function y(t){var e={type:t.type};return e.type!==p&&(e.x=t.x,e.y=t.y),e.type===f?(e.x1=t.x1,e.y1=t.y1):e.type===c&&(e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2),e}var v=function(t,e,n,r){this.commands=void 0!==t?t:[],this.fill=void 0!==e?e:"black",this.stroke=void 0!==n?n:null,this.strokeWidth=void 0!==r?r:1};v.prototype.clone=function(){var t,e=new v,n=this.commands.length;for(e.commands.length=this.commands.length,t=0;t<n;t+=1)e.commands[t]=y(this.commands[t]);return e.fill=s.clone(this.fill),e.stroke=s.clone(this.stroke),e.strokeWidth=this.strokeWidth,e},v.prototype.extend=function(t){var e=t.commands||t;Array.prototype.push.apply(this.commands,e)},v.prototype.moveTo=function(t,e){this.commands.push({type:l,x:t,y:e})},v.prototype.lineTo=function(t,e){this.commands.push({type:h,x:t,y:e})},v.prototype.curveTo=function(t,e,n,r,i,o){this.commands.push({type:c,x1:t,y1:e,x2:n,y2:r,x:i,y:o})},v.prototype.quadTo=function(t,e,n,r){var i=this.commands[this.commands.length-1].x,o=this.commands[this.commands.length-1].y,a=i+2/3*(t-i),s=o+2/3*(e-o),u=a+1/3*(n-i),l=s+1/3*(r-o);this.curveTo(a,s,u,l,n,r)},v.prototype.closePath=v.prototype.close=function(){this.commands.push(d)},v.prototype.isClosed=function(){return 0!==this.commands.length&&this.commands[this.commands.length-1].type===p},v.prototype.addRect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.close()},v.prototype.addRoundedRect=function(t,e,n,r,i,o){var a=i,s=o,u=t,l=t+n,h=e,f=e+r;a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.moveTo(u+a,h),a<.5*n&&this.lineTo(l-i,h),this.curveTo(l-a*(1-.552),h,l,h+s*(1-.552),l,h+s),s<.5*r&&this.lineTo(l,f-s),this.curveTo(l,f-s*(1-.552),l-a*(1-.552),f,l-a,f),a<.5*n&&this.lineTo(u+a,f),this.curveTo(u+a*(1-.552),f,u,f-s*(1-.552),u,f-s),s<.5*r&&this.lineTo(u,h+s),this.curveTo(u,h+s*(1-.552),u+a*(1-.552),h,u+a,h),this.close()},v.prototype.addEllipse=function(t,e,n,r){var i=.2761423749153968*n,o=.2761423749153968*r,a=t+.5*n,s=e+.5*r,u=t+n,l=e+r;this.moveTo(t,s),this.curveTo(t,s-o,a-i,e,a,e),this.curveTo(a+i,e,u,s-o,u,s),this.curveTo(u,s+o,a+i,l,a,l),this.curveTo(a-i,l,t,s+o,t,s),this.close()},v.prototype.addLine=function(t,e,n,r){this.moveTo(t,e),this.lineTo(n,r)},v.prototype.addQuad=function(t,e,n,r,i,o,a,s){this.moveTo(t,e),this.lineTo(n,r),this.lineTo(i,o),this.lineTo(a,s),this.close()},v.prototype.addArc=function(t,e,n,r,i,o,s){var u,l,h,f,c,p,d,m,y,g,x,P,b;for(s=s||"pie",u=n/2,l=r/2,h=a.radians(i),(f=o)>=360||f<=-360?(c=4,p=Math.PI/2,d=.5522847498307933,f<0&&(p=-p,d=-d)):(c=Math.ceil(Math.abs(f)/90),p=a.radians(f/c),0===(d=4/3*Math.sin(p/2)/(1+Math.cos(p/2)))&&(c=0)),"open"===s?m=0:"chord"===s?m=1:"pie"===s&&(m=2),(u<0||l<0)&&(c=m=-1),y=0;y<=c+m;)g=h,0===y?this.moveTo(t+Math.cos(g)*u,e+Math.sin(g)*l):y>c?y===c+m?this.close():this.lineTo(t,e):(g+=p*(y-1),x=Math.cos(g),P=Math.sin(g),(b=[]).push(t+(x-d*P)*u),b.push(e+(P+d*x)*l),g+=p,x=Math.cos(g),P=Math.sin(g),b.push(t+(x+d*P)*u),b.push(e+(P-d*x)*l),b.push(t+x*u),b.push(e+P*l),v.prototype.curveTo.apply(this,b)),y+=1},v.prototype.colorize=function(t){var e=arguments;("object"!=typeof t||t instanceof s)&&(t={},void 0!==e[0]&&(t.fill=e[0]),void 0!==e[1]&&(t.stroke=e[1]),void 0!==e[2]&&(t.strokeWidth=e[2]));var n=this.clone();return t.fill&&(n.fill=s.clone(t.fill)),t.stroke&&(n.stroke=s.clone(t.stroke)),(t.strokeWidth||0===t.strokeWidth)&&(n.strokeWidth=t.strokeWidth),n},v.prototype.desaturate=function(t){var e=this.clone(),n=e.fill,r=e.stroke;return n instanceof s||(n=s.parse(n)),r instanceof s||(r=s.parse(r)),e.fill=n.desaturate(t),e.stroke=r.desaturate(t),e},v.prototype.invert=function(){var t=this.clone(),e=t.fill,n=t.stroke;return e instanceof s||(e=s.parse(e)),n instanceof s||(n=s.parse(n)),t.fill=e.invert(),t.stroke=n.invert(),t},v.prototype.contours=function(){for(var t,e=[],n=[],r=0;r<this.commands.length;r+=1)(t=this.commands[r]).type===l?(0!==n.length&&e.push(n),n=[t]):n.push(t);return 0!==n.length&&e.push(n),e},v.prototype.bounds=function(){if(this._bounds)return this._bounds;if(0===this.commands.length)return new u(0,0,0,0);for(var t,e,n,r,o,a,s=Number.MAX_VALUE,f=Number.MAX_VALUE,p=-Number.MAX_VALUE,d=-Number.MAX_VALUE,m=0;m<this.commands.length;m+=1)if((a=this.commands[m]).type===l||a.type===h)t=a.x,e=a.y,t<s&&(s=t),e<f&&(f=e),t>p&&(p=t),e>d&&(d=e),n=a;else if(a.type===c){var y=i.extrema(n.x,n.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y);r=y.x+y.width,o=y.y+y.height,y.x<s&&(s=y.x),r>p&&(p=r),y.y<f&&(f=y.y),o>d&&(d=o),n=a}return new u(s,f,p-s,d-f)},v.prototype.point=function(t,e){return void 0===e&&(e=i.segmentLengths(this.commands,!0,10)),i.point(this,t,e)},v.prototype.points=function(t,e){var n,r=e&&void 0!==e.start?e.start:0,o=e&&void 0!==e.end?e.end:1;if(0===this.commands.length)return[];t=Math.round(t),n=e&&e.closed?t>1?(o-r)/t:o-r:t>1?(o-r)/(t-1):o-r;for(var a=[],s=i.segmentLengths(this.commands,!0,10),u=0;u<t;u+=1)a.push(this.point(r+n*u,s));return a},v.prototype.length=function(t){return void 0===t&&(t=20),i.length(this,t)},v.prototype.contains=function(t,e,n){var r=this.points(void 0!==n?n:100);return o.pointInPolygon(r,t,e)},v.prototype.resampleByAmount=function(t,e){for(var n=e?this.contours():[this.commands],r=new v([],this.fill,this.stroke,this.strokeWidth),i=0;i<n.length;i+=1){var o=new v(n[i]),a={};o.isClosed()&&(a.closed=!0);for(var s=o.points(t,a),u=0;u<s.length;u+=1)0===u?r.moveTo(s[u].x,s[u].y):r.lineTo(s[u].x,s[u].y);o.isClosed()&&r.close()}return r},v.prototype.resampleByLength=function(t,e){var n=(e=e||{}).force||!1,r=this.contours(),i=[];n||(t=Math.max(t,1));for(var o=0;o<r.length;o+=1){var a=new v(r[o]),s=a.length(),u=Math.ceil(s/t);i=i.concat(a.resampleByAmount(u).commands)}return new v(i,this.fill,this.stroke,this.strokeWidth)},v.prototype.toPathData=function(t=3){var e,n,r,i,o,s,u,d,y;for(n="",e=0;e<this.commands.length;e+=1)void 0!==(r=this.commands[e]).x&&(i=m(a.clamp(r.x,-9999,9999),t),o=m(a.clamp(r.y,-9999,9999),t)),void 0!==r.x1&&(s=m(a.clamp(r.x1,-9999,9999),t),u=m(a.clamp(r.y1,-9999,9999),t)),void 0!==r.x2&&(d=m(a.clamp(r.x2,-9999,9999),t),y=m(a.clamp(r.y2,-9999,9999),t)),r.type===l?isNaN(i)||isNaN(o)||(n+="M"+i+" "+o):r.type===h?isNaN(i)||isNaN(o)||(n+="L"+i+" "+o):r.type===f?isNaN(i)||isNaN(o)||isNaN(s)||isNaN(u)||(n+="Q"+s+" "+u+" "+i+" "+o):r.type===c?isNaN(i)||isNaN(o)||isNaN(s)||isNaN(u)||isNaN(d)||isNaN(y)||(n+="C"+s+" "+u+" "+d+" "+y+" "+i+" "+o):r.type===p&&(n+="Z");return n},v.prototype.toSVG=function(){var t='<path d="';t+=this.toPathData(),t+='"';var e,n,r,i,o="";return this.fill&&((e=s.parse(this.fill)).a<1&&(n=e.a),e=s.toHex(e).substring(0,7)),"black"!==e&&"#000000"!==e&&(o+=null===e||void 0===e?"fill:none;":"fill:"+e+";"),void 0!==n&&(o+="fill-opacity:"+n+";"),this.stroke&&((r=s.parse(this.stroke)).a<1&&(i=r.a),r=s.toHex(r).substring(0,7)),r&&(o+="stroke:"+r+";",o+="stroke-width:"+this.strokeWidth+";"),void 0!==i&&(o+="stroke-opacity:"+i+";"),o&&(t+=' style="'+o+'"'),t+="/>"},v.prototype.draw=function(t){var e,n,r;for(t.beginPath(),e=this.commands.length,n=0;n<e;n+=1)(r=this.commands[n]).type===l?t.moveTo(r.x,r.y):r.type===h?t.lineTo(r.x,r.y):r.type===f?t.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type===c?t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type===p&&t.closePath();null!==this.fill&&void 0!==this.fill&&(t.fillStyle=s.toCSS(this.fill),t.fill()),null!==this.stroke&&void 0!==this.stroke&&null!==this.strokeWidth&&this.strokeWidth>0&&(t.strokeStyle=s.toCSS(this.stroke),t.lineWidth=this.strokeWidth,t.stroke())},v.combine=function(){for(var t,e=Array.apply(null,arguments),n=r(e),i=[],o=0;o<n.length;o+=1)(t=n[o]).commands?i=i.concat(t.commands):t.shapes&&(i=i.concat(v.combine(t.shapes).commands));return new v(i)},t.exports=v},function(t,e,n){"use strict";var r=n(0),i=function(t,e,n,r){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.width=void 0!==n?n:0,this.height=void 0!==r?r:0};Object.defineProperty(i.prototype,"xywh",{get:function(){return[this.x,this.y,this.width,this.height]}}),i.prototype.normalize=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),new i(t,e,n,r)},i.prototype.containsPoint=function(t,e){return 1===arguments.length&&(e=t.y,t=t.x),t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},i.prototype.containsRect=function(t){return t.x>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y+t.height<=this.y+this.height},i.prototype.grow=function(t,e){var n=this.x-t,r=this.y-e,o=this.width+2*t,a=this.height+2*e;return new i(n,r,o,a)},i.prototype.unite=function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,o=Math.max(this.y+this.height,t.y+t.height)-n;return new i(e,n,r,o)},i.prototype.addPoint=function(t,e){var n=this.x,r=this.y,o=this.width,a=this.height;return t<this.x?(n=t,o+=this.x-t):t>this.x+this.width&&(o+=t-(this.x+this.width)),e<this.y?(r=e,a+=this.y-e):e>this.y+this.height&&(a+=e-(this.y+this.height)),new i(n,r,o,a)},i.prototype.centerPoint=function(){return new r(this.x+this.width/2,this.y+this.height/2)},t.exports=i},function(t,e,n){"use strict";var r=n(9),i=n(2),o=n(7),a=n(4),s=n(0),u=r.MOVETO,l=r.LINETO,h=r.QUADTO,f=r.CURVETO,c=r.CLOSE,p=function(t){this.m=void 0!==t?t:[1,0,0,1,0,0]};p.IDENTITY=new p,p.identity=function(){return new p},p._mmult=function(t,e){return void 0!==t.m&&(t=t.m),void 0!==e.m&&(e=e.m),new p([t[0]*e[0]+t[1]*e[2],t[0]*e[1]+t[1]*e[3],t[2]*e[0]+t[3]*e[2],t[2]*e[1]+t[3]*e[3],t[4]*e[0]+t[5]*e[2]+e[4],t[4]*e[1]+t[5]*e[3]+e[5]])},p.prototype.isIdentity=function(){var t=this.m;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},p.prototype.prepend=function(t){return p._mmult(this.m,t.m)},p.prototype.append=function(t){return p._mmult(t.m,this.m)},p.prototype.inverse=function(){var t=this.m,e=t[0]*t[3]-t[1]*t[2];return new p([t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[3]*t[4])/e,-(t[0]*t[5]-t[1]*t[4])/e])},p.prototype.scale=function(t,e){return void 0===e&&(e=t),p._mmult([t,0,0,e,0,0],this.m)},p.prototype.translate=function(t,e){return p._mmult([1,0,0,1,t,e],this.m)},p.prototype.rotate=function(t){var e=Math.cos(i.radians(t)),n=Math.sin(i.radians(t));return p._mmult([e,n,-n,e,0,0],this.m)},p.prototype.skew=function(t,e){var n=Math.PI*t/180,r=Math.PI*e/180;return p._mmult([1,Math.tan(r),-Math.tan(n),1,0,0],this.m)},p.prototype.transformPoint=function(t){var e=t.x,n=t.y,r=this.m;return new s(e*r[0]+n*r[2]+r[4],e*r[1]+n*r[3]+r[5])},p.prototype.transformPoints=function(t){for(var e=[],n=0;n<t.length;n+=1)e.push(this.transformPoint(t[n]));return e},p.prototype.transformPath=function(t){var e=this.m,n=[];n.length=t.commands.length;for(var r=0,i=t.commands.length;r<i;r++){var o=t.commands[r];switch(o.type){case u:case l:n[r]={type:o.type,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5]};break;case h:n[r]={type:h,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5],x1:o.x1*e[0]+o.y1*e[2]+e[4],y1:o.x1*e[1]+o.y1*e[3]+e[5]};break;case f:n[r]={type:f,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5],x1:o.x1*e[0]+o.y1*e[2]+e[4],y1:o.x1*e[1]+o.y1*e[3]+e[5],x2:o.x2*e[0]+o.y2*e[2]+e[4],y2:o.x2*e[1]+o.y2*e[3]+e[5]};break;case c:n[r]={type:c};break;default:throw new Error("Unknown command type "+o)}}return new a(n,t.fill,t.stroke,t.strokeWidth)},p.prototype.transformText=function(t){var e=t.clone();return e.transform=this.append(e.transform),e},p.prototype.transformGroup=function(t){for(var e=[],n=0;n<t.shapes.length;n+=1)e.push(this.transformShape(t.shapes[n]));return new o(e)},p.prototype.transformShape=function(t){var e;if(t.shapes)e=this.transformGroup;else if(t.commands)e=this.transformPath;else if(t.text)e=this.transformText;else if(void 0!==t.x&&void 0!==t.y)e=this.transformPoint;else{if(void 0!==t._transform)return t._transform(this.m);if(!(Array.isArray(t)&&t.length>0))throw new Error("Don't know how to transform "+t);if(void 0===t[0].x||void 0===t[0].y){for(var n=[],r=0;r<t.length;r+=1)n.push(this.transformShape(t[r]));return n}e=this.transformPoints}return e.call(this,t)},t.exports=p},function(t,e,n){"use strict";var r=n(4),i=n(5),o=n(1),a=function(t){t?t.shapes||t.commands?this.shapes=[t]:t&&(this.shapes=t):this.shapes=[]};a.prototype.add=function(t){this.shapes.push(t)},a.prototype.clone=function(){var t,e=[],n=this.shapes.length;for(e.length=n,t=0;t<n;t+=1)e[t]=this.shapes[t].clone();return new a(e)},a.prototype.colorize=function(t){var e=arguments;("object"!=typeof t||t instanceof o)&&(t={},void 0!==e[0]&&(t.fill=e[0]),void 0!==e[1]&&(t.stroke=e[1]),void 0!==e[2]&&(t.strokeWidth=e[2]));var n=[];n.length=this.shapes.length;for(var r=0;r<this.shapes.length;r+=1)n[r]=this.shapes[r].colorize(t);return new a(n)},a.prototype.desaturate=function(t){var e=[];e.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)e[n]=this.shapes[n].desaturate(t);return new a(e)},a.prototype.invert=function(){var t=[];t.length=this.shapes.length;for(var e=0;e<this.shapes.length;e+=1)t[e]=this.shapes[e].invert();return new a(t)},a.prototype.bounds=function(){if(0===this.shapes.length)return new i(0,0,0,0);var t,e,n,r=this.shapes;for(t=0;t<r.length;t+=1)n=r[t],void 0===e&&(e=n.bounds()),(n.shapes&&0!==n.shapes.length||n.commands&&0!==n.commands.length)&&(e=e.unite(n.bounds()));return void 0!==e?e:new i(0,0,0,0)},a.prototype.contains=function(t,e,n){void 0===n&&(n=100);var r,i=this.shapes;for(r=0;r<i.length;r+=1)if(i[r].contains(t,e,n))return!0;return!1},a.prototype.length=function(t){void 0===t&&(t=10);for(var e=0,n=this.shapes,r=0;r<n.length;r+=1)e+=n[r].length(t);return e},a.prototype.resampleByAmount=function(t,e){if(!e)return new r.combine(this).resampleByAmount(t,e);var n=[];n.length=this.shapes.length;for(var i=0;i<this.shapes.length;i+=1)n[i]=this.shapes[i].resampleByAmount(t,e);return new a(n)},a.prototype.resampleByLength=function(t){var e=[];e.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)e[n]=this.shapes[n].resampleByLength(t);return new a(e)},a.prototype.toSVG=function(){var t=[];t.length=this.shapes.length;for(var e=0;e<this.shapes.length;e+=1)t[e]=this.shapes[e].toSVG();return"<g>"+t.join("")+"</g>"},a.prototype.draw=function(t){var e,n=this.shapes,r=n.length;for(e=0;e<r;e+=1)n[e].draw(t)},t.exports=a},function(t,e,n){"use strict";var r=n(2),i=n(0),o={angle:function(t,e,n,i){return r.degrees(Math.atan2(i-e,n-t))},distance:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},coordinates:function(t,e,n,o){var a=t+Math.cos(r.radians(n))*o,s=e+Math.sin(r.radians(n))*o;return new i(a,s)},pointInPolygon:function(t,e,n){var r,i,o,a,s,u,l=!1,h=t.length;for(r=0;r<h;r+=1)i=r<h-1?r+1:0,o=t[r].x,a=t[r].y,s=t[i].x,u=t[i].y,(a<n&&u>=n||u<n&&a>=n)&&o+(n-a)/(u-a)*(s-o)<e&&(l=!l);return l}};t.exports=o},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(5),a={},s=a.MOVETO="M",u=a.LINETO="L";a.QUADTO="Q";var l=a.CURVETO="C",h=a.CLOSE="Z";function f(t,e){return Math.abs(t-e)<=1e-12*Math.min(Math.abs(t),Math.abs(e))}a.linePoint=function(t,e,n,r,i){return{type:u,x:e+t*(r-e),y:n+t*(i-n)}},a.lineLength=function(t,e,n,r){var i=Math.pow(Math.abs(t-n),2),o=Math.pow(Math.abs(e-r),2);return Math.sqrt(i+o)},a.curvePoint=function(t,e,n,r,i,o,a,s,u){var h=1-t,f=r*h+o*t,c=i*h+a*t,p=(e*h+r*t)*h+f*t,d=(n*h+i*t)*h+c*t,m=f*h+(o*h+s*t)*t,y=c*h+(a*h+u*t)*t;return{type:l,x1:p,y1:d,x2:m,y2:y,x:p*h+m*t,y:d*h+y*t}},a.curveLength=function(t,e,n,r,i,o,s,u,l){void 0===l&&(l=20);var h,f,c,p=0,d=t,m=e;for(h=0;h<l;h+=1)f=(h+1)/l,c=a.curvePoint(f,t,e,n,r,i,o,s,u),p+=Math.sqrt(Math.pow(Math.abs(d-c.x),2)+Math.pow(Math.abs(m-c.y),2)),d=c.x,m=c.y;return p},a.segmentLengths=function(t,e,n){var i,o,f,c,p,d,m,y,v,g;for(e=void 0!==e&&e,void 0===n&&(n=20),v=[],i=0;i<t.length;i+=1)f=(o=t[i]).type,0===i?(c=o.x,p=o.y):f===s?(c=o.x,p=o.y,v.push(0)):f===h?v.push(a.lineLength(d,m,c,p)):f===u?v.push(a.lineLength(d,m,o.x,o.y)):f===l&&v.push(a.curveLength(d,m,o.x1,o.y1,o.x2,o.y2,o.x,o.y,n)),f!==h&&(d=o.x,m=o.y);if(!0===e){if(y=r.sum(v),(g=[]).length=v.length,y>0)for(i=0;i<v.length;i+=1)g[i]=v[i]/y;else for(i=0;i<v.length;i+=1)g[i]=0;return g}return v},a.length=function(t,e){return e=e||20,r.sum(a.segmentLengths(t.commands,!1,e))},a._locate=function(t,e,n){var r,o,u;for(void 0===n&&(n=a.segmentLengths(t.commands,!0)),r=0;r<t.commands.length&&(o=t.commands[r],0!==r&&o.type!==s||(u=new i(o.x,o.y)),!(e<=n[r]||r===n.length-1));r+=1)e-=n[r];return 0!==n[r]&&(e/=n[r]),r===n.length-1&&0===n[r]&&(r-=1),[r,e,u]},a.point=function(t,e,n){var r,i,o,s,f,c;return i=(r=a._locate(t,e,n))[0],e=r[1],o=r[2],s=t.commands[i].x,f=t.commands[i].y,(c=t.commands[i+1]).type===u||c.type===h?c=c.type===h?a.linePoint(e,s,f,o.x,o.y):a.linePoint(e,s,f,c.x,c.y):c.type===l&&(c=a.curvePoint(e,s,f,c.x1,c.y1,c.x2,c.y2,c.x,c.y)),c},a.extrema=function(t,e,n,r,i,a,s,u){var l,h,c,p,d,m,y,v,g,x,P,b,w,C;function _(o){if(o>=0&&o<=1){var f=function(t,e,n,r,i,o,a,s,u){var l,h,f,c,p;return{x:(l=(p=function(t){var e,n,r,i;return i=(r=t*t)*t,[(n=(e=1-t)*e)*e,n*=3*t,r*=3*e,i]}(u))[0])*t+(h=p[1])*n+(f=p[2])*i+(c=p[3])*a,y:l*e+h*r+f*o+c*s}}(t,e,n,r,i,a,s,u,o);f.x<l?l=f.x:f.x>h&&(h=f.x),f.y<c?c=f.y:f.y>p&&(p=f.y)}}return t<s?(l=t,h=s):(l=s,h=t),e<u?(c=e,p=u):(c=u,p=e),m=6*(t-2*n+i),y=3*(-t+n),f((d=3*(3*n-t-3*i+s))+1,1)?f(m+1,1)||_(-y/m):(w=m*m-4*d*y)>=0&&(_((-m+(P=Math.sqrt(w)))*(b=1/(2*d))),_((-m-P)*b)),g=6*(e-2*r+a),x=3*(-e+r),f((v=3*(3*r-e-3*a+u))+1,1)?f(g+1,1)||_(-x/g):(C=g*g-4*v*x)>0&&(_((-g+(P=Math.sqrt(C)))*(b=1/(2*v))),_((-g-P)*b)),new o(l,c,h-l,p-c)},t.exports=a},function(t,e,n){"use strict";var r=n(51),i={};function o(t){for(var e in t)i[e]=t[e]}i.bezier=n(9),i.color=n(27),i.geo=n(8),i.math=n(2),i.random=n(26),i.svg=n(50),i.Color=n(1),i.Group=n(7),i.Matrix4=n(46),i.Path=n(4),i.Point=i.Vec2=n(0),i.Rect=n(5),i.Text=n(23),i.Transform=i.Matrix3=n(6),i.Vec3=n(24);var a=n(22);r(i.Point.prototype,a),r(i.Path.prototype,a),r(i.Group.prototype,a),r(i.Text.prototype,a),o(n(45)),o(n(44)),o(n(42)),t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return t/180*Math.PI}t.exports={degrees:function(t){return 180*t/Math.PI},radians:r,distance:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},transform:function t(e){function n(e,n){var r=(n=n.slice())[0],i=n[1],o=(n[2],n[3]),a=n[4],s=(n[5],n[6]),u=n[7];return n[8],n[0]=e[0]*r+e[1]*o,n[1]=e[0]*i+e[1]*a,n[3]=e[3]*r+e[4]*o,n[4]=e[3]*i+e[4]*a,n[6]=e[6]*r+e[7]*o+s,n[7]=e[6]*i+e[7]*a+u,t(n)}return e=void 0===e?[1,0,0,0,1,0,0,0,1]:e.slice(),{matrix:function(){return e.slice()},clone:function(){return t(e)},prepend:function(t){return t.matrix&&(t=t.matrix()),n(e,t)},append:function(t){return t.matrix&&(t=t.matrix()),n(t,e)},translate:function(t,r){return n([1,0,0,0,1,0,t,r,1],e)},scale:function(t,r){return void 0===r&&(r=t),n([t,0,0,0,r,0,0,0,1],e)},skew:function(t,r){void 0===r&&(r=t);var i=Math.PI*t/180,o=Math.PI*r/180;return n([1,Math.tan(o),0,-Math.tan(i),1,0,0,0,1],e)},rotate:function(t){var i=Math.cos(r(t)),o=Math.sin(r(t));return n([i,o,0,-o,i,0,0,0,1],e)},transformPoint:function(t){var n=t.x,r=t.y;return{x:n*e[0]+r*e[3]+e[6],y:n*e[1]+r*e[4]+e[7]}}}}}},function(t,e,n){"use strict";var r,i,o,a,s=n(12),u=n(21),l=n(39),h="path",f="image",c="htmlCanvas",p="iCanvas",d="fill",m="gradient",y=s.transform(),v=y,g=s.clamp,x=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];function P(t,e,n,r,i){var o,a,s,u,l;if(void 0===t)o=a=s=0,u=1;else if(Array.isArray(t))l=e||{},o=void 0!==t[0]?t[0]:0,a=void 0!==t[1]?t[1]:0,s=void 0!==t[2]?t[2]:0,u=void 0!==t[3]?t[3]:l.base||1;else if(void 0!==t.r)l=e||{},o=t.r,a=t.g,s=t.b,u=void 0!==t.a?t.a:l.base||1;else if("string"==typeof t){if(0===t.indexOf("#"))return t;if(0===t.indexOf("rgb"))return t;if(-1!==x.indexOf(t))return t}else"number"==typeof t&&(1===arguments.length?(o=a=s=t,u=1):2===arguments.length?(o=a=s=t,u="number"==typeof e?e:(l=e).base||1):3===arguments.length?"number"==typeof n?(o=t,a=e,s=n,u=1):(o=a=s=t,u=e,l=n):4===arguments.length?(o=t,a=e,s=n,u="number"==typeof r?r:(l=r||{}).base||1):(o=t,a=e,s=n,u=r,l=i));if("number"!=typeof o||"number"!=typeof a||"number"!=typeof s||"number"!=typeof u)throw new Error("Invalid color arguments");return void 0!==(l=l||{}).base&&(o/=l.base,a/=l.base,s/=l.base,u/=l.base),"rgba("+Math.round(255*o)+", "+Math.round(255*a)+", "+Math.round(255*s)+", "+u+")"}function b(t,e,n,r,i){var o,a,s,u,l,h,f={};if(1===arguments.length)o=(h=t||{}).startColor,a=h.endColor,s=h.type,u=h.rotation,l=h.spread;else if(arguments.length>=2)if(o=t,a=e,s="linear",u=0,l=0,3===arguments.length)"string"==typeof n?s=n:"number"==typeof n&&(u=n);else if(4===arguments.length)if("number"==typeof n)u=n,l=r;else if("linear"===n)u=r;else{if("radial"!==n)throw new Error("Wrong argument provided: "+n);s=n,l=r}else 5===arguments.length&&(s=n,u=r,l=i);if(!o&&0!==o)throw new Error("No startColor was given.");if(!a&&0!==a)throw new Error("No endColor was given.");try{f.startColor=P(o)}catch(t){throw new Error("startColor is not a valid color: "+o)}try{f.endColor=P(a)}catch(t){throw new Error("endColor is not a valid color: "+a)}if(void 0===s&&(s="linear"),"linear"!==s&&"radial"!==s)throw new Error("Unknown gradient type: "+s);if(f.type=s,void 0===l&&(l=0),"number"!=typeof l)throw new Error("Spread value is not a number: "+l);if("linear"===s){if(void 0===u&&(u=0),"number"!=typeof u)throw new Error("Rotation value is not a number: "+u);f.rotation=u}return f.spread=g(l,0,.99),f}(o=function(t,e){e||(e=function(t){if("string"==typeof t)return h;if(t instanceof Image)return f;if(t instanceof HTMLCanvasElement)return c;if(t instanceof i)return p;if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&void 0!==t.a)return d;if(void 0!==t.startColor&&void 0!==t.endColor)return m;throw new Error("Cannot establish type for data ",t)}(t)),this.data=t,this.type=e,e!==c&&e!==p&&e!==f||(this.width=t.width,this.height=t.height),this.opacity=1,this.blendmode="source-over",this.transform=y,this.flip_h=!1,this.flip_v=!1,this.mask=new i,this.filters=[]}).Transform=o.IDENTITY_TRANSFORM=y,o.prototype.clone=function(){function t(t){var e,n,r={};if(r.name=t.name,void 0!==t.options){r.options={};for(var i=Object.keys(t.options),o=0;o<i.length;o+=1)e=i[o],n=t.options[e],Array.isArray(n)?r.options[e]=n.slice(0):r.options[e]=n}return r}var e=Object.create(o.prototype);e.data=this.data,e.type=this.type,e.width=this.width,e.height=this.height,e.opacity=this.opacity,e.blendmode=this.blendmode,e.transform=this.transform,e.flip_h=this.flip_h,e.flip_v=this.flip_v,e.mask=this.mask.clone(),e.filters=[],this.type===p?e.data=this.data.clone():this.type===m&&(e.data={startColor:this.data.startColor,endColor:this.data.endColor,type:this.data.type,rotation:this.data.rotation,spread:this.data.spread});for(var n=0;n<this.filters.length;n+=1)e.filters.push(t(this.filters[n]));return e},o.prototype.setOpacity=function(t){this.opacity=g(t,0,1)},o.prototype.translate=function(t,e){e=void 0===e?0:e;var n=v.translate(t,e);this.transform=this.transform.prepend(n)},o.prototype.scale=function(t,e){e=void 0===e?t:e;var n=v.scale(t,e);this.transform=this.transform.prepend(n)},o.prototype.rotate=function(t){var e=v.rotate(t);this.transform=this.transform.prepend(e)},o.prototype.skew=function(t,e){e=void 0===e?t:e;var n=v.skew(t,e);this.transform=this.transform.prepend(n)},o.prototype.flipHorizontal=function(t){this.flip_h=void 0!==t?t:!this.flip_h},o.prototype.flipVertical=function(t){this.flip_v=void 0!==t?t:!this.flip_v},o.prototype.addFilter=function(t,e){this.filters.push({name:t,options:e})},o.prototype.draw=function(t){var e=void 0===this.width?800:this.width,n=void 0===this.height?800:this.height,r=new i(e,n);r.addLayer(this),r.draw(t)},o.prototype.toCanvas=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var e=t.getContext("2d");return this.draw(e),t},o.fromFile=function(t){return new o(t,h)},o.fromImage=function(t){return new o(t,f)},o.fromCanvas=function(t){return t instanceof HTMLCanvasElement?o.fromHtmlCanvas(t):o.fromImageCanvas(t)},o.fromHtmlCanvas=function(t){return new o(t,c)},o.fromImageCanvas=function(t){return new o(t,p)},o.fromColor=function(t){return new o(P(t),d)},o.fromGradient=function(){return new o(b.apply(null,arguments),m)},o.prototype.isPath=function(){return this.type===h},o.prototype.isFill=function(){return this.type===d},o.prototype.isGradient=function(){return this.type===m},o.prototype.isHtmlCanvas=function(){return this.type===c},o.prototype.isImage=function(){return this.type===f},o.prototype.isImageCanvas=function(){return this.type===p};var w=function(t){this.width=t.width,this.height=t.height;var e=t.getContext("2d");this._data=e.getImageData(0,0,this.width,this.height),this.array=this._data.data};function C(t){return{x:t,y:t}}function _(t){return void 0!==t&&null!==t}function I(t){return Array.isArray(t)?function(t){var e=t[0];return{x:e,y:t.length>1?t[1]:e}}(t):"number"==typeof t?C(t):function(t){return!!t&&void 0!==t.x&&void 0!==t.y}(t)?t:void 0}w.prototype.get=function(t){t*=4;var e=this.array;return[e[t+0],e[t+1],e[t+2],e[t+3]]},w.prototype.set=function(t,e){t*=4;var n=this.array;n[t+0]=e[0],n[t+1]=e[1],n[t+2]=e[2],n[t+3]=e[3]},w.prototype.toCanvas=function(){var t=document.createElement("canvas");return t.width=this.width,t.height=this.height,t.getContext("2d").putImageData(this._data,0,0),t},(i=function(t,e){t||(t=800),e||(e=800),this.width=t,this.height=e,this.layers=[]}).prototype.clone=function(){for(var t=new i(this.width,this.height),e=0;e<this.layers.length;e+=1)t.layers.push(this.layers[e].clone());return t},i.prototype.addLayer=function(t){var e;try{return this.addGradientLayer.apply(this,arguments)}catch(t){}try{return this.addColorLayer.apply(this,arguments)}catch(t){}if(1===arguments.length&&("string"==typeof t?e=new o(t,h):t instanceof o?e=t:t instanceof HTMLCanvasElement?e=new o(t,c):t instanceof Image?e=new o(t,f):t instanceof i&&(e=new o(t,p))),!e)throw new Error("Error creating layer.");return this.layers.push(e),e},i.prototype.addColorLayer=function(){var t=P.apply(null,arguments),e=new o(t,d);return this.layers.push(e),e},i.prototype.addGradientLayer=function(){var t=b.apply(null,arguments),e=new o(t,m);return this.layers.push(e),e},i.prototype.render=function(t){return(t?l:u).render(this,t)},i.prototype.draw=function(t,e){if(e)this.render(function(e){t.drawImage(e,0,0,e.width,e.height)});else{var n=this.render();t.drawImage(n,0,0,n.width,n.height)}},(a=function(t,e,n){this.canvas=t,this.originalWidth=t?t.width:0,this.originalHeight=t?t.height:0,this.transform=e||n?v.translate(e,n):o.IDENTITY_TRANSFORM}).prototype.clone=function(){var t=new a;return t.canvas=this.canvas,t.originalWidth=this.originalWidth,t.originalHeight=this.originalHeight,t.transform=this.transform,t},a.prototype.withCanvas=function(t){var e=this.clone();return e.canvas=t,e},a.prototype._transform=function(t){var e=this.clone();return e.transform=e.transform.prepend(t),e},a.prototype.translate=function(t){var e=C(0),n=arguments;return 1===n.length&&_(t)?e=I(t):2===n.length&&(e={x:n[0],y:n[1]}),0===e.x&&0===e.y?this:this._transform(v.translate(e.x,e.y))},a.prototype.rotate=function(t){if(!t)return this;var e=C(0),n=arguments;return 2===n.length?e=I(n[1]):3===n.length&&(e={x:n[1],y:n[2]}),this._transform(v.translate(e.x,e.y).rotate(t).translate(-e.x,-e.y))},a.prototype.scale=function(t){var e=C(1),n=C(0),r=arguments;return 1===r.length&&_(t)?e=I(t):2===r.length?"number"==typeof t&&"number"==typeof r[1]?e={x:r[0],y:r[1]}:(e=I(t),n=I(r[1])):4===r.length&&(e={x:r[0],y:r[1]},n={x:r[2],y:r[3]}),1===e.x&&1===e.y?this:this._transform(v.translate(n.x,n.y).scale(e.x,e.y).translate(-n.x,-n.y))},a.prototype.skew=function(t){var e=C(0),n=C(0),r=arguments;return 1===r.length&&_(t)?e=I(t):2===r.length?"number"==typeof t&&"number"==typeof r[1]?e={x:r[0],y:r[1]}:(e=I(t),n=I(r[1])):4===r.length&&(e={x:r[0],y:r[1]},n={x:r[2],y:r[3]}),0===e.x&&0===e.y?this:this._transform(v.translate(n.x,n.y).skew(e.x,e.y).translate(-n.x,-n.y))},a.prototype.transformed=function(){return r.merge([this])},a.prototype.bounds=function(){for(var t,e,n,r,i,o=this.transform,a=this.originalWidth/2,s=this.originalHeight/2,u=[{x:-a,y:-s},{x:a,y:-s},{x:-a,y:s},{x:a,y:s}],l=0;l<4;l+=1)t=o.transformPoint(u[l]),0===l?(e=r=t.x,n=i=t.y):(t.x<e&&(e=t.x),t.x>r&&(r=t.x),t.y<n&&(n=t.y),t.y>i&&(i=t.y));return{x:e,y:n,width:r-e,height:i-n}},a.prototype.colorize=function(t){var e=o.fromColor(t);e.width=this.originalWidth,e.height=this.originalHeight;var n=new a(e.toCanvas());return n=n._transform(this.transform.matrix()),r.merge([this,n])},a.prototype.desaturate=function(t){var e=this.toLayer(!1);return e.addFilter("desaturate",t),this.withCanvas(e.toCanvas())},a.prototype.crop=function(t){var e=this.bounds(),n=t.bounds(),i=function(t,e){var n=t.x+t.width,r=t.y+t.height,i=e.x+e.width,o=e.y+e.height,a=Math.max(t.x,e.x),s=Math.max(t.y,e.y);return{x:a,y:s,width:Math.max(Math.min(n,i)-a,0),height:Math.max(Math.min(r,o)-s,0)}}(e,n),o=Math.ceil(i.width),s=Math.ceil(i.height);if(0===i.width||0===i.height)throw new Error("Resulting image has no dimensions");var u=new r.ImageCanvas(o,s),l=u.addLayer(this.toLayer());return l.translate(o/2-n.width-n.x,s/2-n.height-n.y),o<n.width&&i.x>e.x&&l.translate(n.width-o,0),s<n.height&&i.y>e.y&&l.translate(0,n.height-s),new a(u.render(),i.x+o/2,i.y+s/2)},a.prototype.draw=function(t){t.save();var e=this.transform.matrix();t.transform(e[0],e[1],e[3],e[4],e[6],e[7]),t.translate(-this.originalWidth/2,-this.originalHeight/2),t.drawImage(this.canvas,0,0),t.restore()},a.prototype.toLayer=function(t){var e=document.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,e.getContext("2d").drawImage(this.canvas,0,0);var n=r.Layer.fromHtmlCanvas(e);return void 0===t&&(t=!0),t&&(n.transform=this.transform),n},a.prototype.getPixels=function(){return new w(this.canvas)},a.prototype.toImage=function(){var t=this.bounds(),e=this.crop({bounds:function(){return t}}),n=new Image;return n.width=e.canvas.width,n.height=e.canvas.height,n.src=e.canvas.toDataURL(),n},(r={}).Layer=o,r.ImageCanvas=i,r.Img=a,r.Pixels=w;var E=n(19);function T(t,e){var n=new Image;n.onload=function(){e(null,[t,this])},n.src=t}function O(t,e){var n=Math.min(t.x,e.x),r=Math.min(t.y,e.y);return{x:n,y:r,width:Math.max(t.x+t.width,e.x+e.width)-n,height:Math.max(t.y+t.height,e.y+e.height)-r}}r.loadImages=function(t,e){E.map(t,T,function(t,n){if(e){for(var r,i,o={},a=0;a<n.length;a+=1)r=n[a][0],i=n[a][1],o[r]=i;e(o)}})},r.merge=function(t){var e,n,r;for(e=0;e<t.length;e+=1)n=t[e],r=0===e?n.bounds():O(r,n.bounds());var o=r.width/2+r.x,s=r.height/2+r.y,u=new i(r.width,r.height);for(e=0;e<t.length;e+=1)u.addLayer(t[e].toLayer()).translate(-o,-s);return new a(u.render(),o,s)},t.exports=r},function(t,e,n){(function(e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function l(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var h=Object.prototype,f=h.hasOwnProperty,c=h.toString,p=u.Symbol,d=h.propertyIsEnumerable,m=p?p.isConcatSpreadable:void 0;function y(t){return v(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?c.call(t):"";return e==i||e==o}(t)}(t)}(t)&&f.call(t,"callee")&&(!d.call(t,"callee")||c.call(t)==r)}(t)||!!(m&&t&&t[m])}var v=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=y),o||(o=[]);++a<s;){var u=e[a];n>0&&r(u)?n>1?t(u,n-1,r,i,o):l(o,u):i||(o[o.length]=u)}return o}(t,1):[]}}).call(this,n(3))},function(t,e,n){"use strict";var r=n(34),i=n(16),o={combine:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)(e=arguments[t])&&(n=n.concat(e));return n},contains:function(t,e){if(!t)return!1;for(var n=0;n<t.length;n+=1)if(r.deepEqual(t[n],e))return!0;return!1},cycle:function(t,e){if(!t||e<=0)return[];for(var n=[],r=t.length,i=0;i<e;i+=1)n.push(t[i%r]);return n},equals:function(t,e){return r.deepEqual(t,e)},count:function(t){return t&&t.length?t.length:0},cull:function(t,e){if(!t)return[];if(!e)return t;var n,r=[];for(n=0;n<t.length;n++)e[n%e.length]&&r.push(t[n]);return r},distinct:function(t){if(!t)return[];var e,n,r,i=[],a=[];for(e=0,n=t.length;e<n;e+=1)r=t[e],o.contains(a,r)||(a.push(r),i.push(t[e]));return i},first:function(t){return t&&0!==t.length?t[0]:null},get:function(t,e){return t&&0!==t.length?t[e]:null},interleave:function(){const t=Array.from(arguments).filter(t=>!!t);if(0===t.length)return[];const e=[];let n=0;for(;;){for(let r=0;r<t.length;r++){let i=t[r];if(!(i.length>n))return e;e.push(i[n])}n+=1}},last:function(t){return t&&0!==t.length?t[t.length-1]:null},pick:function(t,e,n){if(!t||0===t.length||e<=0)return[];n||0===n||(n=Math.random());for(var r=i.randomGenerator(n||0),o=[],a=0;a<e;a+=1)o.push(t[Math.floor(r(0,t.length))]);return o},randomSample:function(t,e,n){if(!t||0===t.length||e<=0)return[];n||0===n||(n=Math.random());var r=o.shuffle(t,n);return e?o.slice(r,0,e):r},repeat:function(t,e,n){if(!t)return[];if(Array.isArray(t)||(t=[t]),e<=0)return[];var r,i,o,a=[];if(n)for(r=0;r<t.length;r+=1)for(o=t[r],i=0;i<e;i+=1)a.push(o);else for(r=0;r<e;r+=1)a.push.apply(a,t);return a},rest:function(t){return t?t.slice(1):[]},reverse:function(t){return t?t.slice().reverse():[]},second:function(t){return!t||t.length<2?null:t[1]},shift:function(t,e){if(!t)return[];e%=t.length;var n=t.slice(0,e),r=t.slice(e);return r.push.apply(r,n),r},shuffle:function(t,e){var n,r,o,a;for(e||0===e||(e=Math.random()),a=i.randomGenerator(e||0),n=(t=t.slice()).length-1;n>0;n--)r=Math.floor(a(0,n+1)),o=t[n],t[n]=t[r],t[r]=o;return t},slice:function(t,e,n,r){return t?r?(i=t.slice(0,e),o=t.slice(e+n),i.push.apply(i,o),i):t.slice(e,e+n):[];var i,o},sort:function(t,e){if(!t)return[];if(e){if("string"==typeof e)return t.slice().sort(function(t,n){return t[e]>n[e]?1:t[e]===n[e]?0:-1});if("function"==typeof e)return t.slice().sort(e)}return t&&void 0!==t[0]&&null!==t[0]&&"number"==typeof t[0]?t.slice().sort(function(t,e){return t-e}):t.slice().sort()},switch:function(t){var e=arguments.length-1;return(t%=e)<0&&(t+=e),arguments[t+1]},takeEvery:function(t,e,n){if(!t)return[];var r,i=[];for(n=n||0,r=0;r<t.length;r+=1)r%e===n&&i.push(t[r]);return i},zipMap:function(t,e){var n,r,i,o={},a=Math.min(t.length,e.length);for(n=0;n<a;n+=1)r=t[n],i=e[n],o[r]=i;return o}};t.exports=o},function(t,e,n){"use strict";var r=function(t){if(t<0){for(var e=r(Math.abs(t)),n=0;n<23;n+=1)e();return r(e(0,1e4))}return function(e,n){return(e=e||0)+(t=(9301*t+49297)%233280)/233280*((n=n||1)-e)}};e.randomGenerator=r},function(t,e,n){"use strict";var r=n(36),i=n(16),o=n(10),a={},s=2*Math.PI;a.abs=Math.abs,a.accumulate=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)||(t=[t]),!t||0===t.length)return[0];var e,n=[],r=0;for(e=0;e<t.length;e++)n.push(r),r+=t[e];return n},a.add=function(t,e){return 2===arguments.length?t+e:r(arguments,function(t,e){return t+e},0)},a.and=function(t,e){var n=arguments.length;if(2===n)return t&&e;if(1===n)return!!t;if(0===n)throw new Error("Wrong number of arguments");return r(arguments,function(t,e){return t&&e},!0)},a.average=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)||(t=[t]),!t||0===t.length)return 0;var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n/t.length},a.boolean=function(t){return!!t},a.ceil=Math.ceil,a.clamp=function(t,e,n){return e="number"==typeof e?e:0,n="number"==typeof n?n:1,t<e?e:t>n?n:t},a.compare=function(t,e,n){if("<"===n)return t<e;if(">"===n)return t>e;if("<="===n)return t<=e;if(">="===n)return t>=e;if("=="===n)return t===e;if("!="===n)return t!==e;throw new Error("Unknown comparison operation "+n)},a.cos=Math.cos,a.degrees=function(t){return 180*t/Math.PI},a.divide=function(t,e){var n=arguments.length;function i(t){if(0===t)throw new Error("Divide by zero")}if(2===n)return i(e),t/e;if(1===n)return i(t),1/t;if(0===n)throw new Error("Wrong number of arguments");return r([].slice.call(arguments,1),function(t,e){return i(e),t/e},arguments[0])},a.e=function(){return Math.E},a.even=function(t){return t%2==0},a.floor=Math.floor,a.integer=function(t){return 0|t},a.log=function(t){return t>0?Math.log(t):-Math.log(-t)},a.makeNumbers=function(t,e){if(!t)return[];e||(e="");var n,r,i=[],o=t.split(e);for(n=0;n<o.length;n+=1)(0===(r=parseFloat(o[n]))||r)&&i.push(r);return i},a.max=function(){var t=arguments;if(1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),0===t.length)throw new Error("Wrong number of arguments");return Math.max.apply(null,t)},a.min=function(){var t=arguments;if(1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),0===t.length)throw new Error("Wrong number of arguments");return Math.min.apply(null,t)},a.mod=function(t,e){return t%e},a.multiply=function(t,e){var n=arguments.length;return 2===n?t*e:1===n?t:r(arguments,function(t,e){return t*e},1)},a.negate=function(t){return-t},a.not=function(t){return!t},a.number=function(t){return t},a.odd=function(t){return t%2!=0},a.or=function(t,e){var n=arguments.length;if(2===n)return t||e;if(1===n)return!!t;if(0===n)throw new Error("Wrong number of arguments");return r(arguments,function(t,e){return t||e},!1)},a.perlinNoise=function(t,e,n){return o.math.noise(t,e,n)},a.pi=function(){return Math.PI},a.pow=Math.pow,a.radians=function(t){return t*Math.PI/180},a.randomNumbers=function(t,e,n,r){var o,a=arguments.length;if((a<4||!r&&0!==r)&&(r=Math.random()),3===a||4===a?(e=e||0,n=n||(0===n?0:1)):2===a?(n=e||(0===e?0:1),e=0):1===a&&(e=0,n=1),n<e){var s=n;n=e,e=s}for(var u=n-e,l=[],h=i.randomGenerator(r||0),f=0;f<t;f+=1)o=e+h(0,1)*u,l.push(o);return l},a.range=function(t,e,n,r){if(t===e)return[];if(0!==n&&(n=n||(t<e?1:-1)),n>0&&t>e)return[];if(n<0&&t<e)return[];if(0===n)return[];var i,o=[];if(t<e)if(r)for(i=t;i<=e;i+=n)o.push(i);else for(i=t;i<e;i+=n)o.push(i);else if(r)for(i=t;i>=e;i+=n)o.push(i);else for(i=t;i>e;i+=n)o.push(i);return o},a.round=function(t,e){return(e|=0)?Math.round(t/e)*e:Math.round(t)},a.sample=function(t,e,n,r){var i,o,a=[];for(a.length=t,i=r?(n-e)/t:(n-e)/(t-1),o=0;o<t;o+=1)a[o]=e+o*i;return a},a.sineWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=(n-e)/2;return e+o+Math.sin((i+t)*s/r)*o},a.squareWave=function(t,e,n,r,i){return void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),(t+i)%r<r/2?n:e},a.triangleWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=0,a=t+i+r/4;return a%r!=0&&(o=a*(s/r)%s),o<0&&(o+=s),2*((n-e)/2)*(1-Math.abs(o/s*2-1))+e},a.sawtoothWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=0,a=t+i;return a%r!=0&&(o=a*(s/r)%s),o<0&&(o+=s),o/s*2*((n-e)/2)+e},a.sign=function(t){return t>0?1:0===t?0:-1},a.sin=Math.sin,a.sqrt=Math.sqrt,a.subtract=function(t,e){var n=arguments.length;if(2===n)return t-e;if(1===n)return-t;if(0===n)throw new Error("Wrong number of arguments");return r([].slice.call(arguments,1),function(t,e){return t-e},arguments[0])},a.tan=Math.tan,a.total=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)?0===arguments.length&&(t=[]):t=[t],0===t.length)return 0;var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n},a.xor=function(t,e){if(2===arguments.length)return!!(t^e);throw new Error("Wrong number of arguments")},t.exports=a},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],h=!1,f=-1;function c(){h&&u&&(h=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!h){var t=s(c);h=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||h||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t,n,r,i){!function(t,n){n(e)}(0,function(e){"use strict";function o(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}var a=function(t){var e=o(arguments,1);return function(){var n=o(arguments);return t.apply(null,e.concat(n))}},s=function(t){return function(){var e=o(arguments),n=e.pop();t.call(this,e,n)}};function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var l="function"==typeof t&&t,h="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function c(t){return function(e){var n=o(arguments,1);t(function(){e.apply(null,n)})}}var p=c(l?t:h?n.nextTick:f);function d(t){return s(function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}u(r)&&"function"==typeof r.then?r.then(function(t){m(n,null,t)},function(t){m(n,t.message?t:new Error(t))}):n(null,r)})}function m(t,e,n){try{t(e,n)}catch(t){p(y,t)}}function y(t){throw t}var v="function"==typeof Symbol;function g(t){return v&&"AsyncFunction"===t[Symbol.toStringTag]}function x(t){return g(t)?d(t):t}function P(t){return function(e){var n=o(arguments,1),r=s(function(n,r){var i=this;return t(e,function(t,e){x(t).apply(i,n.concat(e))},r)});return n.length?r.apply(this,n):r}}var b="object"==typeof r&&r&&r.Object===Object&&r,w="object"==typeof self&&self&&self.Object===Object&&self,C=b||w||Function("return this")(),_=C.Symbol,I=Object.prototype,E=I.hasOwnProperty,T=I.toString,O=_?_.toStringTag:void 0;var L=Object.prototype.toString;var N="[object Null]",A="[object Undefined]",S=_?_.toStringTag:void 0;function M(t){return null==t?void 0===t?A:N:S&&S in Object(t)?function(t){var e=E.call(t,O),n=t[O];try{t[O]=void 0;var r=!0}catch(t){}var i=T.call(t);return r&&(e?t[O]=n:delete t[O]),i}(t):function(t){return L.call(t)}(t)}var X="[object AsyncFunction]",D="[object Function]",Y="[object GeneratorFunction]",k="[object Proxy]";var B=9007199254740991;function R(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=B}function F(t){return null!=t&&R(t.length)&&!function(t){if(!u(t))return!1;var e=M(t);return e==D||e==Y||e==X||e==k}(t)}var j={};function W(){}function z(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var q="function"==typeof Symbol&&Symbol.iterator,U=function(t){return q&&t[q]&&t[q]()};function Z(t){return null!=t&&"object"==typeof t}var H="[object Arguments]";function V(t){return Z(t)&&M(t)==H}var G=Object.prototype,$=G.hasOwnProperty,J=G.propertyIsEnumerable,Q=V(function(){return arguments}())?V:function(t){return Z(t)&&$.call(t,"callee")&&!J.call(t,"callee")},K=Array.isArray;var tt="object"==typeof e&&e&&!e.nodeType&&e,et=tt&&"object"==typeof i&&i&&!i.nodeType&&i,nt=et&&et.exports===tt?C.Buffer:void 0,rt=(nt?nt.isBuffer:void 0)||function(){return!1},it=9007199254740991,ot=/^(?:0|[1-9]\d*)$/;function at(t,e){var n=typeof t;return!!(e=null==e?it:e)&&("number"==n||"symbol"!=n&&ot.test(t))&&t>-1&&t%1==0&&t<e}var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var ut="object"==typeof e&&e&&!e.nodeType&&e,lt=ut&&"object"==typeof i&&i&&!i.nodeType&&i,ht=lt&&lt.exports===ut&&b.process,ft=function(){try{var t=lt&&lt.require&&lt.require("util").types;return t||ht&&ht.binding&&ht.binding("util")}catch(t){}}(),ct=ft&&ft.isTypedArray,pt=ct?function(t){return function(e){return t(e)}}(ct):function(t){return Z(t)&&R(t.length)&&!!st[M(t)]},dt=Object.prototype.hasOwnProperty;function mt(t,e){var n=K(t),r=!n&&Q(t),i=!n&&!r&&rt(t),o=!n&&!r&&!i&&pt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!dt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||at(l,u))||s.push(l);return s}var yt=Object.prototype;var vt=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),gt=Object.prototype.hasOwnProperty;function xt(t){if(!function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yt)}(t))return vt(t);var e=[];for(var n in Object(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pt(t){return F(t)?mt(t):xt(t)}function bt(t){if(F(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e=U(t);return e?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(e):function(t){var e=Pt(t),n=-1,r=e.length;return function(){var i=e[++n];return n<r?{value:t[i],key:i}:null}}(t)}function wt(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Ct(t){return function(e,n,r){if(r=z(r||W),t<=0||!e)return r(null);var i=bt(e),o=!1,a=0,s=!1;function u(t,e){if(a-=1,t)o=!0,r(t);else{if(e===j||o&&a<=0)return o=!0,r(null);s||l()}}function l(){for(s=!0;a<t&&!o;){var e=i();if(null===e)return o=!0,void(a<=0&&r(null));a+=1,n(e.value,e.key,wt(u))}s=!1}l()}}function _t(t,e,n,r){Ct(e)(t,x(n),r)}function It(t,e){return function(n,r,i){return t(n,e,r,i)}}function Et(t,e,n){n=z(n||W);var r=0,i=0,o=t.length;function a(t,e){t?n(t):++i!==o&&e!==j||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,wt(a))}var Tt=It(_t,1/0),Ot=function(t,e,n){(F(t)?Et:Tt)(t,x(e),n)};function Lt(t){return function(e,n,r){return t(Ot,e,x(n),r)}}function Nt(t,e,n,r){r=r||W,e=e||[];var i=[],o=0,a=x(n);t(e,function(t,e,n){var r=o++;a(t,function(t,e){i[r]=e,n(t)})},function(t){r(t,i)})}var At=Lt(Nt),St=P(At);function Mt(t){return function(e,n,r,i){return t(Ct(n),e,x(r),i)}}var Xt=Mt(Nt),Dt=It(Xt,1),Yt=P(Dt);function kt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var Bt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function Rt(t,e){return t&&Bt(t,e,Pt)}function Ft(t){return t!=t}function jt(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Ft,n)}var Wt=function(t,e,n){"function"==typeof e&&(n=e,e=null),n=z(n||W);var r=Pt(t).length;if(!r)return n(null);e||(e=r);var i={},a=0,s=!1,u=Object.create(null),l=[],h=[],f={};function c(t,e){l.push(function(){!function(t,e){if(s)return;var r=wt(function(e,r){if(a--,arguments.length>2&&(r=o(arguments,1)),e){var l={};Rt(i,function(t,e){l[e]=t}),l[t]=r,s=!0,u=Object.create(null),n(e,l)}else i[t]=r,function(t){kt(u[t]||[],function(t){t()}),p()}(t)});a++;var l=x(e[e.length-1]);e.length>1?l(i,r):l(r)}(t,e)})}function p(){if(0===l.length&&0===a)return n(null,i);for(;l.length&&a<e;){l.shift()()}}function d(e){var n=[];return Rt(t,function(t,r){K(t)&&jt(t,e,0)>=0&&n.push(r)}),n}Rt(t,function(e,n){if(!K(e))return c(n,[e]),void h.push(n);var r=e.slice(0,e.length-1),i=r.length;if(0===i)return c(n,e),void h.push(n);f[n]=i,kt(r,function(o){if(!t[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(t,e){var n=u[t];n||(n=u[t]=[]);n.push(e)}(o,function(){0===--i&&c(n,e)})})}),function(){var t,e=0;for(;h.length;)t=h.pop(),e++,kt(d(t),function(t){0==--f[t]&&h.push(t)});if(e!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function zt(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qt="[object Symbol]";var Ut=1/0,Zt=_?_.prototype:void 0,Ht=Zt?Zt.toString:void 0;function Vt(t){if("string"==typeof t)return t;if(K(t))return zt(t,Vt)+"";if(function(t){return"symbol"==typeof t||Z(t)&&M(t)==qt}(t))return Ht?Ht.call(t):"";var e=t+"";return"0"==e&&1/t==-Ut?"-0":e}function Gt(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(t,e,n)}var $t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Jt="[\\ud800-\\udfff]",Qt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Kt="\\ud83c[\\udffb-\\udfff]",te="[^\\ud800-\\udfff]",ee="(?:\\ud83c[\\udde6-\\uddff]){2}",ne="[\\ud800-\\udbff][\\udc00-\\udfff]",re="(?:"+Qt+"|"+Kt+")"+"?",ie="[\\ufe0e\\ufe0f]?"+re+("(?:\\u200d(?:"+[te,ee,ne].join("|")+")[\\ufe0e\\ufe0f]?"+re+")*"),oe="(?:"+[te+Qt+"?",Qt,ee,ne,Jt].join("|")+")",ae=RegExp(Kt+"(?="+Kt+")|"+oe+ie,"g");function se(t){return function(t){return $t.test(t)}(t)?function(t){return t.match(ae)||[]}(t):function(t){return t.split("")}(t)}var ue=/^\s+|\s+$/g;function le(t,e,n){if((t=function(t){return null==t?"":Vt(t)}(t))&&(n||void 0===e))return t.replace(ue,"");if(!t||!(e=Vt(e)))return t;var r=se(t),i=se(e);return Gt(r,function(t,e){for(var n=-1,r=t.length;++n<r&&jt(e,t[n],0)>-1;);return n}(r,i),function(t,e){for(var n=t.length;n--&&jt(e,t[n],0)>-1;);return n}(r,i)+1).join("")}var he=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,fe=/,/,ce=/(=.+)?(\s*)$/,pe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function de(t,e){var n={};Rt(t,function(t,e){var r,i=g(t),o=!i&&1===t.length||i&&0===t.length;if(K(t))r=t.slice(0,-1),t=t[t.length-1],n[e]=r.concat(r.length>0?a:t);else if(o)n[e]=t;else{if(r=function(t){return t=(t=(t=(t=t.toString().replace(pe,"")).match(he)[2].replace(" ",""))?t.split(fe):[]).map(function(t){return le(t.replace(ce,""))})}(t),0===t.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[e]=r.concat(a)}function a(e,n){var i=zt(r,function(t){return e[t]});i.push(n),x(t).apply(null,i)}}),Wt(n,e)}function me(){this.head=this.tail=null,this.length=0}function ye(t,e){t.length=1,t.head=t.tail=e}function ve(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=x(t),i=0,o=[],a=!1;function s(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(h.started=!0,K(t)||(t=[t]),0===t.length&&h.idle())return p(function(){h.drain()});for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||W};e?h._tasks.unshift(o):h._tasks.push(o)}a||(a=!0,p(function(){a=!1,h.process()}))}function u(t){return function(e){i-=1;for(var n=0,r=t.length;n<r;n++){var a=t[n],s=jt(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=e&&h.error(e,a.data)}i<=h.concurrency-h.buffer&&h.unsaturated(),h.idle()&&h.drain(),h.process()}}var l=!1,h={_tasks:new me,concurrency:e,payload:n,saturated:W,unsaturated:W,buffer:e/4,empty:W,drain:W,error:W,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){h.drain=W,h._tasks.empty()},unshift:function(t,e){s(t,!0,e)},remove:function(t){h._tasks.remove(t)},process:function(){if(!l){for(l=!0;!h.paused&&i<h.concurrency&&h._tasks.length;){var t=[],e=[],n=h._tasks.length;h.payload&&(n=Math.min(n,h.payload));for(var a=0;a<n;a++){var s=h._tasks.shift();t.push(s),o.push(s),e.push(s.data)}i+=1,0===h._tasks.length&&h.empty(),i===h.concurrency&&h.saturated();var f=wt(u(t));r(e,f)}l=!1}},length:function(){return h._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return h._tasks.length+i===0},pause:function(){h.paused=!0},resume:function(){!1!==h.paused&&(h.paused=!1,p(h.process))}};return h}function ge(t,e){return ve(t,1,e)}me.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},me.prototype.empty=function(){for(;this.head;)this.shift();return this},me.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},me.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},me.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ye(this,t)},me.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ye(this,t)},me.prototype.shift=function(){return this.head&&this.removeLink(this.head)},me.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},me.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},me.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var xe=It(_t,1);function Pe(t,e,n,r){r=z(r||W);var i=x(n);xe(t,function(t,n,r){i(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})}function be(){var t=zt(arguments,x);return function(){var e=o(arguments),n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=W,Pe(t,e,function(t,e,r){e.apply(n,t.concat(function(t){var e=o(arguments,1);r(t,e)}))},function(t,e){r.apply(n,[t].concat(e))})}}var we=function(){return be.apply(null,o(arguments).reverse())},Ce=Array.prototype.concat,_e=function(t,e,n,r){r=r||W;var i=x(n);Xt(t,e,function(t,e){i(t,function(t){return t?e(t):e(null,o(arguments,1))})},function(t,e){for(var n=[],i=0;i<e.length;i++)e[i]&&(n=Ce.apply(n,e[i]));return r(t,n)})},Ie=It(_e,1/0),Ee=It(_e,1),Te=function(){var t=o(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function Oe(t){return t}function Le(t,e){return function(n,r,i,o){o=o||W;var a,s=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):t(i)&&!a?(s=!0,a=e(!0,n),o(null,j)):o()})},function(t){t?o(t):o(null,s?a:e(!1))})}}function Ne(t,e){return e}var Ae=Lt(Le(Oe,Ne)),Se=Mt(Le(Oe,Ne)),Me=It(Se,1);function Xe(t){return function(e){var n=o(arguments,1);n.push(function(e){var n=o(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&kt(n,function(e){console[t](e)}))}),x(e).apply(null,n)}}var De=Xe("dir");function Ye(t,e,n){n=wt(n||W);var r=x(t),i=x(e);function a(t){if(t)return n(t);var e=o(arguments,1);e.push(s),i.apply(this,e)}function s(t,e){return t?n(t):e?void r(a):n(null)}s(null,!0)}function ke(t,e,n){n=wt(n||W);var r=x(t),i=function(t){if(t)return n(t);var a=o(arguments,1);if(e.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Be(t,e,n){ke(t,function(){return!e.apply(this,arguments)},n)}function Re(t,e,n){n=wt(n||W);var r=x(e),i=x(t);function o(t){if(t)return n(t);i(a)}function a(t,e){return t?n(t):e?void r(o):n(null)}i(a)}function Fe(t){return function(e,n,r){return t(e,r)}}function je(t,e,n){Ot(t,Fe(x(e)),n)}function We(t,e,n,r){Ct(e)(t,Fe(x(n)),r)}var ze=It(We,1);function qe(t){return g(t)?t:s(function(e,n){var r=!0;e.push(function(){var t=arguments;r?p(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),r=!1})}function Ue(t){return!t}var Ze=Lt(Le(Ue,Ue)),He=Mt(Le(Ue,Ue)),Ve=It(He,1);function Ge(t){return function(e){return null==e?void 0:e[t]}}function $e(t,e,n,r){var i=new Array(e.length);t(e,function(t,e,r){n(t,function(t,n){i[e]=!!n,r(t)})},function(t){if(t)return r(t);for(var n=[],o=0;o<e.length;o++)i[o]&&n.push(e[o]);r(null,n)})}function Je(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())})},function(t){t?r(t):r(null,zt(i.sort(function(t,e){return t.index-e.index}),Ge("value")))})}function Qe(t,e,n,r){(F(e)?$e:Je)(t,e,x(n),r||W)}var Ke=Lt(Qe),tn=Mt(Qe),en=It(tn,1);function nn(t,e){var n=wt(e||W),r=x(qe(t));!function t(e){if(e)return n(e);r(t)}()}var rn=function(t,e,n,r){r=r||W;var i=x(n);Xt(t,e,function(t,e){i(t,function(n,r){return n?e(n):e(null,{key:r,val:t})})},function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var a=e[o].key,s=e[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(t,n)})},on=It(rn,1/0),an=It(rn,1),sn=Xe("log");function un(t,e,n,r){r=z(r||W);var i={},o=x(n);_t(t,e,function(t,e,n){o(t,e,function(t,r){if(t)return n(t);i[e]=r,n()})},function(t){r(t,i)})}var ln=It(un,1/0),hn=It(un,1);function fn(t,e){return e in t}function cn(t,e){var n=Object.create(null),r=Object.create(null);e=e||Oe;var i=x(t),a=s(function(t,a){var s=e.apply(null,t);fn(n,s)?p(function(){a.apply(null,n[s])}):fn(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,t.concat(function(){var t=o(arguments);n[s]=t;var e=r[s];delete r[s];for(var i=0,a=e.length;i<a;i++)e[i].apply(null,t)})))});return a.memo=n,a.unmemoized=t,a}var pn=c(h?n.nextTick:l?t:f);function dn(t,e,n){n=n||W;var r=F(e)?[]:{};t(e,function(t,e,n){x(t)(function(t,i){arguments.length>2&&(i=o(arguments,1)),r[e]=i,n(t)})},function(t){n(t,r)})}function mn(t,e){dn(Ot,t,e)}function yn(t,e,n){dn(Ct(e),t,n)}var vn=function(t,e){var n=x(t);return ve(function(t,e){n(t[0],e)},e,1)},gn=function(t,e){var n=vn(t,e);return n.push=function(t,e,r){if(null==r&&(r=W),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,K(t)||(t=[t]),0===t.length)return p(function(){n.drain()});e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,a=t.length;o<a;o++){var s={data:t[o],priority:e,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}p(n.process)},delete n.unshift,n};function xn(t,e){if(e=z(e||W),!K(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)x(t[n])(e)}function Pn(t,e,n,r){Pe(o(t).reverse(),e,n,r)}function bn(t){var e=x(t);return s(function(t,n){return t.push(function(t,e){var r;t?n(null,{error:t}):(r=arguments.length<=2?e:o(arguments,1),n(null,{value:r}))}),e.apply(this,t)})}function wn(t){var e;return K(t)?e=zt(t,bn):(e={},Rt(t,function(t,n){e[n]=bn.call(this,t)})),e}function Cn(t,e,n,r){Qe(t,e,function(t,e){n(t,function(t,n){e(t,!n)})},r)}var _n=Lt(Cn),In=Mt(Cn),En=It(In,1);function Tn(t){return function(){return t}}function On(t,e,n){var r=5,i=0,o={times:r,intervalFunc:Tn(i)};if(arguments.length<3&&"function"==typeof t?(n=e||W,e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||r,t.intervalFunc="function"==typeof e.interval?e.interval:Tn(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||r}}(o,t),n=n||W),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var a=x(e),s=1;!function t(){a(function(e){e&&s++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(s)):n.apply(null,arguments)})}()}var Ln=function(t,e){e||(e=t,t=null);var n=x(e);return s(function(e,r){function i(t){n.apply(null,e.concat(t))}t?On(t,i,r):On(i,r)})};function Nn(t,e){dn(xe,t,e)}var An=Lt(Le(Boolean,Oe)),Sn=Mt(Le(Boolean,Oe)),Mn=It(Sn,1);function Xn(t,e,n){var r=x(e);function i(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}At(t,function(t,e){r(t,function(n,r){if(n)return e(n);e(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);n(null,zt(e.sort(i),Ge("value")))})}function Dn(t,e,n){var r=x(t);return s(function(i,o){var a,s=!1;i.push(function(){s||(o.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)},e),r.apply(null,i)})}var Yn=Math.ceil,kn=Math.max;function Bn(t,e,n,r){var i=x(n);Xt(function(t,e,n,r){for(var i=-1,o=kn(Yn((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(0,t,1),e,i,r)}var Rn=It(Bn,1/0),Fn=It(Bn,1);function jn(t,e,n,r){arguments.length<=3&&(r=n,n=e,e=K(t)?[]:{}),r=z(r||W);var i=x(n);Ot(t,function(t,n,r){i(e,t,n,r)},function(t){r(t,e)})}function Wn(t,e){var n,r=null;e=e||W,ze(t,function(t,e){x(t)(function(t,i){n=arguments.length>2?o(arguments,1):i,r=t,e(!t)})},function(){e(r,n)})}function zn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function qn(t,e,n){n=wt(n||W);var r=x(e);if(!t())return n(null);var i=function(e){if(e)return n(e);if(t())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function Un(t,e,n){qn(function(){return!t.apply(this,arguments)},e,n)}var Zn=function(t,e){if(e=z(e||W),!K(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function r(e){var r=x(t[n++]);e.push(wt(i)),r.apply(null,e)}function i(i){if(i||n===t.length)return e.apply(null,arguments);r(o(arguments,1))}r([])},Hn={apply:a,applyEach:St,applyEachSeries:Yt,asyncify:d,auto:Wt,autoInject:de,cargo:ge,compose:we,concat:Ie,concatLimit:_e,concatSeries:Ee,constant:Te,detect:Ae,detectLimit:Se,detectSeries:Me,dir:De,doDuring:Ye,doUntil:Be,doWhilst:ke,during:Re,each:je,eachLimit:We,eachOf:Ot,eachOfLimit:_t,eachOfSeries:xe,eachSeries:ze,ensureAsync:qe,every:Ze,everyLimit:He,everySeries:Ve,filter:Ke,filterLimit:tn,filterSeries:en,forever:nn,groupBy:on,groupByLimit:rn,groupBySeries:an,log:sn,map:At,mapLimit:Xt,mapSeries:Dt,mapValues:ln,mapValuesLimit:un,mapValuesSeries:hn,memoize:cn,nextTick:pn,parallel:mn,parallelLimit:yn,priorityQueue:gn,queue:vn,race:xn,reduce:Pe,reduceRight:Pn,reflect:bn,reflectAll:wn,reject:_n,rejectLimit:In,rejectSeries:En,retry:On,retryable:Ln,seq:be,series:Nn,setImmediate:p,some:An,someLimit:Sn,someSeries:Mn,sortBy:Xn,timeout:Dn,times:Rn,timesLimit:Bn,timesSeries:Fn,transform:jn,tryEach:Wn,unmemoize:zn,until:Un,waterfall:Zn,whilst:qn,all:Ze,allLimit:He,allSeries:Ve,any:An,anyLimit:Sn,anySeries:Mn,find:Ae,findLimit:Se,findSeries:Me,forEach:je,forEachSeries:ze,forEachLimit:We,forEachOf:Ot,forEachOfSeries:xe,forEachOfLimit:_t,inject:Pe,foldl:Pe,foldr:Pn,select:Ke,selectLimit:tn,selectSeries:en,wrapSync:d};e.default=Hn,e.apply=a,e.applyEach=St,e.applyEachSeries=Yt,e.asyncify=d,e.auto=Wt,e.autoInject=de,e.cargo=ge,e.compose=we,e.concat=Ie,e.concatLimit=_e,e.concatSeries=Ee,e.constant=Te,e.detect=Ae,e.detectLimit=Se,e.detectSeries=Me,e.dir=De,e.doDuring=Ye,e.doUntil=Be,e.doWhilst=ke,e.during=Re,e.each=je,e.eachLimit=We,e.eachOf=Ot,e.eachOfLimit=_t,e.eachOfSeries=xe,e.eachSeries=ze,e.ensureAsync=qe,e.every=Ze,e.everyLimit=He,e.everySeries=Ve,e.filter=Ke,e.filterLimit=tn,e.filterSeries=en,e.forever=nn,e.groupBy=on,e.groupByLimit=rn,e.groupBySeries=an,e.log=sn,e.map=At,e.mapLimit=Xt,e.mapSeries=Dt,e.mapValues=ln,e.mapValuesLimit=un,e.mapValuesSeries=hn,e.memoize=cn,e.nextTick=pn,e.parallel=mn,e.parallelLimit=yn,e.priorityQueue=gn,e.queue=vn,e.race=xn,e.reduce=Pe,e.reduceRight=Pn,e.reflect=bn,e.reflectAll=wn,e.reject=_n,e.rejectLimit=In,e.rejectSeries=En,e.retry=On,e.retryable=Ln,e.seq=be,e.series=Nn,e.setImmediate=p,e.some=An,e.someLimit=Sn,e.someSeries=Mn,e.sortBy=Xn,e.timeout=Dn,e.times=Rn,e.timesLimit=Bn,e.timesSeries=Fn,e.transform=jn,e.tryEach=Wn,e.unmemoize=zn,e.until=Un,e.waterfall=Zn,e.whilst=qn,e.all=Ze,e.allLimit=He,e.allSeries=Ve,e.any=An,e.anyLimit=Sn,e.anySeries=Mn,e.find=Ae,e.findLimit=Se,e.findSeries=Me,e.forEach=je,e.forEachSeries=ze,e.forEachLimit=We,e.forEachOf=Ot,e.forEachOfSeries=xe,e.forEachOfLimit=_t,e.inject=Pe,e.foldl=Pe,e.foldr=Pn,e.select=Ke,e.selectLimit=tn,e.selectSeries=en,e.wrapSync=d,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,n(38).setImmediate,n(18),n(3),n(11)(t))},function(t,e,n){"use strict";
/*!
 * Image processing based on Pixastic library:
 *
 * Pixastic - JavaScript Image Processing
 * http://pixastic.com/
 * Copyright 2012, Jacob Seidelin
 *
 * Dual licensed under the MPL 1.1 or GPLv3 licenses.
 * http://pixastic.com/license-mpl.txt
 * http://pixastic.com/license-gpl-3.0.txt
 *
 */var r=n(40),i=n(12),o=i.clamp;function a(t,e){if(!t)return e;var n,r={};for(n in e)e.hasOwnProperty(n)&&(void 0===t[n]?r[n]=e[n]:r[n]=t[n]);return r}function s(t,e,n){return n<t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)}function u(t,e,n,r,i,o,a,s){var u,l,h,f,c,p,d,m,y,v,g,x,P,b,w,C,_,I,E,T,O,L,N=i[0][0],A=i[0][1],S=i[0][2],M=i[1][0],X=i[1][1],D=i[1][2],Y=i[2][0],k=i[2][1],B=i[2][2];for(l=0;l<r;l+=1)for(y=(m=l*n*4)-4*n,v=m+4*n,l<1&&(y=m),l>=n-1&&(v=m),u=0;u<n;u+=1)h=4*(l*n+u),x=(g=4*u)-4,P=g+4,u<1&&(x=g),u>=n-1&&(P=g),w=y+g,C=y+P,_=m+x,I=m+g,E=m+P,T=v+x,O=v+g,L=v+P,f=t[b=y+x]*N+t[w]*A+t[C]*S+t[_]*M+t[I]*X+t[E]*D+t[T]*Y+t[O]*k+t[L]*B,c=t[b+1]*N+t[w+1]*A+t[C+1]*S+t[_+1]*M+t[I+1]*X+t[E+1]*D+t[T+1]*Y+t[O+1]*k+t[L+1]*B,p=t[b+2]*N+t[w+2]*A+t[C+2]*S+t[_+2]*M+t[I+2]*X+t[E+2]*D+t[T+2]*Y+t[O+2]*k+t[L+2]*B,d=o?t[b+3]*N+t[w+3]*A+t[C+3]*S+t[_+3]*M+t[I+3]*X+t[E+3]*D+t[T+3]*Y+t[O+3]*k+t[L+3]*B:t[h+3],s&&(f=c=p=(f+c+p)/3),a&&(f=255-f,c=255-c,p=255-p),e[h]=f,e[h+1]=c,e[h+2]=p,e[h+3]=d}function l(t,e,n,r,i,o,a,s){var u,l,h,f,c,p,d,m,y,v,g,x,P,b,w,C,_,I,E,T,O,L,N,A,S,M,X,D,Y,k,B,R,F,j,W,z,q,U=i[0][0],Z=i[0][1],H=i[0][2],V=(i[0][3],i[0][4]),G=i[1][0],$=i[1][1],J=i[1][2],Q=(i[1][3],i[1][4]),K=i[2][0],tt=i[2][1],et=i[2][2],nt=(i[2][3],i[2][4]),rt=i[3][0],it=i[3][1],ot=i[3][2],at=(i[3][3],i[3][4]),st=i[4][0],ut=i[4][1],lt=i[4][2],ht=(i[4][3],i[4][4]);for(l=0;l<r;l+=1)for(y=(m=l*n*4)-4*n,g=m-4*n*2,v=m+4*n,x=m+4*n*2,l<1&&(y=m),l>=n-1&&(v=m),l<2&&(g=y),l>=n-2&&(x=v),u=0;u<n;u+=1)h=4*(l*n+u),b=(P=4*u)-4,w=P+4,C=P-8,_=P+8,u<1&&(b=P),u>=n-1&&(w=P),u<2&&(C=b),u>=n-2&&(_=w),E=g+b,T=g+P,O=g+w,g+_,L=y+C,N=y+b,A=y+P,S=y+w,y+_,M=m+C,X=m+b,D=m+P,Y=m+w,m+_,k=v+C,B=v+b,R=v+P,F=v+w,v+_,j=x+C,W=x+b,z=x+P,q=x+w,x+_,f=t[I=g+C]*U+t[E]*Z+t[T]*H+t[O]*V+t[T]*V+t[L]*G+t[N]*$+t[A]*J+t[S]*Q+t[A]*Q+t[M]*K+t[X]*tt+t[D]*et+t[Y]*nt+t[D]*nt+t[k]*rt+t[B]*it+t[R]*ot+t[F]*at+t[R]*at+t[j]*st+t[W]*ut+t[z]*lt+t[q]*ht+t[z]*ht,c=t[I+1]*U+t[E+1]*Z+t[T+1]*H+t[O+1]*V+t[T+1]*V+t[L+1]*G+t[N+1]*$+t[A+1]*J+t[S+1]*Q+t[A+1]*Q+t[M+1]*K+t[X+1]*tt+t[D+1]*et+t[Y+1]*nt+t[D+1]*nt+t[k+1]*rt+t[B+1]*it+t[R+1]*ot+t[F+1]*at+t[R+1]*at+t[j+1]*st+t[W+1]*ut+t[z+1]*lt+t[q+1]*ht+t[z+1]*ht,p=t[I+2]*U+t[E+2]*Z+t[T+2]*H+t[O+2]*V+t[T+2]*V+t[L+2]*G+t[N+2]*$+t[A+2]*J+t[S+2]*Q+t[A+2]*Q+t[M+2]*K+t[X+2]*tt+t[D+2]*et+t[Y+2]*nt+t[D+2]*nt+t[k+2]*rt+t[B+2]*it+t[R+2]*ot+t[F+2]*at+t[R+2]*at+t[j+2]*st+t[W+2]*ut+t[z+2]*lt+t[q+2]*ht+t[z+2]*ht,d=o?t[I+3]*U+t[E+3]*Z+t[T+3]*H+t[O+3]*V+t[T+3]*V+t[L+3]*G+t[N+3]*$+t[A+3]*J+t[S+3]*Q+t[A+3]*Q+t[M+3]*K+t[X+3]*tt+t[D+3]*et+t[Y+3]*nt+t[D+3]*nt+t[k+3]*rt+t[B+3]*it+t[R+3]*ot+t[F+3]*at+t[R+3]*at+t[j+3]*st+t[W+3]*ut+t[z+3]*lt+t[q+3]*ht+t[z+3]*ht:t[h+3],s&&(f=c=p=(f+c+p)/3),a&&(f=255-f,c=255-c,p=255-p),e[h]=f,e[h+1]=c,e[h+2]=p,e[h+3]=d}function h(t,e){return[t[(e*=4)+0],t[e+1],t[e+2],t[e+3]]}function f(t,e,n){t[(e*=4)+0]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3]}function c(t,e,n,r,i,o,a){var s,u,l,c,p,d,m;for(n=i/2+(n||0),r=o/2+(r||0),s=0;s<o;s+=1)for(u=0;u<i;u+=1)l=u-n,c=s-r,p=(m=a(p=Math.sqrt(Math.pow(l,2)+Math.pow(c,2)),d=Math.atan2(c,l)))[0],d=m[1],f(e,u+s*i,h(t,Math.round(n+Math.cos(d)*p)+Math.round(r+Math.sin(d)*p)*i))}var p={invert:function(t,e,n,r){var i,o=n*r*4;for(i=0;i<o;i+=4)e[i]=255-t[i],e[i+1]=255-t[i+1],e[i+2]=255-t[i+2],e[i+3]=t[i+3]},sepia:function(t,e,n,r){var i,o,a,s,u=n*r*4;for(i=0;i<u;i+=4)o=t[i],a=t[i+1],s=t[i+2],e[i]=.393*o+.769*a+.189*s,e[i+1]=.349*o+.686*a+.168*s,e[i+2]=.272*o+.534*a+.131*s,e[i+3]=t[i+3]},solarize:function(t,e,n,r){var i,o,a,s,u=n*r*4;for(i=0;i<u;i+=4)o=t[i],a=t[i+1],s=t[i+2],e[i]=o>127?255-o:o,e[i+1]=a>127?255-a:a,e[i+2]=s>127?255-s:s,e[i+3]=t[i+3]},brightness:function(t,e,n,r,i){i=a(i,{brightness:1,contrast:0});var s,u,l,h,f,c=n*r*4,p=o(i.contrast,-1,1)/2,d=1+o(i.brightness,-1,1),m=d<0?-d:d,y=d<0?0:d;for(f=255*-((p=.5*Math.tan((p+1)*Math.PI/4))-.5),s=0;s<c;s+=4)u=((u=t[s])+u*m+y)*p+f,l=((l=t[s+1])+l*m+y)*p+f,h=((h=t[s+2])+h*m+y)*p+f,e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=t[s+3]},desaturate:function(t,e,n,r,i){var o,s,u,l,h,f=n*r*4;for("ITU-R BT.601"===(i=a(i,{method:"ITU-R BT.601"})).method?(u=.3,l=.59,h=.11):"ITU-R BT.709"===i.method&&(u=.2125,l=.7154,h=.0721),o=0;o<f;o+=4)s=t[o]*u+t[o+1]*l+t[o+2]*h,e[o]=s,e[o+1]=s,e[o+2]=s,e[o+3]=t[o+3]},lighten:function(t,e,n,r,i){i=a(i,{amount:.25});var s,u=n*r*4,l=1+o(i.amount,0,1);for(s=0;s<u;s+=4)e[s]=t[s]*l,e[s+1]=t[s+1]*l,e[s+2]=t[s+2]*l,e[s+3]=t[s+3]},noise:function(t,e,n,r,i){i=a(i,{amount:.5,strength:.5,mono:!1});var s,u,l,h,f,c=n*r*4,p=o(i.amount,0,1),d=o(i.strength,0,1),m=!!i.mono,y=Math.random;for(s=0;s<c;s+=4)l=t[s],h=t[s+1],f=t[s+2],(u=y())<p&&(m?(l+=u=d*(u/p*2-1)*255,h+=u,f+=u):(l+=d*y()*255,h+=d*y()*255,f+=d*y()*255)),e[s]=l,e[s+1]=h,e[s+2]=f,e[s+3]=t[s+3]},flipv:function(t,e,n,r){var i,o,a,s;for(o=0;o<r;o+=1)for(i=0;i<n;i+=1)a=4*(o*n+i),e[s=4*(o*n+(n-i-1))]=t[a],e[s+1]=t[a+1],e[s+2]=t[a+2],e[s+3]=t[a+3]},fliph:function(t,e,n,r){var i,o,a,s;for(o=0;o<r;o+=1)for(i=0;i<n;i+=1)a=4*(o*n+i),e[s=4*((r-o-1)*n+i)]=t[a],e[s+1]=t[a+1],e[s+2]=t[a+2],e[s+3]=t[a+3]},blur:function(t,e,n,i,o){o=a(o,{radius:10});for(var s=0;s<t.length;s+=1)e[s]=t[s];r(e,n,i,o.radius)},glow:function(t,e,n,r,i){var s,u,l,h,f=n*r*4,c=(i=a(i,{amount:.75,kernelSize:5})).amount,p=[];for(function(t,e,n,r,i){var a,s,u,l,h,f,c,p,d,m,y,v,g,x,P,b=[],w=[[1]];for(x=(i=o(i,3,13))+(g=-i/2+(i%2?.5:0)),u=1;u<13;u+=1)w[0][u]=0;for(u=1;u<13;u+=1)for(w[u]=[1],l=1;l<13;l+=1)w[u][l]=w[u-1][l]+w[u-1][l-1];for(P=w[i-1],u=0,v=0;u<i;u+=1)v+=P[u];for(u=0;u<i;u+=1)P[u]/=v;for(s=0;s<r;s+=1)for(a=0;a<n;a+=1){for(h=f=c=p=0,u=g;u<x;u+=1)m=a+u,y=s,v=P[u-g],m<0&&(m=0),m>=n&&(m=n-1),h+=t[d=4*(y*n+m)]*v,f+=t[d+1]*v,c+=t[d+2]*v,p+=t[d+3]*v;b[d=4*(s*n+a)]=h,b[d+1]=f,b[d+2]=c,b[d+3]=p}for(s=0;s<r;s+=1)for(a=0;a<n;a+=1){for(h=f=c=p=0,u=g;u<x;u+=1)m=a,y=s+u,v=P[u-g],y<0&&(y=0),y>=r&&(y=r-1),h+=b[d=4*(y*n+m)]*v,f+=b[d+1]*v,c+=b[d+2]*v,p+=b[d+3]*v;e[d=4*(s*n+a)]=h,e[d+1]=f,e[d+2]=c,e[d+3]=p}}(t,p,n,r,i.kernelSize),s=0;s<f;s+=4)u=t[s]+p[s]*c,l=t[s+1]+p[s+1]*c,h=t[s+2]+p[s+2]*c,u>255&&(u=255),l>255&&(l=255),h>255&&(h=255),e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=t[s+3]},convolve3x3:function(t,e,n,r,i){u(t,e,n,r,i.kernel)},convolve5x5:function(t,e,n,r,i){l(t,e,n,r,i.kernel)},sharpen3x3:function(t,e,n,r,i){i=a(i,{strength:1});var s=-o(i.strength,0,1);u(t,e,n,r,[[s,s,s],[s,1-8*s,s],[s,s,s]])},sharpen5x5:function(t,e,n,r,i){i=a(i,{strength:1});var s=-o(i.strength,0,1);l(t,e,n,r,[[s,s,s,s,s],[s,s,s,s,s],[s,s,1-24*s,s,s],[s,s,s,s,s],[s,s,s,s,s]])},soften3x3:function(t,e,n,r){var i=1/9;u(t,e,n,r,[[i,i,i],[i,i,i],[i,i,i]])},soften5x5:function(t,e,n,r){var i=.04;l(t,e,n,r,[[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i]])},crossedges:function(t,e,n,r,i){i=a(i,{strength:1});var s=5*o(i.strength,0,1);u(t,e,n,r,[[0,-s,0],[-s,0,s],[0,s,0]],!1,!0)},emboss:function(t,e,n,r,i){var o,s=n*r*4,l=(i=a(i,{amount:1,angle:0})).amount,h=i.angle,f=Math.cos(-h)*l,c=Math.sin(-h)*l,p=[];for(u(t,p,n,r,[[-f-c,-c,-c+f],[-f,0,f],[c-f,c,c+f]]),o=0;o<s;o+=4)e[o]=128+p[o],e[o+1]=128+p[o+1],e[o+2]=128+p[o+2],e[o+3]=t[o+3]},findedges:function(t,e,n,r){var i,o,a,s,l,h,f,c=n*r*4,p=[],d=[];for(u(t,p,n,r,[[-1,0,1],[-2,0,2],[-1,0,1]]),u(t,d,n,r,[[-1,-2,-1],[0,0,0],[1,2,1]]),i=0;i<c;i+=4)a=d[i],s=p[i+1],l=d[i+1],h=p[i+2],f=d[i+2],(o=p[i])<0&&(o=-o),a<0&&(a=-a),s<0&&(s=-s),l<0&&(l=-l),h<0&&(h=-h),f<0&&(f=-f),e[i]=255-.8*(o+a),e[i+1]=255-.8*(s+l),e[i+2]=255-.8*(h+f),e[i+3]=t[i+3]},edgeenhance3x3:function(t,e,n,r){var i=-1/9;u(t,e,n,r,[[i,i,i],[i,17/9,i],[i,i,i]])},edgeenhance5x5:function(t,e,n,r){var i=-.04;l(t,e,n,r,[[i,i,i,i,i],[i,i,i,i,i],[i,i,1.96,i,i],[i,i,i,i,i],[i,i,i,i,i]])},laplace3x3:function(t,e,n,r){u(t,e,n,r,[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],!1,!0,!0)},laplace5x5:function(t,e,n,r){l(t,e,n,r,[[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,24,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1]],!1,!0,!0)},rgbAdjust:function(t,e,n,r,i){i=a(i,{r:0,g:0,b:0,a:0});var s,u,l,h,f,c=n*r*4,p=255*o(i.r,-1,1),d=255*o(i.g,-1,1),m=255*o(i.b,-1,1),y=255*o(i.a,-1,1);for(s=0;s<c;s+=4)u=t[s]+p,l=t[s+1]+d,h=t[s+2]+m,f=t[s+3]+y,u<0&&(u=0),l<0&&(l=0),h<0&&(h=0),f<0&&(f=0),u>255&&(u=255),l>255&&(l=255),h>255&&(h=255),f>255&&(f=255),e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=f},colorfilter:function(t,e,n,r,i){var s,u,l,h,f,c,p,d,m,y,v,g=n*r*4,x=!!(i=a(i,{luminosity:!1,r:1,g:.5,b:0})).luminosity,P=o(i.r,0,1),b=o(i.g,0,1),w=o(i.b,0,1);for(s=0;s<g;s+=4)d=.3*(u=t[s]/255)+.59*(l=t[s+1]/255)+.11*(h=t[s+2]/255),u=(u+u*P)/2,l=(l+l*b)/2,h=(h+h*w)/2,x&&(f=c=u,l>c&&(c=l),h>c&&(c=h),l<f&&(f=l),h<f&&(f=h),v=(y=c-f)*((p=u===c?(l-h)/y%6:l===c?(h-u)/y+2:(u-l)/y+4)-(m=p>>0)),u=l=h=d-(.3*u+.59*l+.11*h),0===m?(u+=y,l+=v):1===m?(u+=y-v,l+=y):2===m?(l+=y,h+=v):3===m?(l+=y-v,h+=y):4===m?(u+=v,h+=y):5===m&&(u+=y,h+=y-v)),e[s]=255*u,e[s+1]=255*l,e[s+2]=255*h,e[s+3]=t[s+3]},hslAdjust:function(t,e,n,r,i){i=a(i,{h:.5,s:.3,l:.1,a:0});var s,u,l,h,f,c,p,d,m,y,v,g,x,P,b,w=n*r*4,C=o(i.h,-1,1),_=o(i.s,-1,1),I=o(i.l,-1,1),E=255*o(i.a,-1,1),T=1+_*(_<0?1:2),O=I<0?1+I:1-I,L=I<0?0:255*I;for(C=6*C%6,s=0;s<w;s+=4)u=t[s],l=t[s+1],h=t[s+2],f=t[s+3]+E,0===C&&0===_||(l>(c=u)&&(c=l),h>c&&(c=h),l<(p=u)&&(p=l),h<p&&(p=h),d=c-p,(v=(p+c)/510)>0&&d>0&&(v<=.5?((y=d/(c+p)*T)>1&&(y=1),g=v*(1+y)):((y=d/(510-c-p)*T)>1&&(y=1),g=v+y-v*y),(m=u===c?l===p?5+(c-h)/d+C:1-(c-l)/d+C:l===c?h===p?1+(c-u)/d+C:3-(c-h)/d+C:u===p?3+(c-l)/d+C:5-(c-u)/d+C)<0&&(m+=6),m>=6&&(m-=6),P=(g-(x=v+v-g))*(m-(b=m>>0)),0===b?(u=g,l=x+P,h=x):1===b?(u=g-P,l=g,h=x):2===b?(u=x,l=g,h=x+P):3===b?(u=x,l=g-P,h=g):4===b?(u=x+P,l=x,h=g):5===b&&(u=g,l=x,h=g-P),u*=255,l*=255,h*=255)),l=l*O+L,h=h*O+L,(u=u*O+L)<0&&(u=0),l<0&&(l=0),h<0&&(h=0),f<0&&(f=0),u>255&&(u=255),l>255&&(l=255),h>255&&(h=255),f>255&&(f=255),e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=f},posterize:function(t,e,n,r,i){i=a(i,{levels:5});var s,u=n*r*4,l=o(i.levels,2,256),h=256/l,f=256/(l-1);for(s=0;s<u;s+=4)e[s]=f*(t[s]/h>>0),e[s+1]=f*(t[s+1]/h>>0),e[s+2]=f*(t[s+2]/h>>0),e[s+3]=t[s+3]},removenoise:function(t,e,n,r){var i,o,a,s,u,l,h,f,c,p,d,m,y,v,g,x,P;for(o=0;o<r;o+=1)for(c=(f=o*n*4)-4*n,p=f+4*n,o<1&&(c=f),o>=n-1&&(p=f),i=0;i<n;i+=1)h=4*(o*n+i),m=(d=4*i)-4,y=d+4,i<1&&(m=d),i>=n-1&&(y=d),v=P=t[f+m],(l=t[f+y])<v&&(v=l),l>P&&(P=l),(l=t[c+d])<v&&(v=l),l>P&&(P=l),(l=t[p+d])<v&&(v=l),l>P&&(P=l),g=t[f+m+1],(l=t[f+y+1])<g&&(g=l),(l=t[c+d+1])<g&&(g=l),(l=t[p+d+1])<g&&(g=l),x=t[f+m+2],(l=t[f+y+2])<x&&(x=l),(l=t[c+d+2])<x&&(x=l),(l=t[p+d+2])<x&&(x=l),a=t[h],s=t[h+1],u=t[h+2],a<v&&(a=v),a>P&&(a=P),s<g&&(s=g),s>void 0&&(s=void 0),u<x&&(u=x),u>void 0&&(u=void 0),e[h]=a,e[h+1]=s,e[h+2]=u,e[h+3]=t[h+3]},mosaic:function(t,e,n,r,i){i=a(i,{blockSize:8});var s,u,l,h,f,c,p,d,m,y,v,g,x,P=o(i.blockSize,1,Math.max(n,r)),b=Math.ceil(r/P),w=Math.ceil(n/P);for(s=0,0,p=0;p<b;p+=1){for(u=o(s+P,0,r),l=0,d=0;d<w;d+=1){for(h=o(l+P,0,n),m=t[f=s*n+l<<2],y=t[f+1],v=t[f+2],g=s;g<u;g+=1)for(x=l;x<h;x+=1)e[c=g*n+x<<2]=m,e[c+1]=y,e[c+2]=v,e[c+3]=t[c+3];l=h,1}s=u}},equalize:function(t,e,n,r,i){var a,s,u,l,h=n*r,f=Math.round,c=new Array(256);for(s=0;s<256;s+=1)c[s]=0;for(s=0;s<h;s+=1)u=o(f(.3*t[a=4*s]+.59*t[a+1]+.11*t[a+2]),0,255),e[a+3]=u,c[u]+=1;var p=new Array(256);for(p[0]=c[0],s=1;s<256;s+=1)p[s]=p[s-1]+c[s];for(s=0;s<256;s+=1)p[s]=p[s]/h*255;for(s=0;s<h;s+=1)l=p[u=e[(a=4*s)+3]]/(u||1),e[a]=o(f(t[a]*l),0,255),e[a+1]=o(f(t[a+1]*l),0,255),e[a+2]=o(f(t[a+2]*l),0,255),e[a+3]=t[a+3]},mask:function(t,e,n,r,i){var o,a=n*r*4,s=i.data;for(o=0;o<a;o+=4)e[o]=t[o],e[o+1]=t[o+1],e[o+2]=t[o+2],e[o+3]=t[o+3]*s[o]/255*s[o+3]/255},bump:function(t,e,n,r,i){var u=(i=a(i,{dx:0,dy:0,radius:0,zoom:0})).radius,l=o(i.zoom,0,1);return c(t,e,i.dx,i.dy,n,r,function(t,e){return[t*s(0,l,t/u),e]})},dent:function(t,e,n,r,i){var u=(i=a(i,{dx:0,dy:0,radius:0,zoom:0})).radius,l=o(i.zoom,0,1);return c(t,e,i.dx,i.dy,n,r,function(t,e){return[2*t-t*s(0,l,t/u),e]})},pinch:function(t,e,n,r,s){s=a(s,{dx:0,dy:0,zoom:0});var u=i.distance(0,0,n,r),l=o(.75*s.zoom,-.75,.75);return c(t,e,s.dx,s.dy,n,r,function(t,e){return[t*Math.pow(u/t,l)*(1-l),e]})},splash:function(t,e,n,r,i){var o=(i=a(i,{dx:0,dy:0,radius:0})).radius;return c(t,e,i.dx,i.dy,n,r,function(t,e){return[t>o?o:t,e]})},twirl:function(t,e,n,r,o){o=a(o,{dx:0,dy:0,radius:0,angle:0});var u=i.radians(o.angle),l=o.radius;return c(t,e,o.dx,o.dy,n,r,function(t,e){return[t,e+(1-s(-l,l,t))*u]})}};t.exports=p},function(t,e,n){"use strict";var r=n(41),i=n(20),o=n(12),a=r.getNativeModes();function s(t,e,n){return t.createImageData?t.createImageData(e,n):t.getImageData(0,0,e,n)}var u={};function l(t,e,n){var r=n.transform.matrix();t.translate(e.width/2,e.height/2),t.transform(r[0],r[1],r[3],r[4],r[6],r[7]),(n.flip_h||n.flip_v)&&t.scale(n.flip_h?-1:1,n.flip_v?-1:1),t.translate(-n.img.width/2,-n.img.height/2)}function h(t,e){var n=function(t,e){var n,r,i,a,s,u=e.img.width,l=e.img.height,h=[{x:0,y:0},{x:u,y:0},{x:0,y:l},{x:u,y:l}],f=o.transform();f=(f=(f=f.translate(t.width/2,t.height/2)).append(e.transform)).translate(-e.img.width/2,-e.img.height/2);for(var c=0;c<4;c+=1)n=f.transformPoint(h[c]),0===c?(r=a=n.x,i=s=n.y):(n.x<r&&(r=n.x),n.x>a&&(a=n.x),n.y<i&&(i=n.y),n.y>s&&(s=n.y));return{x:r,y:i,width:a-r,height:s-i}}(t,e);return n=function(t,e){var n=t.x+t.width,r=t.y+t.height,i=e.x+e.width,o=e.y+e.height,a=Math.max(t.x,e.x),s=Math.max(t.y,e.y);return{x:a,y:s,width:Math.max(Math.min(n,i)-a,0),height:Math.max(Math.min(r,o)-s,0)}}(n,{x:0,y:0,width:t.width,height:t.height}),{x:Math.round(n.x),y:Math.round(n.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}}function f(t,e,n){var r=document.createElement("canvas"),i=r.getContext("2d");return r.width=n.width,r.height=n.height,i.translate(-n.x,-n.y),l(i,t,e),i.drawImage(e.img,0,0),i.getImageData(0,0,n.width,n.height)}u.toImage=function(t){var e=new Image;return e.width=t.width,e.height=t.height,e.src=t.toDataURL(),e},u.load=function(t,e){return e.isFill()?u.generateColor(t,e):e.isGradient()?u.generateGradient(t,e):e.isHtmlCanvas()?u.loadHtmlCanvas(e.data):e.isImage()?u.loadImage(e.data):e.isImageCanvas()?u.loadImageCanvas(e.data):void 0},u.loadHtmlCanvas=function(t){return t},u.loadImageCanvas=function(t){return t.render()},u.loadImage=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,e.width,e.height),e},u.generateColor=function(t,e){var n=void 0!==e.width?e.width:t.width,r=void 0!==e.height?e.height:t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.fillStyle=e.data,o.fillRect(0,0,n,r),i},u.generateGradient=function(t,e){var n,r,i,o,a,s=void 0!==e.width?e.width:t.width,u=void 0!==e.height?e.height:t.height,l=s/2,h=u/2,f=document.createElement("canvas"),c=f.getContext("2d"),p=e.data,d=p.type||"linear",m=p.rotation||0;return"radial"===d?n=c.createRadialGradient(l,h,0,l,h,Math.min(s,u)/2):(m<0&&(m+=360),0<=m&&m<45?(r=0,o=s,a=u-(i=u/2*(45-m)/45)):45<=m&&m<135?(i=0,o=s-(r=s*(m-45)/90),a=u):135<=m&&m<225?(r=s,o=0,a=u-(i=u*(m-135)/90)):225<=m&&m<315?(i=u,o=s-(r=s*(1-(m-225)/90)),a=0):315<=m&&(r=0,o=s,a=u-(i=u-u/2*(m-315)/45)),n=c.createLinearGradient(r,i,o,a)),n.addColorStop(p.spread||0,p.startColor),n.addColorStop(1,p.endColor),f.width=s,f.height=u,c.fillStyle=n,c.fillRect(0,0,s,u),f},u.processImage=function(t,e){if(0===e.length)return t;for(var n,r,o=t.getContext("2d"),a=t.width,u=t.height,l=o.getImageData(0,0,a,u),h=s(o,a,u),f=0;f<e.length;f+=1)f>0&&(r=l,l=h,h=r),n=e[f],i[n.name](l.data,h.data,a,u,n.options);return o.putImageData(h,0,0),t},u.processMask=function(t,e){if(0===e.layers.length)return t;e.width=t.width,e.height=t.height;var n=u.renderBW(e),r={name:"mask",options:{data:n.getContext("2d").getImageData(0,0,n.width,n.height).data,x:0,y:0,width:n.width,height:n.height}};return u.processImage(t,[r])},u.processLayer=function(t,e){var n=u.load(t,e),r=u.processMask(n,e.mask);return u.processImage(r,e.filters)},u.mergeManualBlend=function(t,e){return function(n){for(var i,o,a,u,l,c=n.getContext("2d"),p=t.width,d=t.height,m=c.getImageData(0,0,p,d),y=s(c,p,d),v=0;v<e.length;v+=1)if(i=e[v],(l=h(t,i)).width>0&&l.height>0){if(v>0&&(a=m,m=y,y=a),u={data:f(t,i,l).data,width:l.width,height:l.height,opacity:i.opacity,dx:l.x,dy:l.y},void 0===r[i.blendmode])throw new Error("No blend mode named '"+i.blendmode+"'");o=r.realBlendMode(i.blendmode),r[o](m.data,y.data,p,d,u)}return c.putImageData(y,0,0),n}},u.singleLayerWithOpacity=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=t.width,n.height=t.height,r.save(),l(r,t,e),1!==e.opacity&&(r.globalAlpha=e.opacity),r.drawImage(e.img,0,0),r.restore(),n},u.mergeNativeBlend=function(t,e){return function(n){for(var i,o=n.getContext("2d"),a=0;a<e.length;a+=1)i=e[a],o.save(),l(o,t,i),1!==i.opacity&&(o.globalAlpha=i.opacity),"source-over"!==i.blendmode&&(o.globalCompositeOperation=r.realBlendMode(i.blendmode)),o.drawImage(i.img,0,0),o.restore();return n}},u.createRenderPipe=function(t,e,n){var r,i,o,s,u=[];function l(){if(void 0!==i){var n=i?t.mergeNativeBlend:t.mergeManualBlend;u.push(n(e,o))}}for(var h=1;h<n.length;h+=1)r=(s=n[h]).blendmode,void 0!==i&&i===a[r]||(l(),o=[]),o.push(s),i=a[r],h===n.length-1&&l();return u},u.merge=function(t,e){for(var n=u.createRenderPipe(u,t,e),r=u.singleLayerWithOpacity(t,e[0]),i=0;i<n.length;i+=1)r=n[i](r);return r},u.composite=function(t,e){return e&&0!==e.length?1===e.length?u.singleLayerWithOpacity(t,e[0]):u.merge(t,e):null},u.getLayerData=function(t,e){for(var n,r,i=[],o=0;o<e.length;o+=1)r=t.layers[o],n={img:e[o],opacity:r.opacity,blendmode:r.blendmode,transform:r.transform,flip_h:r.flip_h,flip_v:r.flip_v},i.push(n);return i},u.render=function(t){for(var e=[],n=0;n<t.layers.length;n+=1)e.push(u.processLayer(t,t.layers[n]));return u.composite(t,u.getLayerData(t,e))},u.renderBW=function(t){var e=u.render(t);e.getContext("2d").getImageData(0,0,e.width,e.height).data;return u.processImage(e,[{name:"desaturate",options:{method:"ITU-R BT.709"}}])},t.exports=u},function(t,e,n){"use strict";var r=n(0),i=n(6),o={translate:function(t){return t||(t=r.ZERO),(new i).translate(t.x,t.y).transformShape(this)},scale:function(t,e){var n,o;e||(e=r.ZERO),"number"==typeof t?(n=t,o=t):(n=t.x,o=t.y);var a=new i;return(a=(a=(a=a.translate(e.x,e.y)).scale(n,o)).translate(-e.x,-e.y)).transformShape(this)},rotate:function(t,e){e||(e=r.ZERO);var n=new i;return(n=(n=(n=n.translate(e.x,e.y)).rotate(t)).translate(-e.x,-e.y)).transformShape(this)},skew:function(t,e){e||(e=r.ZERO);var n=new i;return(n=(n=(n=n.translate(e.x,e.y)).skew(t.x,t.y)).translate(-e.x,-e.y)).transformShape(this)}};t.exports=o},function(t,e,n){"use strict";var r=n(1),i=n(5),o=n(6),a=null,s=function(t){var e,n=Array.prototype.slice.call(arguments,1),r=arguments[1],i=arguments[2],a=arguments[arguments.length-1];this.text=String(t),"number"==typeof r?(this._x=r,this._y=i,n=n.slice(2)):Array.isArray(r)?(this._x=r[0],this._y=r[1],n=n.slice(1)):"object"==typeof r?(this._x=void 0!==r.x?r.x:0,this._y=void 0!==r.y?r.y:0,n=n.slice(1)):(this._x=0,this._y=0),"object"==typeof a?(e=a,r!==a&&(n=n.slice(0,n.length-1))):e={},n.length?this.fontFamily=n.shift():this.fontFamily=e.fontFamily||e.fontName||e.font||"sans-serif",n.length?this.fontSize=n.shift():this.fontSize=e.fontSize||24,n.length?this.textAlign=n.shift():this.textAlign=e.align||e.textAlign||"left",n.length?this.fill=n.shift():this.fill=e.fill||"black",this.transform=new o};s.prototype.clone=function(){var t=new s;return t.text=this.text,t._x=this._x,t._y=this._y,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.textAlign=this.textAlign,t.fill=r.clone(this.fill),t.transform=this.transform,t},s._getDummyContext=function(){return a||(a="undefined"!=typeof document?document.createElement("canvas").getContext("2d"):{font:"10px sans-serif",measureText:function(t){var e=parseFloat(this.font);return{width:t.length*e*.6}}}),a},s.prototype._getFont=function(){return this.fontSize+"px "+this.fontFamily},s.prototype.colorize=function(t){var e=this.clone();return e.fill=r.clone(t),e},s.prototype.draw=function(t){t.save(),t.font=this._getFont(),t.textAlign=this.textAlign;var e=this.transform.m;t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.fillStyle=r.toCSS(this.fill),t.fillText(this.text,this._x,this._y),t.restore()},s.prototype.bounds=function(){var t,e=s._getDummyContext(),n=this._x;return e.font=this._getFont(),t=e.measureText(this.text),"center"===this.textAlign?n=this._x-t.width/2:"right"===this.textAlign&&(n=this._x-t.width),new i(n,this._y-this.fontSize,t.width,1.2*this.fontSize)},s.prototype.toSVG=function(){var t,e="<text";if(e+=' x="'+this._x+'"',e+=' y="'+this._y+'"',e+=' font-family="'+this.fontFamily+'"',e+=' font-size="'+this.fontSize+'"',"left"===this.textAlign?t="start":"center"===this.textAlign?t="middle":"right"===this.textAlign&&(t="end"),e+=' text-anchor="'+t+'"',"black"!==this.fill){var n=r.parse(this.fill);e+=' fill="'+n.toHex(!0)+'"',n.a<1&&(e+=' opacity="'+n.a+'"')}return this.transform.isIdentity()||(e+=' transform="matrix('+this.transform.m.join(",")+')"'),e+=">",e+=this.text,e+="</text>"},t.exports=s},function(t,e,n){"use strict";var r=function(t,e,n){this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.z=void 0===n?0:n};r.ZERO=new r(0,0,0),r.up=function(){return new r(0,1,0)},r.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},r.cross=function(t,e){return new r(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x)},r.prototype.toString=function(){return"["+this.x+", "+this.y+", "+this.z+"]"},r.prototype.toArray=function(){var t=[];return t.push(this.x),t.push(this.y),t.push(this.z),t},r.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},r.prototype.normalize=function(){var t,e;return 0===(t=this.getLength())?this:(e=1/t,new r(this.x*e,this.y*e,this.z*e))},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y,this.z+t.z)},r.prototype.subtract=function(t){return new r(this.x-t.x,this.y-t.y,this.z-t.z)},r.prototype.transform=function(t){var e,n,i,o,a;return a=t,e=this.x*a.m[0]+this.y*a.m[4]+this.z*a.m[8]+a.m[12],n=this.x*a.m[1]+this.y*a.m[5]+this.z*a.m[9]+a.m[13],i=this.x*a.m[2]+this.y*a.m[6]+this.z*a.m[10]+a.m[14],o=this.x*a.m[3]+this.y*a.m[7]+this.z*a.m[11]+a.m[15],new r(e/o,n/o,i/o)},t.exports=r},function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e){var r=t.prototype;if(Object.create){var i=Object.create(e.prototype);r.__proto__=i}if(!(r instanceof e)){function o(){}o.prototype=e.prototype,n(r,o=new o),t.prototype=r=o}r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}var i="http://www.w3.org/1999/xhtml",o={},a=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,h=o.ENTITY_REFERENCE_NODE=5,f=o.ENTITY_NODE=6,c=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,d=o.DOCUMENT_NODE=9,m=o.DOCUMENT_TYPE_NODE=10,y=o.DOCUMENT_FRAGMENT_NODE=11,v=o.NOTATION_NODE=12,g={},x={},P=(g.INDEX_SIZE_ERR=(x[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(x[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(x[3]="Hierarchy request error",3)),b=(g.WRONG_DOCUMENT_ERR=(x[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(x[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(x[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(x[7]="No modification allowed",7),g.NOT_FOUND_ERR=(x[8]="Not found",8)),w=(g.NOT_SUPPORTED_ERR=(x[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(x[10]="Attribute in use",10));g.INVALID_STATE_ERR=(x[11]="Invalid state",11),g.SYNTAX_ERR=(x[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(x[13]="Invalid modification",13),g.NAMESPACE_ERR=(x[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(x[15]="Invalid access",15);function C(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,x[t]),this.message=x[t],Error.captureStackTrace&&Error.captureStackTrace(this,C);return n.code=t,e&&(this.message=this.message+": "+e),n}function _(){}function I(t,e){this._node=t,this._refresh=e,E(this)}function E(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);nt(t,"length",r.length),n(r,t),t._inc=e}}function T(){}function O(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function L(t,e,n,r){if(r?e[O(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&Y(i,t,r),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(i,t,n))}}function N(t,e,n){var r=O(e,n);if(!(r>=0))throw C(b,new Error(t.tagName+"@"+n));for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var o=t.ownerDocument;o&&(Y(o,t,n),n.ownerElement=null)}}function A(t){if(this._features={},t)for(var e in t)this._features=t[e]}function S(){}function M(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function X(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(X(t,e))return!0}while(t=t.nextSibling)}function D(){}function Y(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function k(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function B(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,k(t.ownerDocument,t),e}function R(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===y){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var a=n?n.previousSibling:t.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:t.firstChild=i,null==n?t.lastChild=o:n.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return k(t.ownerDocument||t,t),e.nodeType==y&&(e.firstChild=e.lastChild=null),e}function F(){this._nsMap={}}function j(){}function W(){}function z(){}function q(){}function U(){}function Z(){}function H(){}function V(){}function G(){}function $(){}function J(){}function Q(){}function K(t,e){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return et(this,n,t,e,a),n.join("")}function tt(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function et(t,e,n,r,o){if(r){if(!(t=r(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case a:o||(o=[]);o.length;var f=t.attributes,v=f.length,g=t.firstChild,x=t.tagName;n=i===t.namespaceURI||n,e.push("<",x);for(var P=0;P<v;P++){"xmlns"==(b=f.item(P)).prefix?o.push({prefix:b.localName,namespace:b.value}):"xmlns"==b.nodeName&&o.push({prefix:"",namespace:b.value})}for(P=0;P<v;P++){var b;if(tt(b=f.item(P),0,o)){var w=b.prefix||"",C=b.namespaceURI,_=w?" xmlns:"+w:" xmlns";e.push(_,'="',C,'"'),o.push({prefix:w,namespace:C})}et(b,e,n,r,o)}if(tt(t,0,o)){w=t.prefix||"",C=t.namespaceURI,_=w?" xmlns:"+w:" xmlns";e.push(_,'="',C,'"'),o.push({prefix:w,namespace:C})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(x)){if(e.push(">"),n&&/^script$/i.test(x))for(;g;)g.data?e.push(g.data):et(g,e,n,r,o),g=g.nextSibling;else for(;g;)et(g,e,n,r,o),g=g.nextSibling;e.push("</",x,">")}else e.push("/>");return;case d:case y:for(g=t.firstChild;g;)et(g,e,n,r,o),g=g.nextSibling;return;case s:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,M),'"');case u:return e.push(t.data.replace(/[<&]/g,M));case l:return e.push("<![CDATA[",t.data,"]]>");case p:return e.push("\x3c!--",t.data,"--\x3e");case m:var I=t.publicId,E=t.systemId;if(e.push("<!DOCTYPE ",t.name),I)e.push(' PUBLIC "',I),E&&"."!=E&&e.push('" "',E),e.push('">');else if(E&&"."!=E)e.push(' SYSTEM "',E,'">');else{var T=t.internalSubset;T&&e.push(" [",T,"]"),e.push(">")}return;case c:return e.push("<?",t.target," ",t.data,"?>");case h:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function nt(t,e,n){t[e]=n}C.prototype=Error.prototype,n(g,C),_.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)et(this[r],n,t,e);return n.join("")}},I.prototype.item=function(t){return E(this),this[t]},r(I,_),T.prototype={length:0,item:_.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new C(w);var n=this.getNamedItem(t.nodeName);return L(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new C(w);return e=this.getNamedItemNS(t.namespaceURI,t.localName),L(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return N(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return N(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},A.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new D;if(r.implementation=this,r.childNodes=new _,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new Z;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},S.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return R(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return B(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,r){var i=new n.constructor;for(var o in n){var u=n[o];"object"!=typeof u&&u!=i[o]&&(i[o]=u)}n.childNodes&&(i.childNodes=new _);i.ownerDocument=e;switch(i.nodeType){case a:var l=n.attributes,h=i.attributes=new T,f=l.length;h._ownerElement=i;for(var c=0;c<f;c++)i.setAttributeNode(t(e,l.item(c),!0));break;case s:r=!0}if(r)for(var p=n.firstChild;p;)i.appendChild(t(e,p,r)),p=p.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==u&&t.nodeType==u?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==s?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==s?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(o,S),n(o,S.prototype),D.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==y){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&t.nodeType==a&&(this.documentElement=t),R(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),B(this,t)},importNode:function(t,e){return function t(e,n,r){var i;switch(n.nodeType){case a:(i=n.cloneNode(!1)).ownerDocument=e;case y:break;case s:r=!0}i||(i=n.cloneNode(!1));i.ownerDocument=e;i.parentNode=null;if(r)for(var o=n.firstChild;o;)i.appendChild(t(e,o,r)),o=o.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return X(this.documentElement,function(n){if(n.nodeType==a&&n.getAttribute("id")==t)return e=n,!0}),e},createElement:function(t){var e=new F;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new _,(e.attributes=new T)._ownerElement=e,e},createDocumentFragment:function(){var t=new $;return t.ownerDocument=this,t.childNodes=new _,t},createTextNode:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new U;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new J;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new j;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new G;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new F,r=e.split(":"),i=n.attributes=new T;return n.childNodes=new _,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new j,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},r(D,S),F.prototype={nodeType:a,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===y?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e),r=t.lastChild}return r=t.lastChild,e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,k(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new I(this,function(e){var n=[];return X(e,function(r){r===e||r.nodeType!=a||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new I(this,function(n){var r=[];return X(n,function(i){i===n||i.nodeType!==a||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)}),r})}},D.prototype.getElementsByTagName=F.prototype.getElementsByTagName,D.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,r(F,S),j.prototype.nodeType=s,r(j,S),W.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(x[P])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},r(W,S),z.prototype={nodeName:"#text",nodeType:u,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(z,W),q.prototype={nodeName:"#comment",nodeType:p},r(q,W),U.prototype={nodeName:"#cdata-section",nodeType:l},r(U,W),Z.prototype.nodeType=m,r(Z,S),H.prototype.nodeType=v,r(H,S),V.prototype.nodeType=f,r(V,S),G.prototype.nodeType=h,r(G,S),$.prototype.nodeName="#document-fragment",$.prototype.nodeType=y,r($,S),J.prototype.nodeType=c,r(J,S),Q.prototype.serializeToString=function(t,e,n){return K.call(t,e,n)},S.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(I.prototype,"length",{get:function(){return E(this),this.$$length}}),Object.defineProperty(S.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case a:case y:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case a:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),nt=function(t,e,n){t["$$"+e]=n}}}catch(t){}e.DOMImplementation=A,e.XMLSerializer=Q},function(t,e,n){"use strict";e.generator=function t(e){if(e<0){for(var n=t(Math.abs(e)),r=0;r<23;r+=1)n();return t(n(0,1e4))}return function(t,n){return(t=t||0)+(e=(9301*e+49297)%233280)/233280*((n=n||1)-t)}}},function(t,e,n){"use strict";var r={};function i(t){var e;return 0===t?"00":((e=t.toString(16).toUpperCase()).length<2&&(e="0"+e),e)}r.namedColors={lightpink:[1,.71,.76],pink:[1,.75,.8],crimson:[.86,.08,.24],lavenderblush:[1,.94,.96],palevioletred:[.86,.44,.58],hotpink:[1,.41,.71],deeppink:[1,.08,.58],mediumvioletred:[.78,.08,.52],orchid:[.85,.44,.84],thistle:[.85,.75,.85],plum:[.87,.63,.87],violet:[.93,.51,.93],fuchsia:[1,0,1],darkmagenta:[.55,0,.55],purple:[.5,0,.5],mediumorchid:[.73,.33,.83],darkviolet:[.58,0,.83],darkorchid:[.6,.2,.8],indigo:[.29,0,.51],blueviolet:[.54,.17,.89],mediumpurple:[.58,.44,.86],mediumslateblue:[.48,.41,.93],slateblue:[.42,.35,.8],darkslateblue:[.28,.24,.55],ghostwhite:[.97,.97,1],lavender:[.9,.9,.98],blue:[0,0,1],mediumblue:[0,0,.8],darkblue:[0,0,.55],navy:[0,0,.5],midnightblue:[.1,.1,.44],royalblue:[.25,.41,.88],cornflowerblue:[.39,.58,.93],lightsteelblue:[.69,.77,.87],lightslategray:[.47,.53,.6],slategray:[.44,.5,.56],dodgerblue:[.12,.56,1],aliceblue:[.94,.97,1],steelblue:[.27,.51,.71],lightskyblue:[.53,.81,.98],skyblue:[.53,.81,.92],deepskyblue:[0,.75,1],lightblue:[.68,.85,.9],powderblue:[.69,.88,.9],cadetblue:[.37,.62,.63],darkturquoise:[0,.81,.82],azure:[.94,1,1],lightcyan:[.88,1,1],paleturquoise:[.69,.93,.93],aqua:[0,1,1],darkcyan:[0,.55,.55],teal:[0,.5,.5],darkslategray:[.18,.31,.31],mediumturquoise:[.28,.82,.8],lightseagreen:[.13,.7,.67],turquoise:[.25,.88,.82],aquamarine:[.5,1,.83],mediumaquamarine:[.4,.8,.67],mediumspringgreen:[0,.98,.6],mintcream:[.96,1,.98],springgreen:[0,1,.5],mediumseagreen:[.24,.7,.44],seagreen:[.18,.55,.34],honeydew:[.94,1,.94],darkseagreen:[.56,.74,.56],palegreen:[.6,.98,.6],lightgreen:[.56,.93,.56],limegreen:[.2,.8,.2],lime:[0,1,0],forestgreen:[.13,.55,.13],green:[0,.5,0],darkgreen:[0,.39,0],lawngreen:[.49,.99,0],chartreuse:[.5,1,0],greenyellow:[.68,1,.18],darkolivegreen:[.33,.42,.18],yellowgreen:[.6,.8,.2],olivedrab:[.42,.56,.14],ivory:[1,1,.94],beige:[.96,.96,.86],lightyellow:[1,1,.88],lightgoldenrodyellow:[.98,.98,.82],yellow:[1,1,0],olive:[.5,.5,0],darkkhaki:[.74,.72,.42],palegoldenrod:[.93,.91,.67],lemonchiffon:[1,.98,.8],khaki:[.94,.9,.55],gold:[1,.84,0],cornsilk:[1,.97,.86],goldenrod:[.85,.65,.13],darkgoldenrod:[.72,.53,.04],floralwhite:[1,.98,.94],oldlace:[.99,.96,.9],wheat:[.96,.87,.07],orange:[1,.65,0],moccasin:[1,.89,.71],papayawhip:[1,.94,.84],blanchedalmond:[1,.92,.8],navajowhite:[1,.87,.68],antiquewhite:[.98,.92,.84],tan:[.82,.71,.55],burlywood:[.87,.72,.53],darkorange:[1,.55,0],bisque:[1,.89,.77],linen:[.98,.94,.9],peru:[.8,.52,.25],peachpuff:[1,.85,.73],sandybrown:[.96,.64,.38],chocolate:[.82,.41,.12],saddlebrown:[.55,.27,.07],seashell:[1,.96,.93],sienna:[.63,.32,.18],lightsalmon:[1,.63,.48],coral:[1,.5,.31],orangered:[1,.27,0],darksalmon:[.91,.59,.48],tomato:[1,.39,.28],salmon:[.98,.5,.45],mistyrose:[1,.89,.88],lightcoral:[.94,.5,.5],snow:[1,.98,.98],rosybrown:[.74,.56,.56],indianred:[.8,.36,.36],red:[1,0,0],brown:[.65,.16,.16],firebrick:[.7,.13,.13],darkred:[.55,0,0],maroon:[.5,0,0],white:[1,1,1],whitesmoke:[.96,.96,.96],gainsboro:[.86,.86,.86],lightgrey:[.83,.83,.83],silver:[.75,.75,.75],darkgray:[.66,.66,.66],gray:[.5,.5,.5],grey:[.5,.5,.5],dimgray:[.41,.41,.41],dimgrey:[.41,.41,.41],black:[0,0,0],cyan:[0,.68,.94],transparent:[0,0,0,0],bark:[.25,.19,.13]},r.rgb2hex=function(t,e,n){return"#"+i(Math.round(255*t))+i(Math.round(255*e))+i(Math.round(255*n))},r.rgba2hex=function(t,e,n,r){return"#"+i(Math.round(255*t))+i(Math.round(255*e))+i(Math.round(255*n))+i(Math.round(255*r))},r.hex2rgb=function(t){if(3!==(t=t.replace(/^#/,"")).length&&6!==t.length||!/^[0-9a-fA-F]*$/.test(t))throw new Error("Invalid hex value: #"+t);return 3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[parseInt(t.substr(0,2),16)/255,parseInt(t.substr(2,2),16)/255,parseInt(t.substr(4,2),16)/255]},r.rgb2hsb=function(t,e,n){var r=0,i=0,o=Math.max(t,e,n),a=o-Math.min(t,e,n);return 0!==o&&(i=a/o),0!==i&&(r=t===o?0+(e-n)/a:e===o?2+(n-t)/a:4+(t-e)/a),(r*=60/360)<0&&(r+=1),[r,i,o]},r.hsb2rgb=function(t,e,n){if(0===e)return[n,n,n];t=t%1*6;var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-e*i),s=n*(1-e*(1-i));return r>4?[n,o,a]:[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n]][parseInt(r,10)]},r.rgb2hsl=function(t,e,n){var r,i,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return a===o?r=0:t===a?r=(e-n)/s:e===a?r=2+(n-t)/s:n===a&&(r=4+(t-e)/s),(r=Math.min(60*r,360))<0&&(r+=360),i=(o+a)/2,[r/360,a===o?0:i<=.5?s/(a+o):s/(2-a-o),i]},r.hsl2rgb=function(t,e,n){var r,i,o,a,s;if(0===e)return[s=n,s,s];r=2*n-(i=n<.5?n*(1+e):n+e-n*e),a=[0,0,0];for(var u=0;u<3;u++)(o=t+1/3*-(u-1))<0&&(o+=1),o>1&&(o-=1),s=6*o<1?r+6*(i-r)*o:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r,a[u]=s;return a},t.exports=r},function(t,e,n){"use strict";var r={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)+e)},easeOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/o)+n+e)},easeInOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*.5+n+e)},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,e,n,i){return n-r.easeOutBounce(i-t,0,n,i)+e},easeOutBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,i){return t<i/2?.5*r.easeInBounce(2*t,0,n,i)+e:.5*r.easeOutBounce(2*t-i,0,n,i)+.5*n+e},easing:function(t){var e=r[t],n=Array.prototype.slice.call(arguments,1);return e.apply(null,n)}};t.exports=r},function(t,e,n){"use strict";var r=n(10),i=n(13),o=n(17),a={};function s(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e){return e.transformShape(t)}function l(t,e){return t._transform(e.m)}function h(t,e){if(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text||void 0!==t.x&&void 0!==t.y)return u(t,e);if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(h(t[o],e));return n}return t instanceof i.Img?l(t,e):void 0}a.HORIZONTAL="horizontal",a.VERTICAL="vertical",a.BOTH="both",a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.TOP="top",a.BOTTOM="bottom",a.MIDDLE="middle",a.align=function(t,e,n,i){if(t){var o,s,u=e.x,l=e.y,f=r.bounds(t);return o=n===a.LEFT?u-f.x:n===a.RIGHT?u-f.x-f.width:n===a.CENTER?u-f.x-f.width/2:0,s=i===a.TOP?l-f.y:i===a.BOTTOM?l-f.y-f.height:i===a.MIDDLE?l-f.y-f.height/2:0,h(t,(new r.Transform).translate(o,s))}},a.colorize=function(t,e){var n=arguments;if(("object"!=typeof e||e instanceof r.Color)&&(e={},void 0!==n[1]&&(e.fill=n[1]),void 0!==n[2]&&(e.stroke=n[2]),void 0!==n[3]&&(e.strokeWidth=n[3])),t instanceof r.Path||t instanceof r.Group)return t.colorize(e);if(t instanceof i.Img||t instanceof r.Text){if(e.fill||0===e.fill)return t.colorize(e.fill);throw new Error("No color given")}},a.copy=function(t,e,n,o,a,s){if(!t)return[];var h,f,c,p,d,m=[],y=0,v=0,g=0,x=1,P=1,b=!1;for(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text?d=u:Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y?(b=!0,d=u):t instanceof i.Img&&(d=l),h=0;h<e;h+=1){for(f=new r.Transform,c=0;c<n.length;c+=1)"t"===(p=n[c])?f=f.translate(y,v):"r"===p?f=f.rotate(g):"s"===p&&(f=f.scale(x,P));b?m=m.concat(d(t,f)):m.push(d(t,f)),y+=o.x,v+=o.y,g+=a,x+=s.x,P+=s.y}return m},a.flip=function(t,e){if("none"===e)return t;if(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text||Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var n=e===a.HORIZONTAL||e===a.BOTH?-1:1,o=e===a.VERTICAL||e===a.BOTH?-1:1;return r.scale(t,new r.Point(n,o),r.centerPoint(t))}if(t instanceof i.Img){var s=t,u=s.toLayer(!1);return e!==a.HORIZONTAL&&e!==a.BOTH||u.flipHorizontal(),e!==a.VERTICAL&&e!==a.BOTH||u.flipVertical(),s.withCanvas(u.toCanvas())}},a.fit=function(t,e,n,i,o){if(t){o=void 0!==o&&o;var a,s,u,l=r.bounds(t),f=l.x,c=l.y,p=l.width,d=l.height;return p=p>1e-12?p:0,d=d>1e-12?d:0,a=(a=new r.Transform).translate(e.x,e.y),o?(s=p>0?n/p:1,u=d>0?i/d:1):(s=p>0?n/p:Number.MAX_VALUE,u=d>0?i/d:Number.MAX_VALUE,s=u=Math.min(s,u)),h(t,a=(a=a.scale(s,u)).translate(-p/2-f,-d/2-c))}},a.fitTo=function(t,e,n){if(t){if(!e)return t;var i=r.bounds(e),o=i.x,s=i.y,u=i.width,l=i.height;return a.fit(t,{x:o+u/2,y:s+l/2},u,l,n)}},a.hslAdjust=function(t,e,n,o,a){if(a||(a=0),t instanceof i.Img){var u=t,l=u.toLayer(!1);return l.addFilter("hslAdjust",{h:e,s:n,l:o,a:a}),u.withCanvas(l.toCanvas())}e=s(e,-1,1),n=s(n,-1,1),o=s(o,-1,1),a=s(a,-1,1);var h,f,c,p,d,m,y,v,g,x,P,b,w=1+n*(n<0?1:2),C=o<0?1+o:1-o,_=o<0?0:o;return e=6*e%6,function i(o){if(o instanceof r.Group){for(var s=[],u=0;u<o.shapes.length;u+=1)s.push(i(o.shapes[u]));return new r.Group(s)}if(o instanceof r.Path){var l=o.clone();return l.fill=i(l.fill),l.stroke=i(l.stroke),l}var I=o;return I instanceof r.Color||(I=r.Color.parse(I)),h=I.r,f=I.g,c=I.b,0===e&&0===n||(f>(p=h)&&(p=f),c>p&&(p=c),f<(d=h)&&(d=f),c<d&&(d=c),m=p-d,(g=(d+p)/2)>0&&m>0&&(g<=.5?((v=m/(p+d)*w)>1&&(v=1),t=g*(1+v)):((v=m/(2-p-d)*w)>1&&(v=1),t=g+v-g*v),(y=h===p?f===d?5+(p-c)/m+e:1-(p-f)/m+e:f===p?c===d?1+(p-h)/m+e:3-(p-c)/m+e:h===d?3+(p-f)/m+e:5-(p-h)/m+e)<0&&(y+=6),y>=6&&(y-=6),P=(t-(x=g+g-t))*(y-(b=y>>0)),0===b?(h=t,f=x+P,c=x):1===b?(h=t-P,f=t,c=x):2===b?(h=x,f=t,c=x+P):3===b?(h=x,f=t-P,c=t):4===b?(h=x+P,f=x,c=t):5===b&&(h=t,f=x,c=t-P))),f=f*C+_,c=c*C+_,(h=h*C+_)<0&&(h=0),f<0&&(f=0),c<0&&(c=0),h>1&&(h=1),f>1&&(f=1),c>1&&(c=1),new r.Color(h,f,c,I.a+a)}(t)},a.rgbAdjust=function(t,e,n,o,a){return a||(a=0),e=s(e,-1,1),n=s(n,-1,1),o=s(o,-1,1),a=s(a,-1,1),function t(s){if(s instanceof i.Img){var u=s,l=u.toLayer(!1);return l.addFilter("rgbAdjust",{r:e,g:n,b:o,a:a}),u.withCanvas(l.toCanvas())}if(s instanceof r.Group){for(var h=[],f=0;f<s.shapes.length;f+=1)h.push(t(s.shapes[f]));return new r.Group(h)}if(s instanceof r.Path){var c=s.clone();return c.fill=t(c.fill),c.stroke=t(c.stroke),c}var p=s;return p instanceof r.Color||(p=r.Color.parse(p)),new r.Color(p.r+e,p.g+n,p.b+o,p.a+a)}(t)},a.stack=function(t,e,n){if(!t)return[];if(t.length<=1)return t;var i,o,a,s,u,l,f=t[0].bounds(),c=[];if("e"===e)for(a=f.x,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(a-l.x,0),c.push(h(o,u)),a+=l.width+n;else if("w"===e)for(a=f.x+f.width,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(a-(l.x+l.width),0),c.push(h(o,u)),a-=l.width+n;else if("n"===e)for(s=f.y+f.height,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(0,s-(l.y+l.height)),c.push(h(o,u)),s-=l.height+n;else if("s"===e)for(s=f.y,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(0,s-l.y),c.push(h(o,u)),s+=l.height+n;return c},a.angle=function(t,e){var n=arguments;return 4===n.length?(t=r.Point.read(n[0],n[1]),e=r.Point.read(n[2],n[3])):(t=r.Point.read(t),e=r.Point.read(e)),o.degrees(Math.atan2(e.y-t.y,e.x-t.x))},a.coordinates=function(t,e,n){var i=arguments;return 4===i.length?(t=r.Point.read(i[0],i[1]),e=i[2],n=i[3]):t=r.Point.read(t),r.geo.coordinates(t.x,t.y,e,n)},a.distance=function(t,e){var n=arguments;return 4===n.length?(t=r.Point.read(n[0],n[1]),e=r.Point.read(n[2],n[3])):(t=r.Point.read(t),e=r.Point.read(e)),Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},a.grayColor=function(t,e){return e||0===e||(e=1),r.Color.gray(t,e,1)},a.hexColor=function(t){return"#"!==(t=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t)?t.toString(16):String(t))[0]&&(t="#"+t),r.Color.parse(t)},a.hslColor=function(t,e,n,i){return i||0===i||(i=1),r.Color.hsl(t,e,n,i,1)},a.rgbColor=function(t,e,n,i){return i||0===i||(i=1),r.Color.rgb(t,e,n,i,1)},a.desaturate=function(t,e){return t?t.desaturate({method:e}):null},a.invert=function(t){if(!t)return null;if(t instanceof i.Img){var e=t,n=e.toLayer(!1);return n.addFilter("invert"),e.withCanvas(n.toCanvas())}return t.invert()},t.exports=a},function(t,e,n){"use strict";var r=n(10),i=n(13),o=i.Img,a=i.Layer,s=i.ImageCanvas,u={blend:function(t,e,n){var i=t.bounds(),a=e.bounds(),u=new r.Rect(i.x,i.y,i.width,i.height).unite(a),l=Math.ceil(u.width),h=Math.ceil(u.height),f=l/2+u.x,c=h/2+u.y,p=new s(l,h);p.addLayer(t.toLayer()).translate(-f,-c);var d=p.addLayer(e.toLayer());return d.translate(-f,-c),d.blendmode=n,new o(p.render(),f,c)},blur:function(t,e){var n=t.toLayer(!1);return n.addFilter("blur",{radius:e}),t.withCanvas(n.toCanvas())},brighten:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("brightness",{brightness:e/100,contrast:n/100}),t.withCanvas(r.toCanvas())},bump:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("bump",{dx:e.x,dy:e.y,radius:n,zoom:r/100}),t.withCanvas(i.toCanvas())},colorImage:function(t,e,n){var r=a.fromColor(n);return r.width=t,r.height=e,new o(r.toCanvas())},crop:function(t,e){return t.crop(e)},crossEdges:function(t,e){var n=t.toLayer(!1);return n.addFilter("crossedges",{strength:e/100}),t.withCanvas(n.toCanvas())},dent:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("dent",{dx:e.x,dy:e.y,radius:n,zoom:r/100}),t.withCanvas(i.toCanvas())},emboss:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("emboss",{amount:e/100,angle:n}),t.withCanvas(r.toCanvas())},equalize:function(t){var e=t.toLayer(!1);return e.addFilter("equalize"),t.withCanvas(e.toCanvas())},findEdges:function(t){var e=t.toLayer(!1);return e.addFilter("findedges"),t.withCanvas(e.toCanvas())},glow:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("glow",{amount:e/100,kernelSize:n}),t.withCanvas(r.toCanvas())},gradientImage:function(t,e,n,r,i,s,u){var l=a.fromGradient(n,r,i,s,u/100);return l.width=t,l.height=e,new o(l.toCanvas())},histogram:function(t,e,n){var r,i,o,a,s=t.getPixels(),u=new Array(256);for(r=0;r<u.length;r+=1)u[r]=0;if("lum"===e)for(r=0;r<s.width*s.height;r+=1)a=.2125*(o=s.get(r))[0]+.7154*o[1]+.0721*o[2],u[Math.round(a)]+=1;else for("red"===e&&(i=0),"green"===e&&(i=1),"blue"===e&&(i=2),"alpha"===e&&(i=3),r=0;r<s.width*s.height;r+=1)u[a=(o=s.get(r))[i]]+=1;if(n)for(r=0;r<u.length;r+=1)u[r]/=s.width*s.height;return u},lightTunnel:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("splash",{dx:e.x,dy:e.y,radius:n}),t.withCanvas(r.toCanvas())},luminanceBW:function(t){var e=t.toLayer(!1);return e.addFilter("luminancebw"),t.withCanvas(e.toCanvas())},mask:function(t,e){t=t.transformed(),e=e.transformed();var n=t.toLayer(!1),i=e.toLayer(),o=t.bounds(),a=e.bounds(),s=new r.Rect(o.x,o.y,o.width,o.height).unite(a),u=Math.ceil(s.width),l=Math.ceil(s.height),h=u/2+s.x,f=l/2+s.y;i.translate(-h,-f);var c=n.mask.addLayer("white");return c.width=n.width,c.height=n.height,n.mask.addLayer(i),t.withCanvas(n.toCanvas())},mosaic:function(t,e){var n=t.toLayer(!1);return n.addFilter("mosaic",{blockSize:e}),t.withCanvas(n.toCanvas())},pinch:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("pinch",{dx:e.x,dy:e.y,zoom:n/100}),t.withCanvas(r.toCanvas())},posterize:function(t,e){var n=t.toLayer(!1);return n.addFilter("posterize",{levels:e}),t.withCanvas(n.toCanvas())},removeNoise:function(t){var e=t.toLayer(!1);return e.addFilter("removenoise"),t.withCanvas(e.toCanvas())},solarize:function(t){var e=t.toLayer(!1);return e.addFilter("solarize"),t.withCanvas(e.toCanvas())},toBitmap:function(t,e){var n,r=document.createElement("canvas"),i=(n=e?e.bounds():t.bounds()).x,a=n.y,s=r.width=Math.ceil(n.width),u=r.height=Math.ceil(n.height),l=r.getContext("2d");return l.translate(-i,-a),t.draw(l),new o(r,s/2+i,u/2+a)},toPixels:function(t,e){e=e>1?e:1;for(var n=t.canvas,i=n.width,o=n.height,a=n.getContext("2d").getImageData(0,0,n.width,n.height).data,s=4*n.width,u=[],l=0;l<o;l+=e)for(var h=0;h<i;h+=e){var f=l*s+4*h,c=a[f],p=a[f+1],d=a[f+2],m=a[f+3];u.push({x:h-i/2,y:l-o/2,r:c,g:p,b:d,a:m,color:new r.Color(c/255,p/255,d/255,m/255)})}return u},twirl:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("twirl",{dx:e.x,dy:e.y,radius:n,angle:r}),t.withCanvas(i.toCanvas())}};t.exports=u},function(t,e,n){(function(t,n){var r=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,l=9007199254740991,h="[object Arguments]",f="[object Array]",c="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",y="[object GeneratorFunction]",v="[object Map]",g="[object Number]",x="[object Object]",P="[object RegExp]",b="[object Set]",w="[object String]",C="[object Symbol]",_="[object ArrayBuffer]",I="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,O=/^\./,L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,A=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[h]=M[f]=M[_]=M[c]=M[I]=M[p]=M[d]=M[m]=M[v]=M[g]=M[x]=M[P]=M[b]=M[w]=M["[object WeakMap]"]=!1;var X="object"==typeof t&&t&&t.Object===Object&&t,D="object"==typeof self&&self&&self.Object===Object&&self,Y=X||D||Function("return this")(),k="object"==typeof e&&e&&!e.nodeType&&e,B=k&&"object"==typeof n&&n&&!n.nodeType&&n,R=B&&B.exports===k&&X.process,F=function(){try{return R&&R.binding("util")}catch(t){}}(),j=F&&F.isTypedArray;function W(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function z(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var H=Array.prototype,V=Function.prototype,G=Object.prototype,$=Y["__core-js_shared__"],J=function(){var t=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Q=V.toString,K=G.hasOwnProperty,tt=G.toString,et=RegExp("^"+Q.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=Y.Symbol,rt=Y.Uint8Array,it=G.propertyIsEnumerable,ot=H.splice,at=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),st=Ft(Y,"DataView"),ut=Ft(Y,"Map"),lt=Ft(Y,"Promise"),ht=Ft(Y,"Set"),ft=Ft(Y,"WeakMap"),ct=Ft(Object,"create"),pt=Vt(st),dt=Vt(ut),mt=Vt(lt),yt=Vt(ht),vt=Vt(ft),gt=nt?nt.prototype:void 0,xt=gt?gt.valueOf:void 0,Pt=gt?gt.toString:void 0;function bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=t?t.length:0;for(this.__data__=new Ct;++e<n;)this.add(t[e])}function It(t){this.__data__=new wt(t)}function Et(t,e){var n=Kt(t)||Qt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!K.call(t,o)||i&&("length"==o||Wt(o,r))||n.push(o);return n}function Tt(t,e){for(var n=t.length;n--;)if(Jt(t[n][0],e))return n;return-1}function Ot(t,e,n,r){return Lt(t,function(t,i,o){e(r,t,n(t),o)}),r}bt.prototype.clear=function(){this.__data__=ct?ct(null):{}},bt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},bt.prototype.get=function(t){var e=this.__data__;if(ct){var n=e[t];return n===o?void 0:n}return K.call(e,t)?e[t]:void 0},bt.prototype.has=function(t){var e=this.__data__;return ct?void 0!==e[t]:K.call(e,t)},bt.prototype.set=function(t,e){return this.__data__[t]=ct&&void 0===e?o:e,this},wt.prototype.clear=function(){this.__data__=[]},wt.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0||(n==e.length-1?e.pop():ot.call(e,n,1),0))},wt.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},wt.prototype.has=function(t){return Tt(this.__data__,t)>-1},wt.prototype.set=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new bt,map:new(ut||wt),string:new bt}},Ct.prototype.delete=function(t){return Rt(this,t).delete(t)},Ct.prototype.get=function(t){return Rt(this,t).get(t)},Ct.prototype.has=function(t){return Rt(this,t).has(t)},Ct.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,o),this},_t.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new wt},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wt){var i=n.__data__;if(!ut||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Ct(i)}return n.set(t,e),this};var Lt=function(t,e){return function(n,r){if(null==n)return n;if(!te(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(function(t,e){return t&&Nt(t,e,se)}),Nt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function At(t,e){for(var n=0,r=(e=zt(e,t)?[e]:kt(e)).length;null!=t&&n<r;)t=t[Ht(e[n++])];return n&&n==r?t:void 0}function St(t,e){return null!=t&&e in Object(t)}function Mt(t,e,n,r,i){return t===e||(null==t||null==e||!re(t)&&!ie(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var u=Kt(t),l=Kt(e),m=f,y=f;u||(m=(m=jt(t))==h?x:m);l||(y=(y=jt(e))==h?x:y);var E=m==x&&!q(t),T=y==x&&!q(e),O=m==y;if(O&&!E)return o||(o=new It),u||ae(t)?Bt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!r(new rt(t),new rt(e)));case c:case p:case g:return Jt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case P:case w:return t==e+"";case v:var l=U;case b:var h=o&s;if(l||(l=Z),t.size!=e.size&&!h)return!1;var f=u.get(t);if(f)return f==e;o|=a,u.set(t,e);var m=Bt(l(t),l(e),r,i,o,u);return u.delete(t),m;case C:if(xt)return xt.call(t)==xt.call(e)}return!1}(t,e,m,n,r,i,o);if(!(i&s)){var L=E&&K.call(t,"__wrapped__"),N=T&&K.call(e,"__wrapped__");if(L||N){var A=L?t.value():t,S=N?e.value():e;return o||(o=new It),n(A,S,r,i,o)}}if(!O)return!1;return o||(o=new It),function(t,e,n,r,i,o){var a=i&s,u=se(t),l=u.length,h=se(e).length;if(l!=h&&!a)return!1;for(var f=l;f--;){var c=u[f];if(!(a?c in e:K.call(e,c)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<l;){c=u[f];var y=t[c],v=e[c];if(r)var g=a?r(v,y,c,e,t,o):r(y,v,c,t,e,o);if(!(void 0===g?y===v||n(y,v,r,i,o):g)){d=!1;break}m||(m="constructor"==c)}if(d&&!m){var x=t.constructor,P=e.constructor;x!=P&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof P&&P instanceof P)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,Mt,n,r,i))}function Xt(t){return!(!re(t)||function(t){return!!J&&J in t}(t))&&(ee(t)||q(t)?et:A).test(Vt(t))}function Dt(t){return"function"==typeof t?t:null==t?ue:"object"==typeof t?Kt(t)?function(t,e){if(zt(t)&&qt(e))return Ut(Ht(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:At(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,i=-1,o=(e=zt(e,t)?[e]:kt(e)).length;for(;++i<o;){var a=Ht(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&ne(o)&&Wt(a,o)&&(Kt(t)||Qt(t))}(t,e,St)}(n,t):Mt(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=se(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,qt(i)]}return e}(t);if(1==e.length&&e[0][2])return Ut(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var h=(l=n[i])[0],f=t[h],c=l[1];if(u&&l[2]){if(void 0===f&&!(h in t))return!1}else{var p=new It;if(r)var d=r(f,c,h,t,e,p);if(!(void 0===d?Mt(c,f,r,a|s,p):d))return!1}}return!0}(n,t,e)}}(t):function(t){return zt(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Ht(t)):function(t){return function(e){return At(e,t)}}(t)}(t)}function Yt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||G;return t===n}(t))return at(t);var e=[];for(var n in Object(t))K.call(t,n)&&"constructor"!=n&&e.push(n);return e}function kt(t){return Kt(t)?t:Zt(t)}function Bt(t,e,n,r,i,o){var u=i&s,l=t.length,h=e.length;if(l!=h&&!(u&&h>l))return!1;var f=o.get(t);if(f&&o.get(e))return f==e;var c=-1,p=!0,d=i&a?new _t:void 0;for(o.set(t,e),o.set(e,t);++c<l;){var m=t[c],y=e[c];if(r)var v=u?r(y,m,c,e,t,o):r(m,y,c,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!z(e,function(t,e){if(!d.has(e)&&(m===t||n(m,t,r,i,o)))return d.add(e)})){p=!1;break}}else if(m!==y&&!n(m,y,r,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Rt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Xt(n)?n:void 0}var jt=function(t){return tt.call(t)};function Wt(t,e){return!!(e=null==e?l:e)&&("number"==typeof t||S.test(t))&&t>-1&&t%1==0&&t<e}function zt(t,e){if(Kt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oe(t))||(T.test(t)||!E.test(t)||null!=e&&t in Object(e))}function qt(t){return t==t&&!re(t)}function Ut(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(st&&jt(new st(new ArrayBuffer(1)))!=I||ut&&jt(new ut)!=v||lt&&"[object Promise]"!=jt(lt.resolve())||ht&&jt(new ht)!=b||ft&&"[object WeakMap]"!=jt(new ft))&&(jt=function(t){var e=tt.call(t),n=e==x?t.constructor:void 0,r=n?Vt(n):void 0;if(r)switch(r){case pt:return I;case dt:return v;case mt:return"[object Promise]";case yt:return b;case vt:return"[object WeakMap]"}return e});var Zt=$t(function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(oe(t))return Pt?Pt.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(t)}(t);var e=[];return O.test(t)&&e.push(""),t.replace(L,function(t,n,r,i){e.push(r?i.replace(N,"$1"):n||t)}),e});function Ht(t){if("string"==typeof t||oe(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Vt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Gt=function(t,e){return function(n,r){var i=Kt(n)?W:Ot,o=e?e():{};return i(n,t,Dt(r),o)}}(function(t,e,n){K.call(t,n)?t[n].push(e):t[n]=[e]});function $t(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new($t.Cache||Ct),n}function Jt(t,e){return t===e||t!=t&&e!=e}function Qt(t){return function(t){return ie(t)&&te(t)}(t)&&K.call(t,"callee")&&(!it.call(t,"callee")||tt.call(t)==h)}$t.Cache=Ct;var Kt=Array.isArray;function te(t){return null!=t&&ne(t.length)&&!ee(t)}function ee(t){var e=re(t)?tt.call(t):"";return e==m||e==y}function ne(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function re(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ie(t){return!!t&&"object"==typeof t}function oe(t){return"symbol"==typeof t||ie(t)&&tt.call(t)==C}var ae=j?function(t){return function(e){return t(e)}}(j):function(t){return ie(t)&&ne(t.length)&&!!M[tt.call(t)]};function se(t){return te(t)?Et(t):Yt(t)}function ue(t){return t}n.exports=Gt}).call(this,n(3),n(11)(t))},function(t,e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,function(e){return t[e]})}var u=Object.prototype,l=u.hasOwnProperty,h=u.toString,f=u.propertyIsEnumerable,c=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object);function p(t,e){var n=y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&v(t)}(t)&&l.call(t,"callee")&&(!f.call(t,"callee")||h.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=n.length,o=!!i;for(var a in t)!e&&!l.call(t,a)||o&&("length"==a||m(a,i))||n.push(a);return n}function d(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||u;return t===n}(t))return c(t);var e=[];for(var n in Object(t))l.call(t,n)&&"constructor"!=n&&e.push(n);return e}function m(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}var y=Array.isArray;function v(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==o}(t)}t.exports=function(t){return t?s(t,function(t){return v(t)?p(t):d(t)}(t)):[]}},function(t,e,n){"use strict";var r=n(32),i=n(31),o=n(15),a={convert:function(t,e,n,r,i){var o=arguments.length;if(2===o){var a=arguments[1];e=a.inMin,n=a.inMax,r=a.outMin,i=a.outMax}else 3===o&&(e=arguments[1][0],n=arguments[1][1],r=arguments[2][0],i=arguments[2][1]);try{t=(t-e)/(n-e)}catch(n){t=e}return r+t*(i-r)},filterData:function(t,e,n,r){if(!t)return[];var i,o,a;if(null===r||void 0===r)return t;var s=[];if("=="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]==r&&s.push(a);else if("!="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]!=r&&s.push(a);else if(">"===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]>r&&s.push(a);else if(">="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]>=r&&s.push(a);else if("<"===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]<r&&s.push(a);else{if("<="!==n)throw new Error("Invalid op "+n);for(i=0,o=t.length;i<o;i++)(a=t[i])[e]<=r&&s.push(a)}return s},groupBy:function(t,e){return r(i(t,e))},keys:function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(Object.keys(t[n]));return o.distinct(e)},lookup:function(t,e){var n,r;if(void 0!==(r=(n=t)[e]))return"function"==typeof r&&(r=r.call(n)),r;for(var i,o=e.split("."),a=0;a<o.length;a+=1)i=o[a],n&&(n="function"==typeof n[i]?(r=n[i]).call(n):n[i]);return n},dataScale:function(t,e,n){return{domain:t,outMin:e,outMax:n}},ticks:function(t,e,n){n=void 0!==n?n:10;var r,i=e-t,o=Math.pow(10,Math.floor(Math.log(i/n)/Math.LN10)),a=n/i*o,s=[];for(a<=.15?o*=10:a<=.35?o*=5:a<=.75&&(o*=2),t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o+.5*o,r=t;r<e;r+=o)s.push(r);return s}};t.exports=a},function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t}function i(t){return Object.prototype.toString.call(t)}var o,a,s,u={isObject:r,isRegExp:function(t){return r(t)&&"[object RegExp]"===i(t)},isDate:function(t){return r(t)&&"[object Date]"===i(t)},isNullOrUndefined:function(t){return null===t||void 0===t},isBuffer:function(){return!1}},l=Array.prototype.slice,h={};a=function(t,e){if(t===e)return!0;if(u.isBuffer(t)&&u.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return u.isDate(t)&&u.isDate(e)?t.getTime()===e.getTime():u.isRegExp(t)&&u.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:u.isObject(t)||u.isObject(e)?s(t,e):t==e},h.deepEqual=a,o=function(t){return"[object Arguments]"===Object.prototype.toString.call(t)},s=function(t,e){if(u.isNullOrUndefined(t)||u.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;var n,r,i,s,h=o(t),f=o(e);if(h&&!f||!h&&f)return!1;if(h)return t=l.call(t),e=l.call(e),a(t,e);try{n=Object.keys(t),r=Object.keys(e)}catch(t){return!1}if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!a(t[i],e[i]))return!1;return!0},t.exports=h},function(t,e,n){"use strict";var r={characterAt:function(t,e){return t&&0!==t.length?(t=String(t),e<0&&(e=t.length+e),t.charAt(e)):""},concatenate:function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];t+=n=void 0!==n?String(n):""}return t},endsWith:function(t,e){return!(!t||!e)&&-1!==(t=String(t)).indexOf(e,t.length-e.length)},reverse:function(t){return t.slice().reverse()},startsWith:function(t,e){return!(!t||!e)&&0===(t=String(t)).indexOf(e)}};r.string=String,r.stringContains=function(t,e){return!(!t||!e)&&-1!==(t=String(t)).indexOf(e)},r.stringEquals=function(t,e,n){return t=String(t),e=String(e),!(!t||!e)&&(n?t.toLowerCase()===e.toLowerCase():t===e)},r.stringLength=function(t){return t?(t=String(t)).length:0},r.stringReplace=function(t,e,n){return(t=String(t)).replace(new RegExp(e,"g"),n)},r.stringSplit=function(t,e){return t?(e&&0!==e.length||(e=""),(t=String(t)).split(e)):[]},r.stringTrim=function(t){return t?(t=String(t)).trim():null},r.substring=function(t,e,n,r){return t?n<e?"":(t=String(t),e<0&&n<0&&(e=t.length+e,n=t.length+n),void 0!==n&&r&&(n+=1),t.substring(e,n)):""},r.toCharacterCodes=function(t){if(!t)return[];var e=[];e.length=t.length;for(var n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e},r.toCharacters=function(t){return t?(t=String(t)).split(""):[]},r.toLowerCase=function(t){return(t=String(t)).toLowerCase()},r.toTitleCase=function(t){var e,n="";t=String(t);for(var r=0;r<t.length;r+=1)e=t[r],0===n.length||" "===n[n.length-1]?n+=e.toUpperCase():n+=e;return n},r.toUpperCase=function(t){return(t=String(t)).toUpperCase()},r.wordCount=function(t){return t?(t=String(t)).split(new RegExp("\\w+")).length-1:0},r.toWords=function(t){var e=t.split(/\W+/);return""===e[e.length-1]&&e.pop(),e},t.exports=r},function(t,e,n){(function(t,n){var r=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,l=9007199254740991,h="[object Arguments]",f="[object Array]",c="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",y="[object GeneratorFunction]",v="[object Map]",g="[object Number]",x="[object Object]",P="[object RegExp]",b="[object Set]",w="[object String]",C="[object Symbol]",_="[object ArrayBuffer]",I="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,O=/^\./,L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,A=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[h]=M[f]=M[_]=M[c]=M[I]=M[p]=M[d]=M[m]=M[v]=M[g]=M[x]=M[P]=M[b]=M[w]=M["[object WeakMap]"]=!1;var X="object"==typeof t&&t&&t.Object===Object&&t,D="object"==typeof self&&self&&self.Object===Object&&self,Y=X||D||Function("return this")(),k="object"==typeof e&&e&&!e.nodeType&&e,B=k&&"object"==typeof n&&n&&!n.nodeType&&n,R=B&&B.exports===k&&X.process,F=function(){try{return R&&R.binding("util")}catch(t){}}(),j=F&&F.isTypedArray;function W(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function z(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function q(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var V=Array.prototype,G=Function.prototype,$=Object.prototype,J=Y["__core-js_shared__"],Q=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),K=G.toString,tt=$.hasOwnProperty,et=$.toString,nt=RegExp("^"+K.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=Y.Symbol,it=Y.Uint8Array,ot=$.propertyIsEnumerable,at=V.splice,st=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ut=Ft(Y,"DataView"),lt=Ft(Y,"Map"),ht=Ft(Y,"Promise"),ft=Ft(Y,"Set"),ct=Ft(Y,"WeakMap"),pt=Ft(Object,"create"),dt=Vt(ut),mt=Vt(lt),yt=Vt(ht),vt=Vt(ft),gt=Vt(ct),xt=rt?rt.prototype:void 0,Pt=xt?xt.valueOf:void 0,bt=xt?xt.toString:void 0;function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.__data__=new _t;++e<n;)this.add(t[e])}function Et(t){this.__data__=new Ct(t)}function Tt(t,e){var n=Qt(t)||Jt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!tt.call(t,o)||i&&("length"==o||Wt(o,r))||n.push(o);return n}function Ot(t,e){for(var n=t.length;n--;)if($t(t[n][0],e))return n;return-1}wt.prototype.clear=function(){this.__data__=pt?pt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(pt){var n=e[t];return n===o?void 0:n}return tt.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return pt?void 0!==e[t]:tt.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=pt&&void 0===e?o:e,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0||(n==e.length-1?e.pop():at.call(e,n,1),0))},Ct.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},Ct.prototype.has=function(t){return Ot(this.__data__,t)>-1},Ct.prototype.set=function(t,e){var n=this.__data__,r=Ot(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},_t.prototype.clear=function(){this.__data__={hash:new wt,map:new(lt||Ct),string:new wt}},_t.prototype.delete=function(t){return Rt(this,t).delete(t)},_t.prototype.get=function(t){return Rt(this,t).get(t)},_t.prototype.has=function(t){return Rt(this,t).has(t)},_t.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,o),this},It.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.clear=function(){this.__data__=new Ct},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ct){var i=n.__data__;if(!lt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new _t(i)}return n.set(t,e),this};var Lt=function(t,e){return function(n,r){if(null==n)return n;if(!Kt(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(function(t,e){return t&&Nt(t,e,ae)}),Nt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function At(t,e){for(var n=0,r=(e=zt(e,t)?[e]:kt(e)).length;null!=t&&n<r;)t=t[Ht(e[n++])];return n&&n==r?t:void 0}function St(t,e){return null!=t&&e in Object(t)}function Mt(t,e,n,r,i){return t===e||(null==t||null==e||!ne(t)&&!re(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var u=Qt(t),l=Qt(e),m=f,y=f;u||(m=(m=jt(t))==h?x:m);l||(y=(y=jt(e))==h?x:y);var E=m==x&&!U(t),T=y==x&&!U(e),O=m==y;if(O&&!E)return o||(o=new Et),u||oe(t)?Bt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!r(new it(t),new it(e)));case c:case p:case g:return $t(+t,+e);case d:return t.name==e.name&&t.message==e.message;case P:case w:return t==e+"";case v:var l=Z;case b:var h=o&s;if(l||(l=H),t.size!=e.size&&!h)return!1;var f=u.get(t);if(f)return f==e;o|=a,u.set(t,e);var m=Bt(l(t),l(e),r,i,o,u);return u.delete(t),m;case C:if(Pt)return Pt.call(t)==Pt.call(e)}return!1}(t,e,m,n,r,i,o);if(!(i&s)){var L=E&&tt.call(t,"__wrapped__"),N=T&&tt.call(e,"__wrapped__");if(L||N){var A=L?t.value():t,S=N?e.value():e;return o||(o=new Et),n(A,S,r,i,o)}}if(!O)return!1;return o||(o=new Et),function(t,e,n,r,i,o){var a=i&s,u=ae(t),l=u.length,h=ae(e).length;if(l!=h&&!a)return!1;for(var f=l;f--;){var c=u[f];if(!(a?c in e:tt.call(e,c)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<l;){c=u[f];var y=t[c],v=e[c];if(r)var g=a?r(v,y,c,e,t,o):r(y,v,c,t,e,o);if(!(void 0===g?y===v||n(y,v,r,i,o):g)){d=!1;break}m||(m="constructor"==c)}if(d&&!m){var x=t.constructor,P=e.constructor;x!=P&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof P&&P instanceof P)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,Mt,n,r,i))}function Xt(t){return!(!ne(t)||function(t){return!!Q&&Q in t}(t))&&(te(t)||U(t)?nt:A).test(Vt(t))}function Dt(t){return"function"==typeof t?t:null==t?se:"object"==typeof t?Qt(t)?function(t,e){if(zt(t)&&qt(e))return Ut(Ht(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:At(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,i=-1,o=(e=zt(e,t)?[e]:kt(e)).length;for(;++i<o;){var a=Ht(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&ee(o)&&Wt(a,o)&&(Qt(t)||Jt(t))}(t,e,St)}(n,t):Mt(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=ae(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,qt(i)]}return e}(t);if(1==e.length&&e[0][2])return Ut(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var h=(l=n[i])[0],f=t[h],c=l[1];if(u&&l[2]){if(void 0===f&&!(h in t))return!1}else{var p=new Et;if(r)var d=r(f,c,h,t,e,p);if(!(void 0===d?Mt(c,f,r,a|s,p):d))return!1}}return!0}(n,t,e)}}(t):function(t){return zt(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Ht(t)):function(t){return function(e){return At(e,t)}}(t)}(t)}function Yt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||$;return t===n}(t))return st(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function kt(t){return Qt(t)?t:Zt(t)}function Bt(t,e,n,r,i,o){var u=i&s,l=t.length,h=e.length;if(l!=h&&!(u&&h>l))return!1;var f=o.get(t);if(f&&o.get(e))return f==e;var c=-1,p=!0,d=i&a?new It:void 0;for(o.set(t,e),o.set(e,t);++c<l;){var m=t[c],y=e[c];if(r)var v=u?r(y,m,c,e,t,o):r(m,y,c,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!z(e,function(t,e){if(!d.has(e)&&(m===t||n(m,t,r,i,o)))return d.add(e)})){p=!1;break}}else if(m!==y&&!n(m,y,r,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Rt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Xt(n)?n:void 0}var jt=function(t){return et.call(t)};function Wt(t,e){return!!(e=null==e?l:e)&&("number"==typeof t||S.test(t))&&t>-1&&t%1==0&&t<e}function zt(t,e){if(Qt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ie(t))||(T.test(t)||!E.test(t)||null!=e&&t in Object(e))}function qt(t){return t==t&&!ne(t)}function Ut(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ut&&jt(new ut(new ArrayBuffer(1)))!=I||lt&&jt(new lt)!=v||ht&&"[object Promise]"!=jt(ht.resolve())||ft&&jt(new ft)!=b||ct&&"[object WeakMap]"!=jt(new ct))&&(jt=function(t){var e=et.call(t),n=e==x?t.constructor:void 0,r=n?Vt(n):void 0;if(r)switch(r){case dt:return I;case mt:return v;case yt:return"[object Promise]";case vt:return b;case gt:return"[object WeakMap]"}return e});var Zt=Gt(function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(ie(t))return bt?bt.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(t)}(t);var e=[];return O.test(t)&&e.push(""),t.replace(L,function(t,n,r,i){e.push(r?i.replace(N,"$1"):n||t)}),e});function Ht(t){if("string"==typeof t||ie(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Vt(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Gt.Cache||_t),n}function $t(t,e){return t===e||t!=t&&e!=e}function Jt(t){return function(t){return re(t)&&Kt(t)}(t)&&tt.call(t,"callee")&&(!ot.call(t,"callee")||et.call(t)==h)}Gt.Cache=_t;var Qt=Array.isArray;function Kt(t){return null!=t&&ee(t.length)&&!te(t)}function te(t){var e=ne(t)?et.call(t):"";return e==m||e==y}function ee(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function ne(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function re(t){return!!t&&"object"==typeof t}function ie(t){return"symbol"==typeof t||re(t)&&et.call(t)==C}var oe=j?function(t){return function(e){return t(e)}}(j):function(t){return re(t)&&ee(t.length)&&!!M[et.call(t)]};function ae(t){return Kt(t)?Tt(t):Yt(t)}function se(t){return t}n.exports=function(t,e,n){var r=Qt(t)?W:q,i=arguments.length<3;return r(t,Dt(e),n,i,Lt)}}).call(this,n(3),n(11)(t))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){h(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&h(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){h(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){h(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(h,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function h(t){if(a)setTimeout(h,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(3),n(18))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(37),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(t,e,n){"use strict";var r=n(19),i=(n(20),n(21));function o(t,e){e(null,t)}var a={};a.toImage=function(){return function(t,e){e(null,i.toImage(t))}},a.load=function(t,e){return e.isPath()?a.loadFile(e.data):e.isFill()?a.generateColor(t,e):e.isGradient()?a.generateGradient(t,e):e.isHtmlCanvas()?a.loadHtmlCanvas(e.data):e.isImage()?a.loadImage(e.data):e.isImageCanvas()?a.loadImageCanvas(e.data):void 0},a.loadFile=function(t){return function(e,n){var r=document.createElement("canvas"),i=r.getContext("2d"),o=new Image;o.onload=function(){r.width=o.width,r.height=o.height,i.drawImage(o,0,0,r.width,r.height),n(null,r)},o.src=t}},a.loadHtmlCanvas=function(t){return function(e,n){n(null,t)}},a.loadImageCanvas=function(t){return function(e,n){t.render(function(t){n(null,t)})}},a.loadImage=function(t){return function(e,n){n(null,i.loadImage(t))}},a.generateColor=function(t,e){return function(n,r){r(null,i.generateColor(t,e))}},a.generateGradient=function(t,e){return function(n,r){r(null,i.generateGradient(t,e))}},a.processImage=function(t){return 0===t.length?o:function(e,n){i.processImage(e,t),n(null,e)}},a.processMask=function(t){return 0===t.layers.length?o:function(e,n){t.width=e.width,t.height=e.height,a.renderBW(t,function(t){var r={name:"mask",options:{data:t.getContext("2d").getImageData(0,0,t.width,t.height).data,x:0,y:0,width:t.width,height:t.height}};a.processImage([r])(e,n)})}},a.mergeManualBlend=function(t,e){return function(n,r){i.mergeManualBlend(t,e)(n),r(null,n)}},a.mergeNativeBlend=function(t,e){return function(n,r){i.mergeNativeBlend(t,e)(n),r(null,n)}},a.merge=function(t,e,n){var o=i.createRenderPipe(a,t,e);o.reverse();var s=i.singleLayerWithOpacity(t,e[0]);o.push(function(t,e){e(null,s)}),r.compose.apply(null,o)(null,function(){n(s)})},a.composite=function(t,e,n){e&&0!==e.length?1!==e.length?a.merge(t,e,n):n(i.singleLayerWithOpacity(t,e[0])):n(null)},a.render=function(t,e){r.map(t.layers,function(t){return function(e,n){r.compose(a.processImage(e.filters),a.processMask(e.mask),a.load(t,e))(null,n)}}(t),function(n,r){e&&a.composite(t,i.getLayerData(t,r),e)})},a.renderBW=function(t,e){a.render(t,function(t){t.getContext("2d").getImageData(0,0,t.width,t.height).data;a.processImage([{name:"desaturate",options:{method:"ITU-R BT.709"}}])(t,function(t,n){e(n)})})},t.exports=a},function(t,e){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.exports=function(t,e,o,a){if(!(isNaN(a)||a<1)){var s,u,l,h,f,c,p,d,m,y,v,g,x,P,b,w,C,_,I,E,T,O,L,N,A=(a|=0)+a+1,S=e-1,M=o-1,X=a+1,D=X*(X+1)/2,Y=new i,k=Y;for(l=1;l<A;l++)if(k=k.next=new i,l==X)var B=k;k.next=Y;var R=null,F=null;p=c=0;var j=n[a],W=r[a];for(u=0;u<o;u++){for(w=C=_=I=d=m=y=v=0,g=X*(E=t[c]),x=X*(T=t[c+1]),P=X*(O=t[c+2]),b=X*(L=t[c+3]),d+=D*E,m+=D*T,y+=D*O,v+=D*L,k=Y,l=0;l<X;l++)k.r=E,k.g=T,k.b=O,k.a=L,k=k.next;for(l=1;l<X;l++)h=c+((S<l?S:l)<<2),d+=(k.r=E=t[h])*(N=X-l),m+=(k.g=T=t[h+1])*N,y+=(k.b=O=t[h+2])*N,v+=(k.a=L=t[h+3])*N,w+=E,C+=T,_+=O,I+=L,k=k.next;for(R=Y,F=B,s=0;s<e;s++)t[c+3]=L=v*j>>W,0!=L?(L=255/L,t[c]=(d*j>>W)*L,t[c+1]=(m*j>>W)*L,t[c+2]=(y*j>>W)*L):t[c]=t[c+1]=t[c+2]=0,d-=g,m-=x,y-=P,v-=b,g-=R.r,x-=R.g,P-=R.b,b-=R.a,h=p+((h=s+a+1)<S?h:S)<<2,d+=w+=R.r=t[h],m+=C+=R.g=t[h+1],y+=_+=R.b=t[h+2],v+=I+=R.a=t[h+3],R=R.next,g+=E=F.r,x+=T=F.g,P+=O=F.b,b+=L=F.a,w-=E,C-=T,_-=O,I-=L,F=F.next,c+=4;p+=e}for(s=0;s<e;s++){for(C=_=I=w=m=y=v=d=0,g=X*(E=t[c=s<<2]),x=X*(T=t[c+1]),P=X*(O=t[c+2]),b=X*(L=t[c+3]),d+=D*E,m+=D*T,y+=D*O,v+=D*L,k=Y,l=0;l<X;l++)k.r=E,k.g=T,k.b=O,k.a=L,k=k.next;for(f=e,l=1;l<=a;l++)c=f+s<<2,d+=(k.r=E=t[c])*(N=X-l),m+=(k.g=T=t[c+1])*N,y+=(k.b=O=t[c+2])*N,v+=(k.a=L=t[c+3])*N,w+=E,C+=T,_+=O,I+=L,k=k.next,l<M&&(f+=e);for(c=s,R=Y,F=B,u=0;u<o;u++)t[3+(h=c<<2)]=L=v*j>>W,L>0?(L=255/L,t[h]=(d*j>>W)*L,t[h+1]=(m*j>>W)*L,t[h+2]=(y*j>>W)*L):t[h]=t[h+1]=t[h+2]=0,d-=g,m-=x,y-=P,v-=b,g-=R.r,x-=R.g,P-=R.b,b-=R.a,h=s+((h=u+X)<M?h:M)*e<<2,d+=w+=R.r=t[h],m+=C+=R.g=t[h+1],y+=_+=R.b=t[h+2],v+=I+=R.a=t[h+3],R=R.next,g+=E=F.r,x+=T=F.g,P+=O=F.b,b+=L=F.a,w-=E,C-=T,_-=O,I-=L,F=F.next,c+=e}}}},function(t,e,n){"use strict";var r,i,o={normal:"source-over","linear-dodge":"add"};function a(t){var e,n,r,i=Object.keys(o);for(e=0;e<i.length;e+=1)n=i[e],r=o[n],t[n]=t[r]}function s(t){return void 0!==o[t]?o[t]:t}function u(){if("undefined"==typeof document)return{};var t,e,n,r,i={},o=document.createElement("canvas"),s=o.getContext("2d");if(!s)return{};var u=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],l=["multiply","screen","overlay","soft-light","hard-light","color-dodge","color-burn","darken","lighten","difference","exclusion","hue","saturation","luminosity","color","add","subtract","average","negation"],h=["divide","darker-color","lighter-color","linear-burn","linear-light","vivid-light","pin-light","hard-mix"];for(t=0;t<u.length;t+=1)i[u[t]]=!0;for(t=0;t<h.length;t+=1)i[h[t]]=!1;for(o.width=1,o.height=1,t=0;t<l.length;t+=1){n="darken"===(e=l[t]),r=!1,s.save();try{s.fillStyle=n?"#300":"#a00",s.fillRect(0,0,1,1),s.globalCompositeOperation=e,s.globalCompositeOperation===e&&(s.fillStyle=n?"#a00":"#300",s.fillRect(0,0,1,1),r=s.getImageData(0,0,1,1).data[0]!==(n?170:51))}catch(t){}s.restore(),i[e]=r}return a(i),i}function l(t,e,n,r,o){i(t,e,n,r,o)}function h(t){return function(e,n,r,i,o){o.type=t,l(e,n,r,i,o)}}i=function(t,e,n,r,i){var o,a,s,u,l,h,f,c,p,d,m,y,v=Math.max,g=Math.min,x=.2126,P=.7152,b=.0722;function w(t,e,n){var r,i,o;return n/=255,(t/=255)===(e/=255)&&e===n?(i=0,r=0):r=t>=e&&e>=n?60*(e-n)/(i=t-n):e>t&&t>=n?60*(e-t)/(i=e-n)+60:e>=n&&n>t?60*(n-t)/(i=e-t)+120:n>e&&e>t?60*(n-e)/(i=n-t)+180:n>t&&t>=e?60*(t-e)/(i=n-e)+240:60*(t-n)/(i=t-e)+300,o=x*t+P*e+b*n,[r%360,g(v(i,0),1),g(v(o,0),1)]}function C(t,e,n){var r,i,o,a;return(t%=360)>=0&&t<60?(r=(o=n-x*e-P*(a=e*t/60))+e,i=o+a):t>=60&&t<120?(o=(i=n+b*e+x*(a=e*(t-60)/60))-e,r=i-a):t>=120&&t<180?(i=(r=n-P*e-b*(a=e*(t-120)/60))+e,o=r+a):t>=180&&t<240?(r=(o=n+x*e+P*(a=e*(t-180)/60))-e,i=o-a):t>=240&&t<300?(o=(i=n-b*e-x*(a=e*(t-240)/60))+e,r=i+a):(i=(r=n+P*e+b*(a=e*(t-300)/60))-e,o=r-a),[r=255*g(v(r,0),1),i=255*g(v(i,0),1),o=255*g(v(o,0),1)]}o={"source-over":function(){d=a+h-h*l,m=s+f-f*l,y=u+c-c*l},multiply:function(){d=a*h+a*(1-p)+h*(1-l),m=s*f+s*(1-p)+f*(1-l),y=u*c+u*(1-p)+c*(1-l)},subtract:function(){d=v(h*l-a*p,0)+a*(1-p)+h*(1-l),m=v(f*l-s*p,0)+s*(1-p)+f*(1-l),y=v(c*l-u*p,0)+u*(1-p)+c*(1-l)},divide:function(){d=0===a?0:h/a*255,m=0===s?0:f/s*255,y=0===u?0:c/u*255},screen:function(){d=a+h-a*h,m=s+f-s*f,y=u+c-u*c},lighten:function(){d=v(a*p,h*l)+a*(1-p)+h*(1-l),m=v(s*p,f*l)+s*(1-p)+f*(1-l),y=v(u*p,c*l)+u*(1-p)+c*(1-l)},darken:function(){d=g(a*p,h*l)+a*(1-p)+h*(1-l),m=g(s*p,f*l)+s*(1-p)+f*(1-l),y=g(u*p,c*l)+u*(1-p)+c*(1-l)},"darker-color":function(){h*l*.3+f*l*.59+c*l*.11<=a*p*.3+s*p*.59+u*p*.11?(d=h*l,m=f*l,y=c*l):(d=a*p,m=s*p,y=u*p),d+=a*(1-p)+h*(1-l),m+=s*(1-p)+f*(1-l),y+=u*(1-p)+c*(1-l)},"lighter-color":function(){h*l*.3+f*l*.59+c*l*.11>a*p*.3+s*p*.59+u*p*.11?(d=h*l,m=f*l,y=c*l):(d=a*p,m=s*p,y=u*p),d+=a*(1-p)+h*(1-l),m+=s*(1-p)+f*(1-l),y+=u*(1-p)+c*(1-l)},add:function(){d=g(h+a,255),m=g(f+s,255),y=g(c+u,255)},"linear-burn":function(){m=f+s,y=c+u,d=(d=h+a)<255?0:d-255,m=m<255?0:m-255,y=y<255?0:y-255},difference:function(){d=a+h-2*g(a*p,h*l),m=s+f-2*g(s*p,f*l),y=u+c-2*g(u*p,c*l)},exclusion:function(){d=a*p+h*l-2*a*h+a*(1-p)+h*(1-l),m=s*p+f*l-2*s*f+s*(1-p)+f*(1-l),y=u*p+c*l-2*u*c+u*(1-p)+c*(1-l)},overlay:function(){d=2*h<=p?2*a*h+a*(1-p)+h*(1-l):a*(1+p)+h*(1+l)-2*h*a-p*l,m=2*f<=p?2*s*f+s*(1-p)+f*(1-l):s*(1+p)+f*(1+l)-2*f*s-p*l,y=2*c<=p?2*u*c+u*(1-p)+c*(1-l):u*(1+p)+c*(1+l)-2*c*u-p*l},"soft-light":function(){var t,e=Math.pow;if(0===p)return d=a,m=s,void(y=u);t=h/p,2*a<=l?d=h*(l+(2*a-l)*(1-t))+a*(1-p)+h*(1-l):2*a>l&&4*h<=p?d=p*(2*a-l)*(16*e(t,3)-12*e(t,2)-3*t)+a-a*p+h:2*a>l&&4*h>p&&(d=p*(2*a-l)*(e(t,.5)-t)+a-a*p+h),t=f/p,2*s<=l?m=f*(l+(2*s-l)*(1-t))+s*(1-p)+f*(1-l):2*s>l&&4*f<=p?m=p*(2*s-l)*(16*e(t,3)-12*e(t,2)-3*t)+s-s*p+f:2*s>l&&4*f>p&&(m=p*(2*s-l)*(e(t,.5)-t)+s-s*p+f),t=c/p,2*u<=l?y=c*(l+(2*u-l)*(1-t))+u*(1-p)+c*(1-l):2*u>l&&4*c<=p?y=p*(2*u-l)*(16*e(t,3)-12*e(t,2)-3*t)+u-u*p+c:2*u>l&&4*c>p&&(y=p*(2*u-l)*(e(t,.5)-t)+u-u*p+c)},"hard-light":function(){d=2*a<=l?2*a*h+a*(1-p)+h*(1-l):a*(1+p)+h*(1+l)-l*p-2*a*h,m=2*s<=l?2*s*f+s*(1-p)+f*(1-l):s*(1+p)+f*(1+l)-l*p-2*s*f,y=2*u<=l?2*u*c+u*(1-p)+c*(1-l):u*(1+p)+c*(1+l)-l*p-2*u*c},"color-dodge":function(){if(0===p)return d=a,m=s,void(y=u);a===l&&0===h?d=a*(1-p):a===l?d=l*p+a*(1-p)+h*(1-l):a<l&&(d=l*p*g(1,h/p*l/(l-a))+a*(1-p)+h*(1-l)),s===l&&0===f?m=s*(1-p):a===l?m=l*p+s*(1-p)+f*(1-l):a<l&&(m=l*p*g(1,f/p*l/(l-s))+s*(1-p)+f*(1-l)),u===l&&0===c?y=u*(1-p):a===l?y=l*p+u*(1-p)+c*(1-l):a<l&&(y=l*p*g(1,c/p*l/(l-u))+u*(1-p)+c*(1-l))},"color-burn":function(){if(0===p)return d=a,m=s,void(y=u);0===a&&h===p?d=l*p+h*(1-l):0===a?d=h*(1-l):a>0&&(d=l*p*(1-g(1,(1-h/p)*l/a))+a*(1-p)+h*(1-l)),0===s&&f===p?m=l*p+f*(1-l):0===s?m=f*(1-l):s>0&&(m=l*p*(1-g(1,(1-f/p)*l/s))+s*(1-p)+f*(1-l)),0===u&&c===p?y=l*p+c*(1-l):0===u?y=c*(1-l):u>0&&(y=l*p*(1-g(1,(1-c/p)*l/u))+u*(1-p)+c*(1-l))},"linear-light":function(){var t=2*a+h-256,e=2*s+f-256,n=2*u+c-256;d=t<0||a<128&&t<0?0:t>255?255:t,m=e<0||s<128&&e<0?0:e>255?255:e,y=n<0||u<128&&n<0?0:n>255?255:n},"vivid-light":function(){var t;d=a<128?a?(t=255-(255-h<<8)/(2*a))<0?0:t:0:(t=2*a-256)<255?(t=(h<<8)/(255-t))>255?255:t:t<0?0:t,m=s<128?s?(t=255-(255-f<<8)/(2*s))<0?0:t:0:(t=2*s-256)<255?(t=(f<<8)/(255-t))>255?255:t:t<0?0:t,y=u<128?u?(t=255-(255-c<<8)/(2*u))<0?0:t:0:(t=2*u-256)<255?(t=(c<<8)/(255-t))>255?255:t:t<0?0:t},"pin-light":function(){var t;d=a<128?h<(t=2*a)?h:t:h>(t=2*a-256)?h:t,m=s<128?f<(t=2*s)?f:t:f>(t=2*s-256)?f:t,y=u<128?c<(t=2*u)?c:t:c>(t=2*u-256)?c:t},"hard-mix":function(){var t;d=a<128?255-(255-h<<8)/(2*a)<128||0===a?0:255:(t=2*a-256)<255&&(h<<8)/(255-t)<128?0:255,m=s<128?255-(255-f<<8)/(2*s)<128||0===s?0:255:(t=2*s-256)<255&&(f<<8)/(255-t)<128?0:255,y=u<128?255-(255-c<<8)/(2*u)<128||0===u?0:255:(t=2*u-256)<255&&(c<<8)/(255-t)<128?0:255},hue:function(){var t=w(h,f,c),e=C(w(a,s,u)[0],t[1],t[2]);d=e[0],m=e[1],y=e[2]},saturation:function(){var t=w(h,f,c),e=w(a,s,u),n=C(t[0],e[1],t[2]);d=n[0],m=n[1],y=n[2]},luminosity:function(){var t=w(h,f,c),e=w(a,s,u),n=C(t[0],t[1],e[2]);d=n[0],m=n[1],y=n[2]},color:function(){var t=w(h,f,c),e=w(a,s,u),n=C(e[0],e[1],t[2]);d=n[0],m=n[1],y=n[2]}},function(){var x,P,b,w,C,_,I,E,T,O=i.data,L=0===i.opacity?0:i.opacity||1,N=o[i.type||"_svg_normal"],A=i.dx||0,S=i.dy||0,M=function(t,e){var n=t.x+t.width,r=t.y+t.height,i=e.x+e.width,o=e.y+e.height,a=v(t.x,e.x),s=v(t.y,e.y);return[a,s,v(g(n,i)-a,0),v(g(r,o)-s,0)]}({x:0,y:0,width:n,height:r},{x:A,y:S,width:i.width,height:i.height}),X=M[0],D=M[1],Y=M[2],k=M[3];for(T=0===N.name.indexOf("_svg_")?function(){l=O[P+3]/255*L,p=t[x+3]/255,E=255/(I=l+p-l*p),a=O[P]/255*l,s=O[P+1]/255*l,u=O[P+2]/255*l,h=t[x]/255*p,f=t[x+1]/255*p,c=t[x+2]/255*p,N(),e[x]=d*E,e[x+1]=m*E,e[x+2]=y*E,e[x+3]=255*I}:function(){h=t[x],f=t[x+1],c=t[x+2],a=O[P],s=O[P+1],u=O[P+2],N(),e[x]=d,e[x+1]=m,e[x+2]=y,e[x+3]=t[x+3],(C=L*O[P+3]/255)<1&&(_=1-C,e[x]=t[x]*_+e[x]*C,e[x+1]=t[x+1]*_+e[x+1]*C,e[x+2]=t[x+2]*_+e[x+2]*C)},w=0;w<r;w+=1)for(b=0;b<n;b+=1)x=4*(w*n+b),w>=D&&b>=X&&b<X+Y&&w<D+k?(P=4*((w-S)*i.width+b-A),T()):(e[x]=t[x],e[x+1]=t[x+1],e[x+2]=t[x+2],e[x+3]=t[x+3])}()},r=function(){for(var t,e={blend:l},n=["source-over","add","multiply","subtract","divide","screen","lighten","darken","darker-color","lighter-color","linear-burn","difference","exclusion","overlay","soft-light","hard-light","color-dodge","color-burn","linear-light","vivid-light","pin-light","hard-mix","hue","saturation","luminosity","color"],r=0;r<n.length;r+=1)e[t=n[r]]=h(t);for(n=Object.keys(n),r=0;r<n.length;r+=1);return a(e),e.getNativeModes=u,e.realBlendMode=s,e}(),t.exports=r},function(t,e,n){"use strict";var r=n(8),i=n(1),o=n(4),a=n(0),s=n(23),u={roundedRect:function(t,e,n,r,i,a){var s=new o;return s.addRoundedRect(t,e,n,r,i,a),s},quad:function(t,e,n,r){var i=arguments,s=new o;return 8===i.length?o.prototype.addQuad.apply(s,i):(t=a.read(t),e=a.read(e),n=a.read(n),r=a.read(r),s.addQuad(t.x,t.y,e.x,e.y,n.x,n.y,r.x,r.y)),s},rect:function(t,e,n,r){var i=arguments;if(3===i.length?t=a.read(t):4===i.length?"number"==typeof i[0]&&"number"==typeof i[1]?(t=a.read(i[0],i[1]),e=i[2],n=i[3],r=null):(t=a.read(t),r=a.read(r)):5!==i.length&&6!==i.length||(t=a.read(i[0],i[1]),e=i[2],n=i[3],r=5===i.length&&"number"==typeof i[4]?a.read(i[4],i[4]):a.read(i[4],i[5])),!r||0===r.x&&0===r.y){var s=new o;return s.addRect(t.x-e/2,t.y-n/2,e,n),s}return u.roundedRect(t.x-e/2,t.y-n/2,e,n,r.x,r.y)},ellipse:function(t,e,n){var r=arguments;4===r.length?(t=a.read(r[0],r[1]),e=r[2],n=r[3]):t=a.read(t);var i=new o;return i.addEllipse(t.x-e/2,t.y-n/2,e,n),i},line:function(t,e){var n=arguments;4===n.length?(t=a.read(n[0],n[1]),e=a.read(n[2],n[3])):(t=a.read(t),e=a.read(e));var r=new o;return r.addLine(t.x,t.y,e.x,e.y),r.fill=null,r.stroke="black",r},lineAngle:function(t,e,n){var i=arguments;4===i.length?(t=a.read(i[0],i[1]),n=i[2],e=i[3]):t=a.read(t);var o=r.coordinates(t.x,t.y,e,n);return u.line(t,o)},arc:function(t,e,n,r,i,s){var u=arguments;7===u.length?(t=a.read(u[0],u[1]),e=u[2],n=u[3],r=u[4],i=u[5],s=u[6]):t=a.read(t);var l=new o;return l.addArc(t.x,t.y,e,n,r,i,s),l},curve:function(t,e,n,s){var u=arguments;6===u.length?(t=a.read(u[0],u[1]),e=a.read(u[2],u[3]),n=u[4],s=u[5]):(t=a.read(t),e=a.read(e));var l=t.x+n*(e.x-t.x),h=t.y+n*(e.y-t.y),f=r.angle(t.x,t.y,e.x,e.y)+90,c=r.coordinates(l,h,f,s),p=c.x,d=c.y,m=t.x+2/3*(p-t.x),y=t.y+2/3*(d-t.y),v=e.x+2/3*(p-e.x),g=e.y+2/3*(d-e.y),x=new o;return x.moveTo(t.x,t.y),x.curveTo(m,y,v,g,e.x,e.y),x.fill=null,x.stroke=i.BLACK,x},polygon:function(t,e,n,i){var s=arguments;5===s.length||4===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]?(t=a.read(s[0],s[1]),e=s[2],n=s[3],i=5!==s.length||s[4]):(t=a.read(t),3===s.length&&(i=!0)),n=Math.max(n,3);var u,l,h,f,c=t.x,p=t.y,d=e,m=360/n,y=0;!0===i&&(u=r.coordinates(c,p,0,d),l=r.coordinates(c,p,m,d),y=-r.angle(l.x,l.y,u.x,u.y));var v=new o;for(h=0;h<n;h+=1)f=r.coordinates(c,p,m*h+y,d),0===h?v.moveTo(f.x,f.y):v.lineTo(f.x,f.y);return v.close(),v},star:function(t,e,n,r){var i,s,u,l,h,f=arguments;5===f.length||4===f.length&&"number"==typeof f[0]&&"number"==typeof f[1]?(t=a.read(f[0],f[1]),e=f[2],n=f[3],r=f[4]):t=a.read(t),r||(r=n);var c=new o;for(c.moveTo(t.x,t.y+n/2),i=1;i<2*e;i+=1)s=i*Math.PI/e,u=i%2==1?r/2:n/2,l=t.x+u*Math.sin(s),h=t.y+u*Math.cos(s),c.lineTo(l,h);return c.close(),c}},l=function(t){return""!==t},h=function(t){return t.replace(/,/g," ")};u.freehand=function(t){var e,n,r,a,s,u=[],f=t.split("M");for(e=0;e<f.length;e+=1)l(f[e])&&u.push(h(f[e]));var c=new o;for(n=0;n<u.length;n+=1){for(s=[],f=u[n].split(" "),e=0;e<f.length;e+=1)l(f[e])&&s.push(f[e]);for(e=0;e<s.length;e+=2)void 0!==s[e+1]&&(r=parseFloat(s[e]),a=parseFloat(s[e+1]),0===e?c.moveTo(r,a):c.lineTo(r,a))}return c.fill=null,c.stroke=i.BLACK,c},u.grid=function(t,e,n,r,i){var o,s,u,l,h,f,c,p,d,m=[];for(m.length=t*e,i=void 0!==i?i:a.ZERO,t>1?(o=n*(t-1),s=i.x-o/2):s=i.x,e>1?(u=r*(e-1),l=i.y-u/2):l=i.y,d=0,h=0;h<e;h+=1)for(f=0;f<t;f+=1)c=s+f*n,p=l+h*r,m[d]=new a(c,p),d+=1;return m},u.text=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(null),new(Function.prototype.bind.apply(s,t))},u.demoRect=function(){return new u.rect({x:0,y:0},100,100,{x:0,y:0})},u.demoEllipse=function(){return new u.ellipse({x:0,y:0},100,100)},t.exports=u},function(t,e){!function(){"use strict";var e,n={use_lines:!0,use_xyz:!1},r=!1;if(void 0!==t&&t.exports?(t.exports=n,r=!0):"undefined"!=typeof document?window.ClipperLib=n:self.ClipperLib=n,r){i="chrome";e="Netscape"}else{var i=navigator.userAgent.toString().toLowerCase();e=navigator.appName}var o,a={};-1!=i.indexOf("chrome")&&-1==i.indexOf("chromium")?a.chrome=1:a.chrome=0,-1!=i.indexOf("chromium")?a.chromium=1:a.chromium=0,-1!=i.indexOf("safari")&&-1==i.indexOf("chrome")&&-1==i.indexOf("chromium")?a.safari=1:a.safari=0,-1!=i.indexOf("firefox")?a.firefox=1:a.firefox=0,-1!=i.indexOf("firefox/17")?a.firefox17=1:a.firefox17=0,-1!=i.indexOf("firefox/15")?a.firefox15=1:a.firefox15=0,-1!=i.indexOf("firefox/3")?a.firefox3=1:a.firefox3=0,-1!=i.indexOf("opera")?a.opera=1:a.opera=0,-1!=i.indexOf("msie 10")?a.msie10=1:a.msie10=0,-1!=i.indexOf("msie 9")?a.msie9=1:a.msie9=0,-1!=i.indexOf("msie 8")?a.msie8=1:a.msie8=0,-1!=i.indexOf("msie 7")?a.msie7=1:a.msie7=0,-1!=i.indexOf("msie ")?a.msie=1:a.msie=0,n.biginteger_used=null;function s(t,e,r){n.biginteger_used=1,null!=t&&("number"==typeof t&&void 0===e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function u(){return new s(null,void 0,void 0)}"Microsoft Internet Explorer"==e?(s.prototype.am=function(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,h=s*u+l*a;i=((u=a*u+((32767&h)<<15)+n[r]+(1073741823&i))>>>30)+(h>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},o=30):"Netscape"!=e?(s.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},o=26):(s.prototype.am=function(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,h=s*u+l*a;i=((u=a*u+((16383&h)<<14)+n[r]+i)>>28)+(h>>14)+s*l,n[r++]=268435455&u}return i},o=28),s.prototype.DB=o,s.prototype.DM=(1<<o)-1,s.prototype.DV=1<<o;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-o,s.prototype.F2=2*o-52;var l,h,f="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(l="0".charCodeAt(0),h=0;h<=9;++h)c[l++]=h;for(l="a".charCodeAt(0),h=10;h<36;++h)c[l++]=h;for(l="A".charCodeAt(0),h=10;h<36;++h)c[l++]=h;function p(t){return f.charAt(t)}function d(t,e){var n=c[t.charCodeAt(e)];return null==n?-1:n}function m(t){var e=u();return e.fromInt(t),e}function y(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function v(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function x(t,e){return t&e}function P(t,e){return t|e}function b(t,e){return t^e}function w(t,e){return t&~e}function C(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function _(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function I(){}function E(t){return t}function T(t){this.r2=u(),this.q3=u(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}v.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},v.prototype.revert=function(t){return t},v.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},v.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},v.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=u();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=u();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},s.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},s.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},s.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var a=8==n?255&t[r]:d(t,r);a<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},s.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},s.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},s.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},s.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},s.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},s.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&s.ZERO.subTo(e,e)},s.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},s.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=u());var o=u(),a=this.s,l=t.s,h=this.DB-y(r[r.t-1]);h>0?(r.lShiftTo(h,o),i.lShiftTo(h,n)):(r.copyTo(o),i.copyTo(n));var f=o.t,c=o[f-1];if(0!=c){var p=c*(1<<this.F1)+(f>1?o[f-2]>>this.F2:0),d=this.FV/p,m=(1<<this.F1)/p,v=1<<this.F2,g=n.t,x=g-f,P=null==e?u():e;for(o.dlShiftTo(x,P),n.compareTo(P)>=0&&(n[n.t++]=1,n.subTo(P,n)),s.ONE.dlShiftTo(f,P),P.subTo(o,o);o.t<f;)o[o.t++]=0;for(;--x>=0;){var b=n[--g]==c?this.DM:Math.floor(n[g]*d+(n[g-1]+v)*m);if((n[g]+=o.am(0,b,n,x,0,f))<b)for(o.dlShiftTo(x,P),n.subTo(P,n);n[g]<--b;)n.subTo(P,n)}null!=e&&(n.drShiftTo(f,e),a!=l&&s.ZERO.subTo(e,e)),n.t=f,n.clamp(),h>0&&n.rShiftTo(h,n),a<0&&s.ZERO.subTo(n,n)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},s.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},s.prototype.exp=function(t,e){if(t>4294967295||t<1)return s.ONE;var n=u(),r=u(),i=e.convert(this),o=y(t)-1;for(i.copyTo(n);--o>=0;)if(e.sqrTo(n,r),(t&1<<o)>0)e.mulTo(r,i,n);else{var a=n;n=r,r=a}return e.revert(n)},s.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=p(n));a>=0;)s<e?(n=(this[a]&(1<<s)-1)<<e-s,n|=this[--a]>>(s+=this.DB-e)):(n=this[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=p(n));return i?o:"0"},s.prototype.negate=function(){var t=u();return s.ZERO.subTo(this,t),t},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)},s.prototype.mod=function(t){var e=u();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(s.ZERO)>0&&t.subTo(e,e),e},s.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new v(e):new g(e),this.exp(t,n)},s.ZERO=m(0),s.ONE=m(1),I.prototype.convert=E,I.prototype.revert=E,I.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},I.prototype.sqrTo=function(t,e){t.squareTo(e)},T.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=u();return t.copyTo(e),this.reduce(e),e},T.prototype.revert=function(t){return t},T.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},T.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},T.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var O=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],L=(1<<26)/O[O.length-1];s.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},s.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=m(n),i=u(),o=u(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},s.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,o=0,a=0,u=0;u<t.length;++u){var l=d(t,u);l<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},s.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},s.prototype.changeBit=function(t,e){var n=s.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},s.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},s.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},s.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},s.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},s.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},s.prototype.millerRabin=function(t){var e=this.subtract(s.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>O.length&&(t=O.length);for(var i=u(),o=0;o<t;++o){i.fromInt(O[Math.floor(Math.random()*O.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(s.ONE)&&0!=a.compareTo(e)){for(var l=1;l++<n&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},s.prototype.clone=function(){var t=u();return this.copyTo(t),t},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},s.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},s.prototype.equals=function(t){return 0==this.compareTo(t)},s.prototype.min=function(t){return this.compareTo(t)<0?this:t},s.prototype.max=function(t){return this.compareTo(t)>0?this:t},s.prototype.and=function(t){var e=u();return this.bitwiseTo(t,x,e),e},s.prototype.or=function(t){var e=u();return this.bitwiseTo(t,P,e),e},s.prototype.xor=function(t){var e=u();return this.bitwiseTo(t,b,e),e},s.prototype.andNot=function(t){var e=u();return this.bitwiseTo(t,w,e),e},s.prototype.not=function(){for(var t=u(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},s.prototype.shiftLeft=function(t){var e=u();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},s.prototype.shiftRight=function(t){var e=u();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},s.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+C(this[t]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=_(this[n]^e);return t},s.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},s.prototype.setBit=function(t){return this.changeBit(t,P)},s.prototype.clearBit=function(t){return this.changeBit(t,w)},s.prototype.flipBit=function(t){return this.changeBit(t,b)},s.prototype.add=function(t){var e=u();return this.addTo(t,e),e},s.prototype.subtract=function(t){var e=u();return this.subTo(t,e),e},s.prototype.multiply=function(t){var e=u();return this.multiplyTo(t,e),e},s.prototype.divide=function(t){var e=u();return this.divRemTo(t,e,null),e},s.prototype.remainder=function(t){var e=u();return this.divRemTo(t,null,e),e},s.prototype.divideAndRemainder=function(t){var e=u(),n=u();return this.divRemTo(t,e,n),new Array(e,n)},s.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=m(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new v(e):e.isEven()?new T(e):new g(e);var a=new Array,s=3,l=n-1,h=(1<<n)-1;if(a[1]=r.convert(this),n>1){var f=u();for(r.sqrTo(a[1],f);s<=h;)a[s]=u(),r.mulTo(f,a[s-2],a[s]),s+=2}var c,p,d=t.t-1,x=!0,P=u();for(i=y(t[d])-1;d>=0;){for(i>=l?c=t[d]>>i-l&h:(c=(t[d]&(1<<i+1)-1)<<l-i,d>0&&(c|=t[d-1]>>this.DB+i-l)),s=n;0==(1&c);)c>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),x)a[c].copyTo(o),x=!1;else{for(;s>1;)r.sqrTo(o,P),r.sqrTo(P,o),s-=2;s>0?r.sqrTo(o,P):(p=o,o=P,P=p),r.mulTo(P,a[c],o)}for(;d>=0&&0==(t[d]&1<<i);)r.sqrTo(o,P),p=o,o=P,P=p,--i<0&&(i=this.DB-1,--d)}return r.revert(o)},s.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return s.ZERO;for(var n=t.clone(),r=this.clone(),i=m(1),o=m(0),a=m(0),u=m(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(a,i),o.subTo(u,o)):(r.subTo(n,r),e&&a.subTo(i,a),u.subTo(o,u))}return 0!=r.compareTo(s.ONE)?s.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},s.prototype.pow=function(t){return this.exp(t,new I)},s.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},s.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=O[O.length-1]){for(e=0;e<O.length;++e)if(n[0]==O[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<O.length;){for(var r=O[e],i=e+1;i<O.length&&r<L;)r*=O[i++];for(r=n.modInt(r);e<i;)if(r%O[e++]==0)return!1}return n.millerRabin(t)},s.prototype.square=function(){var t=u();return this.squareTo(t),t};var N=s;N.prototype.IsNegative=function(){return-1==this.compareTo(N.ZERO)},N.op_Equality=function(t,e){return 0==t.compareTo(e)},N.op_Inequality=function(t,e){return 0!=t.compareTo(e)},N.op_GreaterThan=function(t,e){return t.compareTo(e)>0},N.op_LessThan=function(t,e){return t.compareTo(e)<0},N.op_Addition=function(t,e){return new N(t).add(new N(e))},N.op_Subtraction=function(t,e){return new N(t).subtract(new N(e))},N.Int128Mul=function(t,e){return new N(t).multiply(new N(e))},N.op_Division=function(t,e){return t.divide(e)},N.prototype.ToDouble=function(){return parseFloat(this.toString())};var A=function(t,e){var n;if(void 0===Object.getOwnPropertyNames){for(n in e.prototype)void 0!==t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)void 0===t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var r=Object.getOwnPropertyNames(e.prototype),i=0;i<r.length;i++)void 0===Object.getOwnPropertyDescriptor(t.prototype,r[i])&&Object.defineProperty(t.prototype,r[i],Object.getOwnPropertyDescriptor(e.prototype,r[i]));for(n in e)void 0===t[n]&&(t[n]=e[n]);t.$baseCtor=e}};n.Path=function(){return[]},n.Paths=function(){return[]},n.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},n.DoublePoint0=function(){this.X=0,this.Y=0},n.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},n.DoublePoint2=function(t,e){this.X=t,this.Y=e},n.PolyNode=function(){this.m_Parent=null,this.m_polygon=new n.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},n.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},n.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},n.PolyNode.prototype.Contour=function(){return this.m_polygon},n.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},n.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},n.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},n.PolyNode.prototype.Childs=function(){return this.m_Childs},n.PolyNode.prototype.Parent=function(){return this.m_Parent},n.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},n.PolyTree=function(){this.m_AllPolys=[],n.PolyNode.call(this)},n.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},n.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},n.PolyTree.prototype.Total=function(){var t=this.m_AllPolys.length;return t>0&&this.m_Childs[0]!=this.m_AllPolys[0]&&t--,t},A(n.PolyTree,n.PolyNode),n.Math_Abs_Int64=n.Math_Abs_Int32=n.Math_Abs_Double=function(t){return Math.abs(t)},n.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},a.msie||a.opera||a.safari?n.Cast_Int32=function(t){return 0|t}:n.Cast_Int32=function(t){return~~t},a.chrome?n.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:a.firefox&&"function"==typeof Number.toInteger?n.Cast_Int64=function(t){return Number.toInteger(t)}:a.msie7||a.msie8?n.Cast_Int64=function(t){return parseInt(t,10)}:a.msie?n.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:n.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.Clear=function(t){t.length=0},n.PI=3.141592653589793,n.PI2=6.283185307179586,n.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,n.use_xyz)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof n.DoublePoint){var r=t[0];this.X=n.Clipper.Round(r.X),this.Y=n.Clipper.Round(r.Y),this.Z=0}else{void 0===(i=t[0]).Z&&(i.Z=0),this.X=i.X,this.Y=i.Y,this.Z=i.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof n.DoublePoint){r=t[0];this.X=n.Clipper.Round(r.X),this.Y=n.Clipper.Round(r.Y)}else{var i=t[0];this.X=i.X,this.Y=i.Y}else this.X=0,this.Y=0},n.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},n.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},n.use_xyz?(n.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},n.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},n.IntPoint1dp=function(t){this.X=n.Clipper.Round(t.X),this.Y=n.Clipper.Round(t.Y),this.Z=0},n.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},n.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(n.IntPoint0=function(){this.X=0,this.Y=0},n.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},n.IntPoint1dp=function(t){this.X=n.Clipper.Round(t.X),this.Y=n.Clipper.Round(t.Y)},n.IntPoint2=function(t,e){this.X=t,this.Y=e}),n.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},n.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},n.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},n.IntRect4=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},n.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},n.PolyType={ptSubject:0,ptClip:1},n.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},n.JoinType={jtSquare:0,jtRound:1,jtMiter:2},n.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},n.EdgeSide={esLeft:0,esRight:1},n.Direction={dRightToLeft:0,dLeftToRight:1},n.TEdge=function(){this.Bot=new n.IntPoint,this.Curr=new n.IntPoint,this.Top=new n.IntPoint,this.Delta=new n.IntPoint,this.Dx=0,this.PolyTyp=n.PolyType.ptSubject,this.Side=n.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},n.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new n.IntPoint},n.MyIntersectNodeSort=function(){},n.MyIntersectNodeSort.Compare=function(t,e){var n=e.Pt.Y-t.Pt.Y;return n>0?1:n<0?-1:0},n.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},n.Scanbeam=function(){this.Y=0,this.Next=null},n.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},n.OutPt=function(){this.Idx=0,this.Pt=new n.IntPoint,this.Next=null,this.Prev=null},n.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new n.IntPoint},n.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},n.ClipperBase.horizontal=-9007199254740992,n.ClipperBase.Skip=-2,n.ClipperBase.Unassigned=-1,n.ClipperBase.tolerance=1e-20,n.ClipperBase.loRange=47453132,n.ClipperBase.hiRange=0xfffffffffffff,n.ClipperBase.near_zero=function(t){return t>-n.ClipperBase.tolerance&&t<n.ClipperBase.tolerance},n.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},n.ClipperBase.prototype.PointIsVertex=function(t,e){var r=e;do{if(n.IntPoint.op_Equality(r.Pt,t))return!0;r=r.Next}while(r!=e);return!1},n.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,r){return r?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&N.op_Equality(N.Int128Mul(t.X-e.X,n.Y-e.Y),N.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},n.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var r=e;;){if(this.PointOnLineSegment(t,r.Pt,r.Next.Pt,n))return!0;if((r=r.Next)==e)break}return!1},n.ClipperBase.prototype.SlopesEqual=n.ClipperBase.SlopesEqual=function(){var t,e,r,i,o,a,s=arguments,u=s.length;return 3==u?(t=s[0],e=s[1],s[2]?N.op_Equality(N.Int128Mul(t.Delta.Y,e.Delta.X),N.Int128Mul(t.Delta.X,e.Delta.Y)):n.Cast_Int64(t.Delta.Y*e.Delta.X)==n.Cast_Int64(t.Delta.X*e.Delta.Y)):4==u?(r=s[0],i=s[1],o=s[2],s[3]?N.op_Equality(N.Int128Mul(r.Y-i.Y,i.X-o.X),N.Int128Mul(r.X-i.X,i.Y-o.Y)):n.Cast_Int64((r.Y-i.Y)*(i.X-o.X))-n.Cast_Int64((r.X-i.X)*(i.Y-o.Y))==0):(r=s[0],i=s[1],o=s[2],a=s[3],s[4]?N.op_Equality(N.Int128Mul(r.Y-i.Y,o.X-a.X),N.Int128Mul(r.X-i.X,o.Y-a.Y)):n.Cast_Int64((r.Y-i.Y)*(o.X-a.X))-n.Cast_Int64((r.X-i.X)*(o.Y-a.Y))==0)},n.ClipperBase.SlopesEqual3=function(t,e,r){return r?N.op_Equality(N.Int128Mul(t.Delta.Y,e.Delta.X),N.Int128Mul(t.Delta.X,e.Delta.Y)):n.Cast_Int64(t.Delta.Y*e.Delta.X)==n.Cast_Int64(t.Delta.X*e.Delta.Y)},n.ClipperBase.SlopesEqual4=function(t,e,r,i){return i?N.op_Equality(N.Int128Mul(t.Y-e.Y,e.X-r.X),N.Int128Mul(t.X-e.X,e.Y-r.Y)):n.Cast_Int64((t.Y-e.Y)*(e.X-r.X))-n.Cast_Int64((t.X-e.X)*(e.Y-r.Y))==0},n.ClipperBase.SlopesEqual5=function(t,e,r,i,o){return o?N.op_Equality(N.Int128Mul(t.Y-e.Y,r.X-i.X),N.Int128Mul(t.X-e.X,r.Y-i.Y)):n.Cast_Int64((t.Y-e.Y)*(r.X-i.X))-n.Cast_Int64((t.X-e.X)*(r.Y-i.Y))==0},n.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var r=0,i=this.m_edges[t].length;r<i;++r)this.m_edges[t][r]=null;n.Clear(this.m_edges[t])}n.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},n.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},n.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>n.ClipperBase.hiRange||t.Y>n.ClipperBase.hiRange||-t.X>n.ClipperBase.hiRange||-t.Y>n.ClipperBase.hiRange)&&n.Error("Coordinate outside allowed range in RangeTest()."):(t.X>n.ClipperBase.loRange||t.Y>n.ClipperBase.loRange||-t.X>n.ClipperBase.loRange||-t.Y>n.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},n.ClipperBase.prototype.InitEdge=function(t,e,r,i){t.Next=e,t.Prev=r,t.Curr.X=i.X,t.Curr.Y=i.Y,n.use_xyz&&(t.Curr.Z=i.Z),t.OutIdx=-1},n.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,n.use_xyz&&(t.Bot.Z=t.Curr.Z),t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y,n.use_xyz&&(t.Top.Z=t.Next.Curr.Z)):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,n.use_xyz&&(t.Top.Z=t.Curr.Z),t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y,n.use_xyz&&(t.Bot.Z=t.Next.Curr.Z)),this.SetDx(t),t.PolyTyp=e},n.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;n.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||n.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=n.ClipperBase.horizontal&&t.Prev.Dx!=n.ClipperBase.horizontal)break;for(;t.Prev.Dx==n.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==n.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},n.ClipperBase.prototype.ProcessBound=function(t,e){var r,i,o=t;if(o.OutIdx==n.ClipperBase.Skip){if(t=o,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=o&&t.Dx==n.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=o&&t.Dx==n.ClipperBase.horizontal;)t=t.Next}if(t==o)o=e?t.Next:t.Prev;else{t=e?o.Next:o.Prev;var a=new n.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,t.WindDelta=0,o=this.ProcessBound(t,e),this.InsertLocalMinima(a)}return o}if(t.Dx==n.ClipperBase.horizontal&&(r=e?t.Prev:t.Next).OutIdx!=n.ClipperBase.Skip&&(r.Dx==n.ClipperBase.horizontal?r.Bot.X!=t.Bot.X&&r.Top.X!=t.Bot.X&&this.ReverseHorizontal(t):r.Bot.X!=t.Bot.X&&this.ReverseHorizontal(t)),r=t,e){for(;o.Top.Y==o.Next.Bot.Y&&o.Next.OutIdx!=n.ClipperBase.Skip;)o=o.Next;if(o.Dx==n.ClipperBase.horizontal&&o.Next.OutIdx!=n.ClipperBase.Skip){for(i=o;i.Prev.Dx==n.ClipperBase.horizontal;)i=i.Prev;i.Prev.Top.X==o.Next.Top.X?e||(o=i.Prev):i.Prev.Top.X>o.Next.Top.X&&(o=i.Prev)}for(;t!=o;)t.NextInLML=t.Next,t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),o=o.Next}else{for(;o.Top.Y==o.Prev.Bot.Y&&o.Prev.OutIdx!=n.ClipperBase.Skip;)o=o.Prev;if(o.Dx==n.ClipperBase.horizontal&&o.Prev.OutIdx!=n.ClipperBase.Skip){for(i=o;i.Next.Dx==n.ClipperBase.horizontal;)i=i.Next;i.Next.Top.X==o.Prev.Top.X?e||(o=i.Next):i.Next.Top.X>o.Prev.Top.X&&(o=i.Next)}for(;t!=o;)t.NextInLML=t.Prev,t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),o=o.Prev}return o},n.ClipperBase.prototype.AddPath=function(t,e,r){n.use_lines?r||e!=n.PolyType.ptClip||n.Error("AddPath: Open paths must be subject."):r||n.Error("AddPath: Open paths have been disabled.");var i=t.length-1;if(r)for(;i>0&&n.IntPoint.op_Equality(t[i],t[0]);)--i;for(;i>0&&n.IntPoint.op_Equality(t[i],t[i-1]);)--i;if(r&&i<2||!r&&i<1)return!1;for(var o=new Array,a=0;a<=i;a++)o.push(new n.TEdge);var s=!0;o[1].Curr.X=t[1].X,o[1].Curr.Y=t[1].Y,n.use_xyz&&(o[1].Curr.Z=t[1].Z);var u={Value:this.m_UseFullRange};this.RangeTest(t[0],u),this.m_UseFullRange=u.Value,u.Value=this.m_UseFullRange,this.RangeTest(t[i],u),this.m_UseFullRange=u.Value,this.InitEdge(o[0],o[1],o[i],t[0]),this.InitEdge(o[i],o[0],o[i-1],t[i]);for(a=i-1;a>=1;--a)u.Value=this.m_UseFullRange,this.RangeTest(t[a],u),this.m_UseFullRange=u.Value,this.InitEdge(o[a],o[a+1],o[a-1],t[a]);for(var l,h=o[0],f=h,c=h;;)if(f.Curr!=f.Next.Curr||!r&&f.Next==h){if(f.Prev==f.Next)break;if(!r||!n.ClipperBase.SlopesEqual(f.Prev.Curr,f.Curr,f.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(f.Prev.Curr,f.Curr,f.Next.Curr)){if((f=f.Next)==c||!r&&f.Next==h)break}else f==h&&(h=f.Next),c=f=(f=this.RemoveEdge(f)).Prev}else{if(f==f.Next)break;f==h&&(h=f.Next),c=f=this.RemoveEdge(f)}if(!r&&f==f.Next||r&&f.Prev==f.Next)return!1;r||(this.m_HasOpenPaths=!0,h.Prev.OutIdx=n.ClipperBase.Skip),f=h;do{this.InitEdge2(f,e),f=f.Next,s&&f.Curr.Y!=h.Curr.Y&&(s=!1)}while(f!=h);if(s){if(r)return!1;for(f.Prev.OutIdx=n.ClipperBase.Skip,f.Prev.Bot.X<f.Prev.Top.X&&this.ReverseHorizontal(f.Prev),(d=new n.LocalMinima).Next=null,d.Y=f.Bot.Y,d.LeftBound=null,d.RightBound=f,d.RightBound.Side=n.EdgeSide.esRight,d.RightBound.WindDelta=0;f.Next.OutIdx!=n.ClipperBase.Skip;)f.NextInLML=f.Next,f.Bot.X!=f.Prev.Top.X&&this.ReverseHorizontal(f),f=f.Next;return this.InsertLocalMinima(d),this.m_edges.push(o),!0}this.m_edges.push(o);var p=null;for(n.IntPoint.op_Equality(f.Prev.Bot,f.Prev.Top)&&(f=f.Next);(f=this.FindNextLocMin(f))!=p;){var d;null==p&&(p=f),(d=new n.LocalMinima).Next=null,d.Y=f.Bot.Y,f.Dx<f.Prev.Dx?(d.LeftBound=f.Prev,d.RightBound=f,l=!1):(d.LeftBound=f,d.RightBound=f.Prev,l=!0),d.LeftBound.Side=n.EdgeSide.esLeft,d.RightBound.Side=n.EdgeSide.esRight,r?d.LeftBound.Next==d.RightBound?d.LeftBound.WindDelta=-1:d.LeftBound.WindDelta=1:d.LeftBound.WindDelta=0,d.RightBound.WindDelta=-d.LeftBound.WindDelta,(f=this.ProcessBound(d.LeftBound,l)).OutIdx==n.ClipperBase.Skip&&(f=this.ProcessBound(f,l));var m=this.ProcessBound(d.RightBound,!l);m.OutIdx==n.ClipperBase.Skip&&(m=this.ProcessBound(m,!l)),d.LeftBound.OutIdx==n.ClipperBase.Skip?d.LeftBound=null:d.RightBound.OutIdx==n.ClipperBase.Skip&&(d.RightBound=null),this.InsertLocalMinima(d),l||(f=m)}return!0},n.ClipperBase.prototype.AddPaths=function(t,e,n){for(var r=!1,i=0,o=t.length;i<o;++i)this.AddPath(t[i],e,n)&&(r=!0);return r},n.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,r){return!(n.IntPoint.op_Equality(t,r)||n.IntPoint.op_Equality(t,e)||n.IntPoint.op_Equality(r,e))&&(t.X!=r.X?e.X>t.X==e.X<r.X:e.Y>t.Y==e.Y<r.Y)},n.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},n.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=n.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},n.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},n.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},n.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,n.use_xyz&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},n.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,n.use_xyz&&(e.Curr.Z=e.Bot.Z),e.Side=n.EdgeSide.esLeft,e.OutIdx=n.ClipperBase.Unassigned),null!=(e=t.RightBound)&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,n.use_xyz&&(e.Curr.Z=e.Bot.Z),e.Side=n.EdgeSide.esRight,e.OutIdx=n.ClipperBase.Unassigned),t=t.Next}},n.Clipper=function(t){void 0===t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=n.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=n.PolyFillType.pftEvenOdd,this.m_SubjFillType=n.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,n.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=n.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!=(1&t),this.StrictlySimple=0!=(2&t),this.PreserveCollinear=0!=(4&t),n.use_xyz&&(this.ZFillFunction=null)},n.Clipper.ioReverseSolution=1,n.Clipper.ioStrictlySimple=2,n.Clipper.ioPreserveCollinear=4,n.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),n.ClipperBase.prototype.Clear.call(this))},n.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},n.Clipper.prototype.Reset=function(){n.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},n.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new n.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){(r=new n.Scanbeam).Y=t,r.Next=this.m_Scanbeam,this.m_Scanbeam=r}else{for(var e=this.m_Scanbeam;null!==e.Next&&t<=e.Next.Y;)e=e.Next;if(t==e.Y)return;var r;(r=new n.Scanbeam).Y=t,r.Next=e.Next,e.Next=r}},n.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,r=t[1]instanceof n.PolyTree;if(4==e&&!r){var i=t[0],o=t[1],a=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&n.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,n.Clear(o),this.m_SubjFillType=a,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!1;try{(l=this.ExecuteInternal())&&this.BuildResult(o)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}if(4==e&&r){i=t[0];var u=t[1];a=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=a,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!0;try{var l;(l=this.ExecuteInternal())&&this.BuildResult2(u)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}if(2==e&&!r){i=t[0],o=t[1];return this.Execute(i,o,n.PolyFillType.pftEvenOdd,n.PolyFillType.pftEvenOdd)}if(2==e&&r){i=t[0],u=t[1];return this.Execute(i,u,n.PolyFillType.pftEvenOdd,n.PolyFillType.pftEvenOdd)}},n.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},n.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),n.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var r=0,i=this.m_PolyOuts.length;r<i;r++){null===(o=this.m_PolyOuts[r]).Pts||o.IsOpen||(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)}this.JoinCommonEdges();for(r=0,i=this.m_PolyOuts.length;r<i;r++){var o;null===(o=this.m_PolyOuts[r]).Pts||o.IsOpen||this.FixupOutPolygon(o)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{n.Clear(this.m_Joins),n.Clear(this.m_GhostJoins)}},n.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y;return this.m_Scanbeam=this.m_Scanbeam.Next,t},n.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);n.Clear(this.m_PolyOuts)},n.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];e.Pts=null,e=null,this.m_PolyOuts[t]=null},n.Clipper.prototype.AddJoin=function(t,e,r){var i=new n.Join;i.OutPt1=t,i.OutPt2=e,i.OffPt.X=r.X,i.OffPt.Y=r.Y,n.use_xyz&&(i.OffPt.Z=r.Z),this.m_Joins.push(i)},n.Clipper.prototype.AddGhostJoin=function(t,e){var r=new n.Join;r.OutPt1=t,r.OffPt.X=e.X,r.OffPt.Y=e.Y,n.use_xyz&&(r.OffPt.Z=e.Z),this.m_GhostJoins.push(r)},n.Clipper.prototype.SetZ=function(t,e,r){if(null!==this.ZFillFunction){if(0!=t.Z||null===this.ZFillFunction)return;n.IntPoint.op_Equality(t,e.Bot)?t.Z=e.Bot.Z:n.IntPoint.op_Equality(t,e.Top)?t.Z=e.Top.Z:n.IntPoint.op_Equality(t,r.Bot)?t.Z=r.Bot.Z:n.IntPoint.op_Equality(t,r.Top)?t.Z=r.Top.Z:this.ZFillFunction(e.Bot,e.Top,r.Bot,r.Top,t)}},n.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,r=this.m_CurrentLM.RightBound;this.PopLocalMinima();var i=null;if(null===e?(this.InsertEdgeIntoAEL(r,null),this.SetWindingCount(r),this.IsContributing(r)&&(i=this.AddOutPt(r,r.Bot))):null==r?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(i=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(r,e),this.SetWindingCount(e),r.WindCnt=e.WindCnt,r.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(i=this.AddLocalMinPoly(e,r,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=r&&(n.ClipperBase.IsHorizontal(r)?this.AddEdgeToSEL(r):this.InsertScanbeam(r.Top.Y)),null!=e&&null!=r){if(null!==i&&n.ClipperBase.IsHorizontal(r)&&this.m_GhostJoins.length>0&&0!==r.WindDelta)for(var o=0,a=this.m_GhostJoins.length;o<a;o++){var s=this.m_GhostJoins[o];this.HorzSegmentsOverlap(s.OutPt1.Pt.X,s.OffPt.X,r.Bot.X,r.Top.X)&&this.AddJoin(s.OutPt1,i,s.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&n.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var u=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(i,u,e.Top)}if(e.NextInAEL!=r){if(r.OutIdx>=0&&r.PrevInAEL.OutIdx>=0&&n.ClipperBase.SlopesEqual(r.PrevInAEL,r,this.m_UseFullRange)&&0!==r.WindDelta&&0!==r.PrevInAEL.WindDelta){u=this.AddOutPt(r.PrevInAEL,r.Bot);this.AddJoin(i,u,r.Top)}var l=e.NextInAEL;if(null!==l)for(;l!=r;)this.IntersectEdges(r,l,e.Curr,!1),l=l.NextInAEL}}}},n.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},n.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<n.Clipper.TopX(t,e.Top.Y):t.Top.X>n.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},n.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==n.PolyType.ptSubject?this.m_SubjFillType==n.PolyFillType.pftEvenOdd:this.m_ClipFillType==n.PolyFillType.pftEvenOdd},n.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==n.PolyType.ptSubject?this.m_ClipFillType==n.PolyFillType.pftEvenOdd:this.m_SubjFillType==n.PolyFillType.pftEvenOdd},n.Clipper.prototype.IsContributing=function(t){var e,r;switch(t.PolyTyp==n.PolyType.ptSubject?(e=this.m_SubjFillType,r=this.m_ClipFillType):(e=this.m_ClipFillType,r=this.m_SubjFillType),e){case n.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case n.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case n.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(-1!=t.WindCnt)return!1}switch(this.m_ClipType){case n.ClipType.ctIntersection:switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case n.ClipType.ctUnion:switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case n.ClipType.ctDifference:if(t.PolyTyp==n.PolyType.ptSubject)switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case n.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},n.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=n.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var r=!0,i=e.PrevInAEL;null!==i;)i.PolyTyp==e.PolyTyp&&0!==i.WindDelta&&(r=!r),i=i.PrevInAEL;t.WindCnt=r?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},n.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},n.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},n.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e)null!==(n=e.NextInAEL)&&(n.PrevInAEL=t),null!==(r=t.PrevInAEL)&&(r.NextInAEL=e),e.PrevInAEL=r,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n;else if(e.NextInAEL==t){null!==(n=t.NextInAEL)&&(n.PrevInAEL=e),null!==(r=e.PrevInAEL)&&(r.NextInAEL=t),t.PrevInAEL=r,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,r=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=r,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},n.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e)null!==(n=e.NextInSEL)&&(n.PrevInSEL=t),null!==(r=t.PrevInSEL)&&(r.NextInSEL=e),e.PrevInSEL=r,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n;else if(e.NextInSEL==t){null!==(n=t.NextInSEL)&&(n.PrevInSEL=e),null!==(r=e.PrevInSEL)&&(r.NextInSEL=t),t.PrevInSEL=r,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,r=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=r,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},n.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},n.Clipper.prototype.AddLocalMinPoly=function(t,e,r){var i,o,a;if(n.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(i=this.AddOutPt(t,r),e.OutIdx=t.OutIdx,t.Side=n.EdgeSide.esLeft,e.Side=n.EdgeSide.esRight,a=(o=t).PrevInAEL==e?e.PrevInAEL:o.PrevInAEL):(i=this.AddOutPt(e,r),t.OutIdx=e.OutIdx,t.Side=n.EdgeSide.esRight,e.Side=n.EdgeSide.esLeft,a=(o=e).PrevInAEL==t?t.PrevInAEL:o.PrevInAEL),null!==a&&a.OutIdx>=0&&n.Clipper.TopX(a,r.Y)==n.Clipper.TopX(o,r.Y)&&n.ClipperBase.SlopesEqual(o,a,this.m_UseFullRange)&&0!==o.WindDelta&&0!==a.WindDelta){var s=this.AddOutPt(a,r);this.AddJoin(i,s,o.Top)}return i},n.Clipper.prototype.CreateOutRec=function(){var t=new n.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},n.Clipper.prototype.AddOutPt=function(t,e){var r=t.Side==n.EdgeSide.esLeft;if(t.OutIdx<0){(o=this.CreateOutRec()).IsOpen=0===t.WindDelta;var i=new n.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,n.use_xyz&&(i.Pt.Z=e.Z),i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),t.OutIdx=o.Idx,i}var o,a=(o=this.m_PolyOuts[t.OutIdx]).Pts;return r&&n.IntPoint.op_Equality(e,a.Pt)?a:!r&&n.IntPoint.op_Equality(e,a.Prev.Pt)?a.Prev:((i=new n.OutPt).Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,n.use_xyz&&(i.Pt.Z=e.Z),i.Next=a,i.Prev=a.Prev,i.Prev.Next=i,a.Prev=i,r&&(o.Pts=i),i)},n.Clipper.prototype.SwapPoints=function(t,e){var r=new n.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,n.use_xyz&&(t.Value.Z=e.Value.Z),e.Value.X=r.X,e.Value.Y=r.Y,n.use_xyz&&(e.Value.Z=r.Z)},n.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,r){var i;return t>e&&(i=t,t=e,e=i),n>r&&(i=n,n=r,r=i),t<r&&n<e},n.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,r=t.PrevInAEL;null!==r;)r.OutIdx>=0&&0!=r.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[r.OutIdx])),r=r.PrevInAEL;n&&(e.IsHole=!0)},n.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?n.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},n.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var r=t.Prev;n.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Prev;var i=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=t.Next;n.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Next;var o=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=e.Prev;n.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Prev;var a=Math.abs(this.GetDx(e.Pt,r.Pt));for(r=e.Next;n.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Next;var s=Math.abs(this.GetDx(e.Pt,r.Pt));return i>=a&&i>=s||o>=a&&o>=s},n.Clipper.prototype.GetBottomPt=function(t){for(var e=null,r=t.Next;r!=t;)r.Pt.Y>t.Pt.Y?(t=r,e=null):r.Pt.Y==t.Pt.Y&&r.Pt.X<=t.Pt.X&&(r.Pt.X<t.Pt.X?(e=null,t=r):r.Next!=t&&r.Prev!=t&&(e=r)),r=r.Next;if(null!==e)for(;e!=r;)for(this.FirstIsBottomPt(r,e)||(t=e),e=e.Next;n.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},n.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,r=e.BottomPt;return n.Pt.Y>r.Pt.Y?t:n.Pt.Y<r.Pt.Y?e:n.Pt.X<r.Pt.X?t:n.Pt.X>r.Pt.X?e:n.Next==n?e:r.Next==r?t:this.FirstIsBottomPt(n,r)?t:e},n.Clipper.prototype.Param1RightOfParam2=function(t,e){do{if((t=t.FirstLeft)==e)return!0}while(null!==t);return!1},n.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},n.Clipper.prototype.AppendPolygon=function(t,e){var r,i=this.m_PolyOuts[t.OutIdx],o=this.m_PolyOuts[e.OutIdx];r=this.Param1RightOfParam2(i,o)?o:this.Param1RightOfParam2(o,i)?i:this.GetLowermostRec(i,o);var a,s=i.Pts,u=s.Prev,l=o.Pts,h=l.Prev;t.Side==n.EdgeSide.esLeft?(e.Side==n.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.Next=s,s.Prev=l,u.Next=h,h.Prev=u,i.Pts=h):(h.Next=s,s.Prev=h,l.Prev=u,u.Next=l,i.Pts=l),a=n.EdgeSide.esLeft):(e.Side==n.EdgeSide.esRight?(this.ReversePolyPtLinks(l),u.Next=h,h.Prev=u,l.Next=s,s.Prev=l):(u.Next=l,l.Prev=u,s.Prev=h,h.Next=s),a=n.EdgeSide.esRight),i.BottomPt=null,r==o&&(o.FirstLeft!=i&&(i.FirstLeft=o.FirstLeft),i.IsHole=o.IsHole),o.Pts=null,o.BottomPt=null,o.FirstLeft=i;var f=t.OutIdx,c=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var p=this.m_ActiveEdges;null!==p;){if(p.OutIdx==c){p.OutIdx=f,p.Side=a;break}p=p.NextInAEL}o.Idx=i.Idx},n.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do{n=e.Next,e.Next=e.Prev,e.Prev=n,e=n}while(e!=t)}},n.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},n.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},n.Clipper.prototype.IntersectEdges=function(t,e,r){var i=t.OutIdx>=0,o=e.OutIdx>=0;if(n.use_xyz&&this.SetZ(r,t,e),!n.use_lines||0!==t.WindDelta&&0!==e.WindDelta){if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var a=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=a}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta==0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var s,u,l,h,f,c;switch(t.PolyTyp==n.PolyType.ptSubject?(s=this.m_SubjFillType,l=this.m_ClipFillType):(s=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==n.PolyType.ptSubject?(u=this.m_SubjFillType,h=this.m_ClipFillType):(u=this.m_ClipFillType,h=this.m_SubjFillType),s){case n.PolyFillType.pftPositive:f=t.WindCnt;break;case n.PolyFillType.pftNegative:f=-t.WindCnt;break;default:f=Math.abs(t.WindCnt)}switch(u){case n.PolyFillType.pftPositive:c=e.WindCnt;break;case n.PolyFillType.pftNegative:c=-e.WindCnt;break;default:c=Math.abs(e.WindCnt)}if(i&&o)0!=f&&1!=f||0!=c&&1!=c||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=n.ClipType.ctXor?this.AddLocalMaxPoly(t,e,r):(this.AddOutPt(t,r),this.AddOutPt(e,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(i)0!==c&&1!=c||(this.AddOutPt(t,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(o)0!==f&&1!=f||(this.AddOutPt(e,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(!(0!=f&&1!=f||0!=c&&1!=c)){var p,d;switch(l){case n.PolyFillType.pftPositive:p=t.WindCnt2;break;case n.PolyFillType.pftNegative:p=-t.WindCnt2;break;default:p=Math.abs(t.WindCnt2)}switch(h){case n.PolyFillType.pftPositive:d=e.WindCnt2;break;case n.PolyFillType.pftNegative:d=-e.WindCnt2;break;default:d=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,r);else if(1==f&&1==c)switch(this.m_ClipType){case n.ClipType.ctIntersection:p>0&&d>0&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctUnion:p<=0&&d<=0&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctDifference:(t.PolyTyp==n.PolyType.ptClip&&p>0&&d>0||t.PolyTyp==n.PolyType.ptSubject&&p<=0&&d<=0)&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctXor:this.AddLocalMinPoly(t,e,r)}else n.Clipper.SwapSides(t,e)}}else{if(0==t.WindDelta&&0==e.WindDelta)return;t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==n.ClipType.ctUnion?0===t.WindDelta?o&&(this.AddOutPt(t,r),i&&(t.OutIdx=-1)):i&&(this.AddOutPt(e,r),o&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==n.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==n.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,r),o&&(e.OutIdx=-1)):(this.AddOutPt(t,r),i&&(t.OutIdx=-1)))}},n.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},n.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},n.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&n.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,r=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==r&&(r.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,(t=t.NextInLML).Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,n.use_xyz&&(t.Curr.Z=t.Bot.Z),t.PrevInAEL=e,t.NextInAEL=r,n.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},n.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},n.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=n.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=n.Direction.dRightToLeft)},n.Clipper.prototype.ProcessHorizontal=function(t,e){var r={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,r);for(var i=r.Dir,o=r.Left,a=r.Right,s=t,u=null;null!==s.NextInLML&&n.ClipperBase.IsHorizontal(s.NextInLML);)s=s.NextInLML;for(null===s.NextInLML&&(u=this.GetMaximaPair(s));;){for(var l=t==s,h=this.GetNextInAEL(t,i);null!==h&&!(h.Curr.X==t.Top.X&&null!==t.NextInLML&&h.Dx<t.NextInLML.Dx);){var f=this.GetNextInAEL(h,i);if(i==n.Direction.dLeftToRight&&h.Curr.X<=a||i==n.Direction.dRightToLeft&&h.Curr.X>=o){if(h==u&&l){if(t.OutIdx>=0){for(var c=this.AddOutPt(t,t.Top),p=this.m_SortedEdges;null!==p;){if(p.OutIdx>=0&&this.HorzSegmentsOverlap(t.Bot.X,t.Top.X,p.Bot.X,p.Top.X)){var d=this.AddOutPt(p,p.Bot);this.AddJoin(d,c,p.Top)}p=p.NextInSEL}this.AddGhostJoin(c,t.Bot),this.AddLocalMaxPoly(t,u,t.Top)}return this.DeleteFromAEL(t),void this.DeleteFromAEL(u)}if(i==n.Direction.dLeftToRight){var m=new n.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(t,h,m)}else{m=new n.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(h,t,m)}this.SwapPositionsInAEL(t,h)}else if(i==n.Direction.dLeftToRight&&h.Curr.X>=a||i==n.Direction.dRightToLeft&&h.Curr.X<=o)break;h=f}if(null===t.NextInLML||!n.ClipperBase.IsHorizontal(t.NextInLML))break;(t=this.UpdateEdgeIntoAEL(t)).OutIdx>=0&&this.AddOutPt(t,t.Bot);r={Dir:i,Left:o,Right:a};this.GetHorzDirection(t,r),i=r.Dir,o=r.Left,a=r.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){c=this.AddOutPt(t,t.Top);if(e&&this.AddGhostJoin(c,t.Bot),0===(t=this.UpdateEdgeIntoAEL(t)).WindDelta)return;var y=t.PrevInAEL;f=t.NextInAEL;if(null!==y&&y.Curr.X==t.Bot.X&&y.Curr.Y==t.Bot.Y&&0!==y.WindDelta&&y.OutIdx>=0&&y.Curr.Y>y.Top.Y&&n.ClipperBase.SlopesEqual(t,y,this.m_UseFullRange)){d=this.AddOutPt(y,t.Bot);this.AddJoin(c,d,t.Top)}else if(null!==f&&f.Curr.X==t.Bot.X&&f.Curr.Y==t.Bot.Y&&0!==f.WindDelta&&f.OutIdx>=0&&f.Curr.Y>f.Top.Y&&n.ClipperBase.SlopesEqual(t,f,this.m_UseFullRange)){d=this.AddOutPt(f,t.Bot);this.AddJoin(c,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t)},n.Clipper.prototype.GetNextInAEL=function(t,e){return e==n.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},n.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},n.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},n.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},n.Clipper.prototype.GetMaximaPair=function(t){var e=null;return n.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:n.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||-2!=e.OutIdx&&(e.NextInAEL!=e.PrevInAEL||n.ClipperBase.IsHorizontal(e))?e:null},n.Clipper.prototype.ProcessIntersections=function(t){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,n.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},n.Clipper.prototype.BuildIntersectList=function(t){if(null!==this.m_ActiveEdges){var e=this.m_ActiveEdges;for(this.m_SortedEdges=e;null!==e;)e.PrevInSEL=e.PrevInAEL,e.NextInSEL=e.NextInAEL,e.Curr.X=n.Clipper.TopX(e,t),e=e.NextInAEL;for(var r=!0;r&&null!==this.m_SortedEdges;){for(r=!1,e=this.m_SortedEdges;null!==e.NextInSEL;){var i=e.NextInSEL,o=new n.IntPoint;if(e.Curr.X>i.Curr.X){this.IntersectPoint(e,i,o);var a=new n.IntersectNode;a.Edge1=e,a.Edge2=i,a.Pt.X=o.X,a.Pt.Y=o.Y,n.use_xyz&&(a.Pt.Z=o.Z),this.m_IntersectList.push(a),this.SwapPositionsInSEL(e,i),r=!0}else e=i}if(null===e.PrevInSEL)break;e.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},n.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},n.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},n.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var r=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=r}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},n.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};a.msie?n.Clipper.Round=function(t){return t<0?Math.ceil(t-.5):Math.round(t)}:a.chromium?n.Clipper.Round=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)}:a.safari?n.Clipper.Round=function(t){return t<0?(t-=.5)<-2147483648?Math.ceil(t):0|t:(t+=.5)>2147483647?Math.floor(t):0|t}:n.Clipper.Round=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},n.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+n.Clipper.Round(t.Dx*(e-t.Bot.Y))},n.Clipper.prototype.IntersectPoint=function(t,e,r){var i,o;if(r.X=0,r.Y=0,t.Dx==e.Dx)return r.Y=t.Curr.Y,void(r.X=n.Clipper.TopX(t,r.Y));if(0===t.Delta.X)r.X=t.Bot.X,n.ClipperBase.IsHorizontal(e)?r.Y=e.Bot.Y:(o=e.Bot.Y-e.Bot.X/e.Dx,r.Y=n.Clipper.Round(r.X/e.Dx+o));else if(0===e.Delta.X)r.X=e.Bot.X,n.ClipperBase.IsHorizontal(t)?r.Y=t.Bot.Y:(i=t.Bot.Y-t.Bot.X/t.Dx,r.Y=n.Clipper.Round(r.X/t.Dx+i));else{i=t.Bot.X-t.Bot.Y*t.Dx;var a=((o=e.Bot.X-e.Bot.Y*e.Dx)-i)/(t.Dx-e.Dx);r.Y=n.Clipper.Round(a),Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=n.Clipper.Round(t.Dx*a+i):r.X=n.Clipper.Round(e.Dx*a+o)}if(r.Y<t.Top.Y||r.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return r.Y=t.Top.Y,r.X=n.Clipper.TopX(e,t.Top.Y),r.X<t.Top.X;r.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=n.Clipper.TopX(t,r.Y):r.X=n.Clipper.TopX(e,r.Y)}r.Y>t.Curr.Y&&(r.Y=t.Curr.Y,Math.abs(t.Dx)>Math.abs(e.Dx)?r.X=n.Clipper.TopX(e,r.Y):r.X=n.Clipper.TopX(t,r.Y))},n.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var r=this.IsMaxima(e,t);if(r){var i=this.GetMaximaPair(e);r=null===i||!n.ClipperBase.IsHorizontal(i)}if(r){var o=e.PrevInAEL;this.DoMaxima(e),e=null===o?this.m_ActiveEdges:o.NextInAEL}else{if(this.IsIntermediate(e,t)&&n.ClipperBase.IsHorizontal(e.NextInLML)?((e=this.UpdateEdgeIntoAEL(e)).OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=n.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){o=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==o&&o.OutIdx>=0&&o.Curr.X==e.Curr.X&&0!==o.WindDelta){var a=new n.IntPoint(e.Curr);n.use_xyz&&this.SetZ(a,o,e);var s=this.AddOutPt(o,a),u=this.AddOutPt(e,a);this.AddJoin(s,u,a)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){s=null;e.OutIdx>=0&&(s=this.AddOutPt(e,e.Top));o=(e=this.UpdateEdgeIntoAEL(e)).PrevInAEL;var l=e.NextInAEL;if(null!==o&&o.Curr.X==e.Bot.X&&o.Curr.Y==e.Bot.Y&&null!==s&&o.OutIdx>=0&&o.Curr.Y>o.Top.Y&&n.ClipperBase.SlopesEqual(e,o,this.m_UseFullRange)&&0!==e.WindDelta&&0!==o.WindDelta){u=this.AddOutPt(o,e.Bot);this.AddJoin(s,u,e.Top)}else if(null!==l&&l.Curr.X==e.Bot.X&&l.Curr.Y==e.Bot.Y&&null!==s&&l.OutIdx>=0&&l.Curr.Y>l.Top.Y&&n.ClipperBase.SlopesEqual(e,l,this.m_UseFullRange)&&0!==e.WindDelta&&0!==l.WindDelta){u=this.AddOutPt(l,e.Bot);this.AddJoin(s,u,e.Top)}}e=e.NextInAEL}},n.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var r=t.NextInAEL;null!==r&&r!=e;)this.IntersectEdges(t,r,t.Top),this.SwapPositionsInAEL(t,r),r=t.NextInAEL;-1==t.OutIdx&&-1==e.OutIdx?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?(t.OutIdx>=0&&this.AddLocalMaxPoly(t,e,t.Top),this.DeleteFromAEL(t),this.DeleteFromAEL(e)):n.use_lines&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):n.Error("DoMaxima error")},n.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},n.Clipper.Orientation=function(t){return n.Clipper.Area(t)>=0},n.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do{e++,n=n.Next}while(n!=t);return e},n.Clipper.prototype.BuildResult=function(t){n.Clear(t);for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var i=this.m_PolyOuts[e];if(null!==i.Pts){var o=i.Pts.Prev,a=this.PointCount(o);if(!(a<2)){for(var s=new Array(a),u=0;u<a;u++)s[u]=o.Pt,o=o.Prev;t.push(s)}}}},n.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var i=this.m_PolyOuts[e],o=this.PointCount(i.Pts);if(!(i.IsOpen&&o<2||!i.IsOpen&&o<3)){this.FixHoleLinkage(i);var a=new n.PolyNode;t.m_AllPolys.push(a),i.PolyNode=a,a.m_polygon.length=o;for(var s=i.Pts.Prev,u=0;u<o;u++)a.m_polygon[u]=s.Pt,s=s.Prev}}for(e=0,r=this.m_PolyOuts.length;e<r;e++){null!==(i=this.m_PolyOuts[e]).PolyNode&&(i.IsOpen?(i.PolyNode.IsOpen=!0,t.AddChild(i.PolyNode)):null!==i.FirstLeft&&null!=i.FirstLeft.PolyNode?i.FirstLeft.PolyNode.AddChild(i.PolyNode):t.AddChild(i.PolyNode))}},n.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var r=t.Pts;;){if(r.Prev==r||r.Prev==r.Next)return void(t.Pts=null);if(n.IntPoint.op_Equality(r.Pt,r.Next.Pt)||n.IntPoint.op_Equality(r.Pt,r.Prev.Pt)||n.ClipperBase.SlopesEqual(r.Prev.Pt,r.Pt,r.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(r.Prev.Pt,r.Pt,r.Next.Pt)))e=null,r.Prev.Next=r.Next,r.Next.Prev=r.Prev,r=r.Prev;else{if(r==e)break;null===e&&(e=r),r=r.Next}}t.Pts=r},n.Clipper.prototype.DupOutPt=function(t,e){var r=new n.OutPt;return r.Pt.X=t.Pt.X,r.Pt.Y=t.Pt.Y,n.use_xyz&&(r.Pt.Z=t.Pt.Z),r.Idx=t.Idx,e?(r.Next=t.Next,r.Prev=t,t.Next.Prev=r,t.Next=r):(r.Prev=t.Prev,r.Next=t,t.Prev.Next=r,t.Prev=r),r},n.Clipper.prototype.GetOverlap=function(t,e,n,r,i){return t<e?n<r?(i.Left=Math.max(t,n),i.Right=Math.min(e,r)):(i.Left=Math.max(t,r),i.Right=Math.min(e,n)):n<r?(i.Left=Math.max(e,n),i.Right=Math.min(t,r)):(i.Left=Math.max(e,r),i.Right=Math.min(t,n)),i.Left<i.Right},n.Clipper.prototype.JoinHorz=function(t,e,r,i,o,a){var s=t.Pt.X>e.Pt.X?n.Direction.dRightToLeft:n.Direction.dLeftToRight,u=r.Pt.X>i.Pt.X?n.Direction.dRightToLeft:n.Direction.dLeftToRight;if(s==u)return!1;if(s==n.Direction.dLeftToRight){for(;t.Next.Pt.X<=o.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==o.Y;)t=t.Next;a&&t.Pt.X!=o.X&&(t=t.Next),e=this.DupOutPt(t,!a),n.IntPoint.op_Inequality(e.Pt,o)&&((t=e).Pt.X=o.X,t.Pt.Y=o.Y,n.use_xyz&&(t.Pt.Z=o.Z),e=this.DupOutPt(t,!a))}else{for(;t.Next.Pt.X>=o.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==o.Y;)t=t.Next;a||t.Pt.X==o.X||(t=t.Next),e=this.DupOutPt(t,a),n.IntPoint.op_Inequality(e.Pt,o)&&((t=e).Pt.X=o.X,t.Pt.Y=o.Y,n.use_xyz&&(t.Pt.Z=o.Z),e=this.DupOutPt(t,a))}if(u==n.Direction.dLeftToRight){for(;r.Next.Pt.X<=o.X&&r.Next.Pt.X>=r.Pt.X&&r.Next.Pt.Y==o.Y;)r=r.Next;a&&r.Pt.X!=o.X&&(r=r.Next),i=this.DupOutPt(r,!a),n.IntPoint.op_Inequality(i.Pt,o)&&((r=i).Pt.X=o.X,r.Pt.Y=o.Y,n.use_xyz&&(r.Pt.Z=o.Z),i=this.DupOutPt(r,!a))}else{for(;r.Next.Pt.X>=o.X&&r.Next.Pt.X<=r.Pt.X&&r.Next.Pt.Y==o.Y;)r=r.Next;a||r.Pt.X==o.X||(r=r.Next),i=this.DupOutPt(r,a),n.IntPoint.op_Inequality(i.Pt,o)&&((r=i).Pt.X=o.X,r.Pt.Y=o.Y,n.use_xyz&&(r.Pt.Z=o.Z),i=this.DupOutPt(r,a))}return s==n.Direction.dLeftToRight==a?(t.Prev=r,r.Next=t,e.Next=i,i.Prev=e):(t.Next=r,r.Prev=t,e.Prev=i,i.Next=e),!0},n.Clipper.prototype.JoinPoints=function(t,e,r){var i=t.OutPt1,o=new n.OutPt,a=t.OutPt2,s=new n.OutPt,u=t.OutPt1.Pt.Y==t.OffPt.Y;if(u&&n.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&n.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){if(e!=r)return!1;for(o=t.OutPt1.Next;o!=i&&n.IntPoint.op_Equality(o.Pt,t.OffPt);)o=o.Next;var l=o.Pt.Y>t.OffPt.Y;for(s=t.OutPt2.Next;s!=a&&n.IntPoint.op_Equality(s.Pt,t.OffPt);)s=s.Next;return l!=s.Pt.Y>t.OffPt.Y&&(l?(o=this.DupOutPt(i,!1),s=this.DupOutPt(a,!0),i.Prev=a,a.Next=i,o.Next=s,s.Prev=o,t.OutPt1=i,t.OutPt2=o,!0):(o=this.DupOutPt(i,!0),s=this.DupOutPt(a,!1),i.Next=a,a.Prev=i,o.Prev=s,s.Next=o,t.OutPt1=i,t.OutPt2=o,!0))}if(u){for(o=i;i.Prev.Pt.Y==i.Pt.Y&&i.Prev!=o&&i.Prev!=a;)i=i.Prev;for(;o.Next.Pt.Y==o.Pt.Y&&o.Next!=i&&o.Next!=a;)o=o.Next;if(o.Next==i||o.Next==a)return!1;for(s=a;a.Prev.Pt.Y==a.Pt.Y&&a.Prev!=s&&a.Prev!=o;)a=a.Prev;for(;s.Next.Pt.Y==s.Pt.Y&&s.Next!=a&&s.Next!=i;)s=s.Next;if(s.Next==a||s.Next==i)return!1;var h={Left:null,Right:null};if(!this.GetOverlap(i.Pt.X,o.Pt.X,a.Pt.X,s.Pt.X,h))return!1;var f,c=h.Left,p=h.Right,d=new n.IntPoint;return i.Pt.X>=c&&i.Pt.X<=p?(d.X=i.Pt.X,d.Y=i.Pt.Y,n.use_xyz&&(d.Z=i.Pt.Z),f=i.Pt.X>o.Pt.X):a.Pt.X>=c&&a.Pt.X<=p?(d.X=a.Pt.X,d.Y=a.Pt.Y,n.use_xyz&&(d.Z=a.Pt.Z),f=a.Pt.X>s.Pt.X):o.Pt.X>=c&&o.Pt.X<=p?(d.X=o.Pt.X,d.Y=o.Pt.Y,n.use_xyz&&(d.Z=o.Pt.Z),f=o.Pt.X>i.Pt.X):(d.X=s.Pt.X,d.Y=s.Pt.Y,n.use_xyz&&(d.Z=s.Pt.Z),f=s.Pt.X>a.Pt.X),t.OutPt1=i,t.OutPt2=a,this.JoinHorz(i,o,a,s,d,f)}for(o=i.Next;n.IntPoint.op_Equality(o.Pt,i.Pt)&&o!=i;)o=o.Next;var m=o.Pt.Y>i.Pt.Y||!n.ClipperBase.SlopesEqual(i.Pt,o.Pt,t.OffPt,this.m_UseFullRange);if(m){for(o=i.Prev;n.IntPoint.op_Equality(o.Pt,i.Pt)&&o!=i;)o=o.Prev;if(o.Pt.Y>i.Pt.Y||!n.ClipperBase.SlopesEqual(i.Pt,o.Pt,t.OffPt,this.m_UseFullRange))return!1}for(s=a.Next;n.IntPoint.op_Equality(s.Pt,a.Pt)&&s!=a;)s=s.Next;var y=s.Pt.Y>a.Pt.Y||!n.ClipperBase.SlopesEqual(a.Pt,s.Pt,t.OffPt,this.m_UseFullRange);if(y){for(s=a.Prev;n.IntPoint.op_Equality(s.Pt,a.Pt)&&s!=a;)s=s.Prev;if(s.Pt.Y>a.Pt.Y||!n.ClipperBase.SlopesEqual(a.Pt,s.Pt,t.OffPt,this.m_UseFullRange))return!1}return o!=i&&s!=a&&o!=s&&(e!=r||m!=y)&&(m?(o=this.DupOutPt(i,!1),s=this.DupOutPt(a,!0),i.Prev=a,a.Next=i,o.Next=s,s.Prev=o,t.OutPt1=i,t.OutPt2=o,!0):(o=this.DupOutPt(i,!0),s=this.DupOutPt(a,!1),i.Next=a,a.Prev=i,o.Prev=s,s.Next=o,t.OutPt1=i,t.OutPt2=o,!0))},n.Clipper.GetBounds=function(t){for(var e=0,r=t.length;e<r&&0==t[e].length;)e++;if(e==r)return new n.IntRect(0,0,0,0);var i=new n.IntRect;for(i.left=t[e][0].X,i.right=i.left,i.top=t[e][0].Y,i.bottom=i.top;e<r;e++)for(var o=0,a=t[e].length;o<a;o++)t[e][o].X<i.left?i.left=t[e][o].X:t[e][o].X>i.right&&(i.right=t[e][o].X),t[e][o].Y<i.top?i.top=t[e][o].Y:t[e][o].Y>i.bottom&&(i.bottom=t[e][o].Y);return i},n.Clipper.prototype.GetBounds2=function(t){var e=t,r=new n.IntRect;for(r.left=t.Pt.X,r.right=t.Pt.X,r.top=t.Pt.Y,r.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<r.left&&(r.left=t.Pt.X),t.Pt.X>r.right&&(r.right=t.Pt.X),t.Pt.Y<r.top&&(r.top=t.Pt.Y),t.Pt.Y>r.bottom&&(r.bottom=t.Pt.Y),t=t.Next;return r},n.Clipper.PointInPolygon=function(t,e){var n=0,r=e.length;if(r<3)return 0;for(var i=e[0],o=1;o<=r;++o){var a=o==r?e[0]:e[o];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{if(0==(s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y)))return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s;if(0==(s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y)))return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},n.Clipper.prototype.PointInPolygon=function(t,e){var n=0,r=e,i=t.X,o=t.Y,a=e.Pt.X,s=e.Pt.Y;do{var u=(e=e.Next).Pt.X,l=e.Pt.Y;if(l==o&&(u==i||s==o&&u>i==a<i))return-1;if(s<o!=l<o)if(a>=i)if(u>i)n=1-n;else{if(0==(h=(a-i)*(l-o)-(u-i)*(s-o)))return-1;h>0==l>s&&(n=1-n)}else if(u>i){var h;if(0==(h=(a-i)*(l-o)-(u-i)*(s-o)))return-1;h>0==l>s&&(n=1-n)}a=u,s=l}while(r!=e);return n},n.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var r=this.PointInPolygon(n.Pt,e);if(r>=0)return r>0;n=n.Next}while(n!=t);return!0},n.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,r=this.m_PolyOuts.length;n<r;n++){var i=this.m_PolyOuts[n];if(null!=i.Pts&&null!=i.FirstLeft)this.ParseFirstLeft(i.FirstLeft)==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},n.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,r=this.m_PolyOuts,i=r.length,o=r[n];n<i;o=r[++n])o.FirstLeft==t&&(o.FirstLeft=e)},n.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},n.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var r,i=this.m_Joins[t],o=this.GetOutRec(i.OutPt1.Idx),a=this.GetOutRec(i.OutPt2.Idx);if(null!=o.Pts&&null!=a.Pts)if(r=o==a?o:this.Param1RightOfParam2(o,a)?a:this.Param1RightOfParam2(a,o)?o:this.GetLowermostRec(o,a),this.JoinPoints(i,o,a))if(o==a){if(o.Pts=i.OutPt1,o.BottomPt=null,(a=this.CreateOutRec()).Pts=i.OutPt2,this.UpdateOutPtIdxs(a),this.m_UsingPolyTree)for(var s=0,u=this.m_PolyOuts.length;s<u-1;s++){var l=this.m_PolyOuts[s];null!=l.Pts&&n.Clipper.ParseFirstLeft(l.FirstLeft)==o&&l.IsHole!=o.IsHole&&(this.Poly2ContainsPoly1(l.Pts,i.OutPt2)&&(l.FirstLeft=a))}this.Poly2ContainsPoly1(a.Pts,o.Pts)?(a.IsHole=!o.IsHole,a.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(a,o),(a.IsHole^this.ReverseSolution)==this.Area(a)>0&&this.ReversePolyPtLinks(a.Pts)):this.Poly2ContainsPoly1(o.Pts,a.Pts)?(a.IsHole=o.IsHole,o.IsHole=!a.IsHole,a.FirstLeft=o.FirstLeft,o.FirstLeft=a,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,a),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(a.IsHole=o.IsHole,a.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,a))}else a.Pts=null,a.BottomPt=null,a.Idx=o.Idx,o.IsHole=r.IsHole,r==a&&(o.FirstLeft=a.FirstLeft),a.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(a,o)}},n.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do{e.Idx=t.Idx,e=e.Prev}while(e!=t.Pts)},n.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],r=e.Pts;if(null!=r&&!e.IsOpen)do{for(var i=r.Next;i!=e.Pts;){if(n.IntPoint.op_Equality(r.Pt,i.Pt)&&i.Next!=r&&i.Prev!=r){var o=r.Prev,a=i.Prev;r.Prev=a,a.Next=r,i.Prev=o,o.Next=i,e.Pts=r;var s=this.CreateOutRec();s.Pts=i,this.UpdateOutPtIdxs(s),this.Poly2ContainsPoly1(s.Pts,e.Pts)?(s.IsHole=!e.IsHole,s.FirstLeft=e,this.m_UsingPolyTree&&this.FixupFirstLefts2(s,e)):this.Poly2ContainsPoly1(e.Pts,s.Pts)?(s.IsHole=e.IsHole,e.IsHole=!s.IsHole,s.FirstLeft=e.FirstLeft,e.FirstLeft=s,this.m_UsingPolyTree&&this.FixupFirstLefts2(e,s)):(s.IsHole=e.IsHole,s.FirstLeft=e.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(e,s)),i=r}i=i.Next}r=r.Next}while(r!=e.Pts)}},n.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,r=0,i=e-1;r<e;++r)n+=(t[i].X+t[r].X)*(t[i].Y-t[r].Y),i=r;return.5*-n},n.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do{n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next}while(e!=t.Pts);return.5*n},n.Clipper.SimplifyPolygon=function(t,e){var r=new Array,i=new n.Clipper(0);return i.StrictlySimple=!0,i.AddPath(t,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,e,e),r},n.Clipper.SimplifyPolygons=function(t,e){void 0===e&&(e=n.PolyFillType.pftEvenOdd);var r=new Array,i=new n.Clipper(0);return i.StrictlySimple=!0,i.AddPaths(t,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,e,e),r},n.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,r=t.Y-e.Y;return n*n+r*r},n.Clipper.DistanceFromLineSqrd=function(t,e,n){var r=e.Y-n.Y,i=n.X-e.X,o=r*e.X+i*e.Y;return(o=r*t.X+i*t.Y-o)*o/(r*r+i*i)},n.Clipper.SlopesNearCollinear=function(t,e,r,i){return Math.abs(t.X-e.X)>Math.abs(t.Y-e.Y)?t.X>e.X==t.X<r.X?n.Clipper.DistanceFromLineSqrd(t,e,r)<i:e.X>t.X==e.X<r.X?n.Clipper.DistanceFromLineSqrd(e,t,r)<i:n.Clipper.DistanceFromLineSqrd(r,t,e)<i:t.Y>e.Y==t.Y<r.Y?n.Clipper.DistanceFromLineSqrd(t,e,r)<i:e.Y>t.Y==e.Y<r.Y?n.Clipper.DistanceFromLineSqrd(e,t,r)<i:n.Clipper.DistanceFromLineSqrd(r,t,e)<i},n.Clipper.PointsAreClose=function(t,e,n){var r=t.X-e.X,i=t.Y-e.Y;return r*r+i*i<=n},n.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},n.Clipper.CleanPolygon=function(t,e){void 0===e&&(e=1.415);var r=t.length;if(0==r)return new Array;for(var i=new Array(r),o=0;o<r;++o)i[o]=new n.OutPt;for(o=0;o<r;++o)i[o].Pt=t[o],i[o].Next=i[(o+1)%r],i[o].Next.Prev=i[o],i[o].Idx=0;for(var a=e*e,s=i[0];0==s.Idx&&s.Next!=s.Prev;)n.Clipper.PointsAreClose(s.Pt,s.Prev.Pt,a)?(s=n.Clipper.ExcludeOp(s),r--):n.Clipper.PointsAreClose(s.Prev.Pt,s.Next.Pt,a)?(n.Clipper.ExcludeOp(s.Next),s=n.Clipper.ExcludeOp(s),r-=2):n.Clipper.SlopesNearCollinear(s.Prev.Pt,s.Pt,s.Next.Pt,a)?(s=n.Clipper.ExcludeOp(s),r--):(s.Idx=1,s=s.Next);r<3&&(r=0);var u=new Array(r);for(o=0;o<r;++o)u[o]=new n.IntPoint(s.Pt),s=s.Next;return i=null,u},n.Clipper.CleanPolygons=function(t,e){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]=n.Clipper.CleanPolygon(t[i],e);return r},n.Clipper.Minkowski=function(t,e,r,i){var o=i?1:0,a=t.length,s=e.length,u=new Array;if(r)for(var l=0;l<s;l++){for(var h=new Array(a),f=0,c=t.length,p=t[f];f<c;p=t[++f])h[f]=new n.IntPoint(e[l].X+p.X,e[l].Y+p.Y);u.push(h)}else for(l=0;l<s;l++){for(h=new Array(a),f=0,c=t.length,p=t[f];f<c;p=t[++f])h[f]=new n.IntPoint(e[l].X-p.X,e[l].Y-p.Y);u.push(h)}var d=new Array;for(l=0;l<s-1+o;l++)for(f=0;f<a;f++){var m=new Array;m.push(u[l%s][f%a]),m.push(u[(l+1)%s][f%a]),m.push(u[(l+1)%s][(f+1)%a]),m.push(u[l%s][(f+1)%a]),n.Clipper.Orientation(m)||m.reverse(),d.push(m)}return d},n.Clipper.MinkowskiSum=function(t,e,r){if(e[0]instanceof Array){l=e;for(var i=new n.Paths,o=(s=new n.Clipper,0);o<l.length;++o){var a=n.Clipper.Minkowski(t,l[o],!0,r);if(s.AddPaths(a,n.PolyType.ptSubject,!0),r){u=n.Clipper.TranslatePath(l[o],t[0]);s.AddPath(u,n.PolyType.ptClip,!0)}}return s.Execute(n.ClipType.ctUnion,i,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),i}var s,u=e,l=n.Clipper.Minkowski(t,u,!0,r);return(s=new n.Clipper).AddPaths(l,n.PolyType.ptSubject,!0),s.Execute(n.ClipType.ctUnion,l,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),l},n.Clipper.TranslatePath=function(t,e){for(var r=new n.Path,i=0;i<t.length;i++)r.push(new n.IntPoint(t[i].X+e.X,t[i].Y+e.Y));return r},n.Clipper.MinkowskiDiff=function(t,e){var r=n.Clipper.Minkowski(t,e,!1,!0),i=new n.Clipper;return i.AddPaths(r,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),r},n.Clipper.PolyTreeToPaths=function(t){var e=new Array;return n.Clipper.AddPolyNodeToPaths(t,n.Clipper.NodeType.ntAny,e),e},n.Clipper.AddPolyNodeToPaths=function(t,e,r){var i=!0;switch(e){case n.Clipper.NodeType.ntOpen:return;case n.Clipper.NodeType.ntClosed:i=!t.IsOpen}t.m_polygon.length>0&&i&&r.push(t.m_polygon);for(var o=0,a=t.Childs(),s=a.length,u=a[o];o<s;u=a[++o])n.Clipper.AddPolyNodeToPaths(u,e,r)},n.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new n.Paths,r=0,i=t.ChildCount();r<i;r++)t.Childs()[r].IsOpen&&e.push(t.Childs()[r].m_polygon);return e},n.Clipper.ClosedPathsFromPolyTree=function(t){var e=new n.Paths;return n.Clipper.AddPolyNodeToPaths(t,n.Clipper.NodeType.ntClosed,e),e},A(n.Clipper,n.ClipperBase),n.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},n.ClipperOffset=function(t,e){void 0===t&&(t=2),void 0===e&&(e=n.ClipperOffset.def_arc_tolerance),this.m_destPolys=new n.Paths,this.m_srcPoly=new n.Path,this.m_destPoly=new n.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new n.IntPoint,this.m_polyNodes=new n.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},n.ClipperOffset.two_pi=6.28318530717959,n.ClipperOffset.def_arc_tolerance=.25,n.ClipperOffset.prototype.Clear=function(){n.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},n.ClipperOffset.Round=n.Clipper.Round,n.ClipperOffset.prototype.AddPath=function(t,e,r){var i=t.length-1;if(!(i<0)){var o=new n.PolyNode;if(o.m_jointype=e,o.m_endtype=r,r==n.EndType.etClosedLine||r==n.EndType.etClosedPolygon)for(;i>0&&n.IntPoint.op_Equality(t[0],t[i]);)i--;o.m_polygon.push(t[0]);for(var a=0,s=0,u=1;u<=i;u++)n.IntPoint.op_Inequality(o.m_polygon[a],t[u])&&(a++,o.m_polygon.push(t[u]),(t[u].Y>o.m_polygon[s].Y||t[u].Y==o.m_polygon[s].Y&&t[u].X<o.m_polygon[s].X)&&(s=a));if(!(r==n.EndType.etClosedPolygon&&a<2)&&(this.m_polyNodes.AddChild(o),r==n.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new n.IntPoint(this.m_polyNodes.ChildCount()-1,s);else{var l=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(o.m_polygon[s].Y>l.Y||o.m_polygon[s].Y==l.Y&&o.m_polygon[s].X<l.X)&&(this.m_lowest=new n.IntPoint(this.m_polyNodes.ChildCount()-1,s))}}},n.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var r=0,i=t.length;r<i;r++)this.AddPath(t[r],e,n)},n.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!n.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){((e=this.m_polyNodes.Childs()[t]).m_endtype==n.EndType.etClosedPolygon||e.m_endtype==n.EndType.etClosedLine&&n.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(t=0;t<this.m_polyNodes.ChildCount();t++){var e;(e=this.m_polyNodes.Childs()[t]).m_endtype!=n.EndType.etClosedLine||n.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},n.ClipperOffset.GetUnitNormal=function(t,e){var r=e.X-t.X,i=e.Y-t.Y;if(0==r&&0==i)return new n.DoublePoint(0,0);var o=1/Math.sqrt(r*r+i*i);return r*=o,i*=o,new n.DoublePoint(i,-r)},n.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,n.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){(o=this.m_polyNodes.Childs()[e]).m_endtype==n.EndType.etClosedPolygon&&this.m_destPolys.push(o.m_polygon)}else{var r;this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5,r=this.ArcTolerance<=0?n.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*n.ClipperOffset.def_arc_tolerance?Math.abs(t)*n.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-r/Math.abs(t));this.m_sin=Math.sin(n.ClipperOffset.two_pi/i),this.m_cos=Math.cos(n.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/n.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(e=0;e<this.m_polyNodes.ChildCount();e++){var o=this.m_polyNodes.Childs()[e];this.m_srcPoly=o.m_polygon;var a=this.m_srcPoly.length;if(!(0==a||t<=0&&(a<3||o.m_endtype!=n.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=a){this.m_normals.length=0;for(c=0;c<a-1;c++)this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[c],this.m_srcPoly[c+1]));if(o.m_endtype==n.EndType.etClosedLine||o.m_endtype==n.EndType.etClosedPolygon?this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[a-1],this.m_srcPoly[0])):this.m_normals.push(new n.DoublePoint(this.m_normals[a-2])),o.m_endtype==n.EndType.etClosedPolygon){var s=a-1;for(c=0;c<a;c++)s=this.OffsetPoint(c,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(o.m_endtype==n.EndType.etClosedLine){for(s=a-1,c=0;c<a;c++)s=this.OffsetPoint(c,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;var u=this.m_normals[a-1];for(c=a-1;c>0;c--)this.m_normals[c]=new n.DoublePoint(-this.m_normals[c-1].X,-this.m_normals[c-1].Y);this.m_normals[0]=new n.DoublePoint(-u.X,-u.Y),s=0;for(c=a-1;c>=0;c--)s=this.OffsetPoint(c,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{var l;for(s=0,c=1;c<a-1;++c)s=this.OffsetPoint(c,s,o.m_jointype);if(o.m_endtype==n.EndType.etOpenButt){c=a-1;l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[c].X+this.m_normals[c].X*t),n.ClipperOffset.Round(this.m_srcPoly[c].Y+this.m_normals[c].Y*t)),this.m_destPoly.push(l),l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[c].X-this.m_normals[c].X*t),n.ClipperOffset.Round(this.m_srcPoly[c].Y-this.m_normals[c].Y*t)),this.m_destPoly.push(l)}else{c=a-1;s=a-2,this.m_sinA=0,this.m_normals[c]=new n.DoublePoint(-this.m_normals[c].X,-this.m_normals[c].Y),o.m_endtype==n.EndType.etOpenSquare?this.DoSquare(c,s):this.DoRound(c,s)}for(c=a-1;c>0;c--)this.m_normals[c]=new n.DoublePoint(-this.m_normals[c-1].X,-this.m_normals[c-1].Y);this.m_normals[0]=new n.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y);for(c=(s=a-1)-1;c>0;--c)s=this.OffsetPoint(c,s,o.m_jointype);o.m_endtype==n.EndType.etOpenButt?(l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(l),l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(l)):(s=1,this.m_sinA=0,o.m_endtype==n.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(o.m_jointype==n.JoinType.jtRound)for(var h=1,f=0,c=1;c<=i;c++){this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+h*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+f*t)));var p=h;h=h*this.m_cos-this.m_sin*f,f=p*this.m_sin+f*this.m_cos}else{h=-1,f=-1;for(var c=0;c<4;++c)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+h*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+f*t))),h<0?h=1:f<0?f=1:h=-1}this.m_destPolys.push(this.m_destPoly)}}}},n.ClipperOffset.prototype.Execute=function(){var t=arguments;if(t[0]instanceof n.PolyTree){o=t[0],a=t[1];if(o.Clear(),this.FixOrientations(),this.DoOffset(a),(i=new n.Clipper(0)).AddPaths(this.m_destPolys,n.PolyType.ptSubject,!0),a>0)i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftPositive,n.PolyFillType.pftPositive);else{u=n.Clipper.GetBounds(this.m_destPolys);if((s=new n.Path).push(new n.IntPoint(u.left-10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.top-10)),s.push(new n.IntPoint(u.left-10,u.top-10)),i.AddPath(s,n.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftNegative,n.PolyFillType.pftNegative),1==o.ChildCount()&&o.Childs()[0].ChildCount()>0){var e=o.Childs()[0];o.Childs()[0]=e.Childs()[0],o.Childs()[0].m_Parent=o;for(var r=1;r<e.ChildCount();r++)o.AddChild(e.Childs()[r])}else o.Clear()}}else{var i,o=t[0],a=t[1];if(n.Clear(o),this.FixOrientations(),this.DoOffset(a),(i=new n.Clipper(0)).AddPaths(this.m_destPolys,n.PolyType.ptSubject,!0),a>0)i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftPositive,n.PolyFillType.pftPositive);else{var s,u=n.Clipper.GetBounds(this.m_destPolys);(s=new n.Path).push(new n.IntPoint(u.left-10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.top-10)),s.push(new n.IntPoint(u.left-10,u.top-10)),i.AddPath(s,n.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftNegative,n.PolyFillType.pftNegative),o.length>0&&o.splice(0,1)}}},n.ClipperOffset.prototype.OffsetPoint=function(t,e,r){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,Math.abs(this.m_sinA*this.m_delta)<1){if(this.m_normals[e].X*this.m_normals[t].X+this.m_normals[t].Y*this.m_normals[e].Y>0)return this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),e}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new n.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(r){case n.JoinType.jtMiter:var i=this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y+1;i>=this.m_miterLim?this.DoMiter(t,e,i):this.DoSquare(t,e);break;case n.JoinType.jtSquare:this.DoSquare(t,e);break;case n.JoinType.jtRound:this.DoRound(t,e)}return e=t},n.ClipperOffset.prototype.DoSquare=function(t,e){var r=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*r)),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*r)))),this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*r)),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*r))))},n.ClipperOffset.prototype.DoMiter=function(t,e,r){var i=this.m_delta/r;this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*i),n.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*i)))},n.ClipperOffset.prototype.DoRound=function(t,e){for(var r,i=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),o=Math.max(n.Cast_Int32(n.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(i))),1),a=this.m_normals[e].X,s=this.m_normals[e].Y,u=0;u<o;++u)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+a*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+s*this.m_delta))),r=a,a=a*this.m_cos-this.m_sin*s,s=r*this.m_sin+s*this.m_cos;this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},n.Error=function(t){throw new Error(t)},n.JS={},n.JS.AreaOfPolygon=function(t,e){return e||(e=1),n.Clipper.Area(t)/(e*e)},n.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var r=0,i=0;i<t.length;i++)r+=n.Clipper.Area(t[i]);return r/(e*e)},n.JS.BoundsOfPath=function(t,e){return n.JS.BoundsOfPaths([t],e)},n.JS.BoundsOfPaths=function(t,e){e||(e=1);var r=n.Clipper.GetBounds(t);return r.left/=e,r.bottom/=e,r.right/=e,r.top/=e,r},n.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var r=t[0]instanceof Array;t=n.JS.Clone(t);if("number"!=typeof e||null===e)return n.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;r||(t=[t]);for(var i,o,a,s,u,l,h,f=t.length,c=[],p=0;p<f;p++)if(0!==(i=(o=t[p]).length))if(i<3)a=o,c.push(a);else{for(a=o,s=e*e,u=o[0],l=1,h=1;h<i;h++)(o[h].X-u.X)*(o[h].X-u.X)+(o[h].Y-u.Y)*(o[h].Y-u.Y)<=s||(a[l]=o[h],u=o[h],l++);u=o[l-1],(o[0].X-u.X)*(o[0].X-u.X)+(o[0].Y-u.Y)*(o[0].Y-u.Y)<=s&&l--,l<i&&a.splice(l,i-l),a.length&&c.push(a)}return!r&&c.length?c=c[0]:r||0!==c.length?r&&0===c.length&&(c=[[]]):c=[],c},n.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,r,i,o,a=t.length,s=new Array(a);for(r=0;r<a;r++){for(n=t[r].length,o=new Array(n),i=0;i<n;i++)o[i]={X:t[r][i].X,Y:t[r][i].Y};s[r]=o}return e||(s=s[0]),s},n.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return n.Error("Tolerance is not a number in Lighten()."),n.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return n.JS.Clone(t);var r,i,o,a,s,u,l,h,f,c,p,d,m,y,v,g;t[0]instanceof Array||(t=[t]);var x=t.length,P=e*e,b=[];for(r=0;r<x;r++)if(0!=(u=(o=t[r]).length)){for(a=0;a<1e6;a++){for(s=[],o[(u=o.length)-1].X!=o[0].X||o[u-1].Y!=o[0].Y?(p=1,o.push({X:o[0].X,Y:o[0].Y}),u=o.length):p=0,c=[],i=0;i<u-2;i++)l=o[i],f=o[i+1],h=o[i+2],v=l.X,g=l.Y,d=h.X-v,m=h.Y-g,0===d&&0===m||((y=((f.X-v)*d+(f.Y-g)*m)/(d*d+m*m))>1?(v=h.X,g=h.Y):y>0&&(v+=d*y,g+=m*y)),(d=f.X-v)*d+(m=f.Y-g)*m<=P&&(c[i+1]=1,i++);for(s.push({X:o[0].X,Y:o[0].Y}),i=1;i<u-1;i++)c[i]||s.push({X:o[i].X,Y:o[i].Y});if(s.push({X:o[u-1].X,Y:o[u-1].Y}),p&&o.pop(),!c.length)break;o=s}s[(u=s.length)-1].X==s[0].X&&s[u-1].Y==s[0].Y&&s.pop(),s.length>2&&b.push(s)}return t[0]instanceof Array||(b=b[0]),void 0===b&&(b=[[]]),b},n.JS.PerimeterOfPath=function(t,e,n){if(void 0===t)return 0;var r,i,o=Math.sqrt,a=0,s=0,u=0,l=0,h=0,f=t.length;if(f<2)return 0;for(e&&(t[f]=t[0],f++);--f;)s=(r=t[f]).X,u=r.Y,a+=o((s-(l=(i=t[f-1]).X))*(s-l)+(u-(h=i.Y))*(u-h));return e&&t.pop(),a/n},n.JS.PerimeterOfPaths=function(t,e,r){r||(r=1);for(var i=0,o=0;o<t.length;o++)i+=n.JS.PerimeterOfPath(t[o],e,r);return i},n.JS.ScaleDownPath=function(t,e){var n,r;for(e||(e=1),n=t.length;n--;)(r=t[n]).X=r.X/e,r.Y=r.Y/e},n.JS.ScaleDownPaths=function(t,e){var n,r,i;for(e||(e=1),n=t.length;n--;)for(r=t[n].length;r--;)(i=t[n][r]).X=i.X/e,i.Y=i.Y/e},n.JS.ScaleUpPath=function(t,e){var n,r,i=Math.round;for(e||(e=1),n=t.length;n--;)(r=t[n]).X=i(r.X*e),r.Y=i(r.Y*e)},n.JS.ScaleUpPaths=function(t,e){var n,r,i,o=Math.round;for(e||(e=1),n=t.length;n--;)for(r=t[n].length;r--;)(i=t[n][r]).X=o(i.X*e),i.Y=o(i.Y*e)},n.ExPolygons=function(){return[]},n.ExPolygon=function(){this.outer=null,this.holes=null},n.JS.AddOuterPolyNodeToExPolygons=function(t,e){var r=new n.ExPolygon;r.outer=t.Contour();var i,o,a,s,u,l,h=t.Childs(),f=h.length;for(r.holes=new Array(f),a=0;a<f;a++)for(i=h[a],r.holes[a]=i.Contour(),s=0,l=(u=i.Childs()).length;s<l;s++)o=u[s],n.JS.AddOuterPolyNodeToExPolygons(o,e);e.push(r)},n.JS.ExPolygonsToPaths=function(t){var e,r,i,o,a=new n.Paths;for(e=0,i=t.length;e<i;e++)for(a.push(t[e].outer),r=0,o=t[e].holes.length;r<o;r++)a.push(t[e].holes[r]);return a},n.JS.PolyTreeToExPolygons=function(t){var e,r,i,o,a=new n.ExPolygons;for(r=0,o=(i=t.Childs()).length;r<o;r++)e=i[r],n.JS.AddOuterPolyNodeToExPolygons(e,a);return a}}()},function(t,e,n){"use strict";var r=n(14),i=n(43),o=n(9),a=n(8),s=n(2),u=n(26),l=n(1),h=n(7),f=n(4),c=n(0),p=n(5),d=n(6),m=n(22);function y(t){var e={type:t.type};return e.type!==o.CLOSE&&(e.x=t.x,e.y=t.y),e.type===o.QUADTO?(e.x1=t.x1,e.y1=t.y1):e.type===o.CURVETO&&(e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2),e}var v={HORIZONTAL:"horizontal",VERTICAL:"vertical",EAST:"e",WEST:"w",NORTH:"n",SOUTH:"s",bounds:function(t){var e,n,r;if(t){if("function"==typeof t.bounds)return t.bounds();if(void 0!==t.x&&void 0!==t.y)return void 0!==t.width&&void 0!==t.height?new p(t.x,t.y,t.width,t.height):new p(t.x,t.y,0,0);if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b)return new v.Rect(0,0,30,30);if(Array.isArray(t)){if(e=null,(r=t.length)>0&&void 0!==t[0].r&&void 0!==t[0].g&&void 0!==t[0].b)return new p(0,0,30*t.length,30);for(n=0;n<r;n+=1)e=e?e.unite(v.bounds(t[n])):v.bounds(t[n]);return e||new p}return new p}return new p},makeCenteredRect:function(t,e,n,r){return new p(t-n/2,e-r/2,n,r)},makePoint:function(t,e){return new c(t,e)},makeRect:function(t,e,n,r){return new p(t,e,n,r)},merge:function(){for(var t=r(arguments),e=[],n=0;n<t.length;n+=1)t[n]&&0!==t[n].length&&e.push(t[n]);return new h(e)},combinePaths:function(t){return f.combine(t)}};v.shapePoints=v.toPoints=function(t){if(!t)return[];var e;if(t.commands){var n,r=[];for(e=0;e<t.commands.length;e+=1)void 0!==(n=t.commands[e]).x&&r.push(new c(n.x,n.y));return r}var i=[];for(e=0;e<t.shapes.length;e+=1)i=i.concat(v.shapePoints(t.shapes[e]));return i},v.colorize=function(t,e,n,r){return t?t.colorize(e,n,r):null},v.translate=function(t,e){return t?t.translate?t.translate(e):m.translate.apply(t,[e]):null},v.scale=function(t,e,n){return t?t.scale?t.scale(e,n):m.scale.apply(t,[e,n]):null},v.rotate=function(t,e,n){return t?t.rotate?t.rotate(e,n):m.rotate.apply(t,[e,n]):null},v.skew=function(t,e,n){return t?t.skew?t.skew(e,n):m.skew.apply(t,[e,n]):null},v.copy=function(t,e,n,r,i,o){var a,s,u,l,h=[],f=0,c=0,p=0,m=1,y=1;for(a=0;a<e;a+=1){for(s=new d,u=0;u<n.length;u+=1)"t"===(l=n[u])?s=s.translate(f,c):"r"===l?s=s.rotate(p):"s"===l&&(s=s.scale(m,y));Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y?h=h.concat(s.transformShape(t)):h.push(s.transformShape(t)),f+=r.x,c+=r.y,p+=i,m+=o.x,y+=o.y}return h},v.fit=function(t,e,n,r,i){if(!t)return null;i=void 0!==i&&i;var o,a,s,u=v.bounds(t),l=u.x,h=u.y,f=u.width,c=u.height;return f=f>1e-12?f:0,c=c>1e-12?c:0,o=(o=new d).translate(e.x,e.y),i?(a=f>0?n/f:1,s=c>0?r/c:1):(a=f>0?n/f:Number.MAX_VALUE,s=c>0?r/c:Number.MAX_VALUE,a=s=Math.min(a,s)),(o=(o=o.scale(a,s)).translate(-f/2-l,-c/2-h)).transformShape(t)},v.fitTo=function(t,e,n){if(!t)return null;if(!e)return t;var r=v.bounds(e),i=r.x,o=r.y,a=r.width,s=r.height;return v.fit(t,{x:i+a/2,y:o+s/2},a,s,n)},v.mirror=function(t,e,n,r){if(!t)return null;var i=new d,o=(i=(i=(i=(i=i.translate(n.x,n.y)).rotate(2*e-180)).scale(-1,1)).translate(-n.x,-n.y)).transformShape(t);return r?Array.isArray(t)&&t.length>0?t.concat(o):new h([t,o]):o},v.pathLength=function(t,e){if(!t)return 0;var n=20;return e&&e.precision&&(n=e.precision),t.length(n)},v.resampleByLength=function(t,e){return t?t.resampleByLength(e):null},v.resampleByAmount=function(t,e,n){return t?t.resampleByAmount(e,n):null},v._wigglePoints=function(t,e,n){var r,i,a;if(t.commands){var s=new f([],t.fill,t.stroke,t.strokeWidth);for(r=0;r<t.commands.length;r+=1){i=(n(0,1)-.5)*e.x*2,a=(n(0,1)-.5)*e.y*2;var u=t.commands[r];u.type===o.MOVETO?s.moveTo(u.x+i,u.y+a):u.type===o.LINETO?s.lineTo(u.x+i,u.y+a):u.type===o.CURVETO?s.curveTo(u.x1,u.y1,u.x2,u.y2,u.x+i,u.y+a):u.type===o.CLOSE&&s.close()}return s}if(t.shapes){var l=[];for(l.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)l[r]=v._wigglePoints(t.shapes[r],e,n);return new h(l)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var p=[];for(p.length=t.length,r=0;r<t.length;r+=1)i=(n(0,1)-.5)*e.x*2,a=(n(0,1)-.5)*e.y*2,p[r]=new c(t[r].x+i,t[r].y+a);return p}var d=[];for(d.length=t.length,r=0;r<t.length;r+=1)d[r]=v._wigglePoints(t[r],e,n);return d},v.wigglePoints=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),v._wigglePoints(t,e,r)},v._wiggleContours=function(t,e,n){var r;if(t.commands){var i,o,a,s=t.contours(),u=[];for(r=0;r<s.length;r+=1)i=(n(0,1)-.5)*e.x*2,o=(n(0,1)-.5)*e.y*2,a=(new d).translate(i,o),u=u.concat(a.transformShape(new f(s[r])).commands);return new f(u,t.fill,t.stroke,t.strokeWidth)}if(t.shapes){var l=[];for(l.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)l[r]=v._wiggleContours(t.shapes[r],e,n);return new h(l)}var c=[];for(c.length=t.length,r=0;r<t.length;r+=1)c[r]=v._wiggleContours(t[r],e,n);return c},v.wiggleContours=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),v._wiggleContours(t,e,r)},v._wigglePaths=function(t,e,n){if(t.commands)return t;if(t.shapes)return new h(v._wigglePaths(t.shapes,e,n));if(Array.isArray(t)){for(var r,i,o,a,s=[],u=0;u<t.length;u+=1)(r=t[u]).commands?(i=(n(0,1)-.5)*e.x*2,o=(n(0,1)-.5)*e.y*2,a=(new d).translate(i,o),s.push(a.transformShape(r))):r.shapes&&s.push(v._wigglePaths(r,e,n));return s}},v.wigglePaths=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),v._wigglePaths(t,e,r)},v.scatterPoints=function(t,e,n){if(!t)return[];n=void 0!==n?n:Math.random();var r,i,o,s,l,h,p,d,m=u.generator(n),y=t.bounds(),v=y.x,g=y.y,x=y.width,P=y.height,b=t.contours(),w=[],C=[];for(r=0;r<b.length;r++)s=(o=new f(b[r])).commands.length,w.push(o.points(5*s,{closed:!0}));for(r=0;r<e;r+=1)for(l=100;l>0;){for(h=0,p=v+m(0,1)*x,d=g+m(0,1)*P,i=0;i<w.length;i++)a.pointInPolygon(w[i],p,d)&&(h+=1);if(h%2){C.push(new c(p,d));break}l-=1}return C},v.connectPoints=function(t,e){if(!t)return null;for(var n,r=new f,i=0;i<t.length;i+=1)n=t[i],0===i?r.moveTo(n.x,n.y):r.lineTo(n.x,n.y);return e&&r.close(),r.fill=null,r.stroke=l.BLACK,r},v.align=function(t,e,n,r){if(!t)return null;var i,o,a=e.x,s=e.y,u=v.bounds(t);return i="left"===n?a-u.x:"right"===n?a-u.x-u.width:"center"===n?a-u.x-u.width/2:0,o="top"===r?s-u.y:"bottom"===r?s-u.y-u.height:"middle"===r?s-u.y-u.height/2:0,(new d).translate(i,o).transformShape(t)},v.snap=function(t,e,n,r){if(!t)return null;var i,a,u;if(n=void 0!==n?n:1,r=r||c.ZERO,t.commands){var l,p,d,m,y,g=new f([],t.fill,t.stroke,t.strokeWidth);for(i=0;i<t.commands.length;i+=1)if((l=t.commands[i]).type===o.MOVETO||l.type===o.LINETO||l.type===o.CURVETO)a=s.snap(l.x+r.x,e,n)-r.x,u=s.snap(l.y+r.y,e,n)-r.y,l.type===o.MOVETO?g.moveTo(a,u):l.type===o.LINETO?g.lineTo(a,u):l.type===o.CURVETO&&(p=s.snap(l.x1+r.x,e,n)-r.x,d=s.snap(l.y1+r.y,e,n)-r.y,m=s.snap(l.x2+r.x,e,n)-r.x,y=s.snap(l.y2+r.y,e,n)-r.y,g.curveTo(p,d,m,y,a,u));else{if(l.type!==o.CLOSE)throw new Error("Invalid path command "+l);g.close()}return g}if(t.shapes){var x=[];for(x.length=t.shapes.length,i=0;i<t.shapes.length;i+=1)x[i]=v.snap(t.shapes[i],e,n,r);return new h(x)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var P,b=[];for(b.length=t.length,i=0;i<t.length;i+=1)P=t[i],a=s.snap(P.x+r.x,e,n)-r.x,u=s.snap(P.y+r.y,e,n)-r.y,b[i]=new c(a,u);return b}var w=[];for(w.length=t.length,i=0;i<t.length;i+=1)w[i]=v.snap(t[i],e,n,r);return w},v.deletePoints=function(t,e,n){if(!t)return null;if(!e)return t;var r,i,a,s=[],u=[];if(t.commands){var l=!0;for(r=0;r<t.commands.length;r+=1)(void 0===(i=y(t.commands[r])).x||n&&e.contains(i.x,i.y)||!n&&!e.contains(i.x,i.y))&&(l&&i.type!==o.MOVETO&&(i.type=o.MOVETO),s.push(i),i.type===o.MOVETO?l=!1:i.type===o.CLOSE&&(l=!0));return new f(s,t.fill,t.stroke,t.strokeWidth)}if(t.shapes){var c=[];for(c.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)c[r]=v.deletePoints(t.shapes[r],e,n);return new h(c)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){for(r=0;r<t.length;r+=1)a=t[r],(n&&e.contains(a.x,a.y)||!n&&!e.contains(a.x,a.y))&&u.push(y(a));return u}var p=[];for(p.length=t.length,r=0;r<t.length;r+=1)p[r]=v.deletePoints(t[r],e,n);return p},v.deletePaths=function(t,e,n){if(!t||t.commands)return null;if(t.shapes)return new h(v.deletePaths(t.shapes,e,n));if(Array.isArray(t)){if(!e)return t;for(var r,i,o,a,s,u=[],l=t,f=0;f<l.length;f+=1)if((i=l[f]).commands){for(o=!1,r=0;r<i.commands.length;r+=1)if(void 0!==(a=i.commands[r]).x&&e.contains(a.x,a.y)){o=!0;break}n&&!o||o&&!n||u.push(i)}else i.shapes&&0!==(s=v.deletePaths(i,e,n)).length&&u.push(s);return u}},v.delete=function(t,e,n,r){if(null===t||null===e)return null;if("points"===n)return v.deletePoints(t,e,r);if("paths"===n)return v.deletePaths(t,e,r);throw new Error("Invalid scope.")},v.pointOnPath=function(t,e){if(!t)return c.ZERO;t.shapes&&(t=new f(v.combinePaths(t))),(e%=1)<0&&(e=1+e);var n=t.point(e);return new c(n.x,n.y)},v._x=function(t){return void 0!==t.x?t.x:t.bounds().x},v._y=function(t){return void 0!==t.y?t.y:t.bounds().y},v._angleToPoint=function(t){return function(e){if(void 0!==e.x&&void 0!==e.y)return a.angle(e.x,e.y,t.x,t.y);var n=e.bounds().centerPoint();return a.angle(n.x,n.y,t.x,t.y)}},v._distanceToPoint=function(t){return function(e){if(void 0!==e.x&&void 0!==e.y)return a.distance(e.x,e.y,t.x,t.y);var n=e.bounds().centerPoint();return a.distance(n.x,n.y,t.x,t.y)}},v.shapeSort=function(t,e,n){if(!t)return null;n=n||c.ZERO;var r={x:v._x,y:v._y,angle:v._angleToPoint(n),distance:v._distanceToPoint(n)};if(void 0===(e=r[e]))return t;var i=t.slice(0);return i.sort(function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}),i},v.group=function(){return new h(r(arguments))},v.ungroup=function(t){if(t){if(t.shapes){var e,n,r=[];for(e=0;e<t.shapes.length;e+=1)(n=t.shapes[e]).commands?r.push(n):n.shapes&&(r=r.concat(v.ungroup(n)));return r}return t.commands?[t]:[]}return[]},v.centerPoint=function(t){if(!t)return c.ZERO;var e=v.bounds(t);return new c(e.x+e.width/2,e.y+e.height/2)},v.link=function(t,e,n){if(!t||!e)return null;var r=new f,i=t.bounds(),o=e.bounds();if(n===v.HORIZONTAL){var a=(o.x-(i.x+i.width))/2;r.moveTo(i.x+i.width,i.y),r.curveTo(i.x+i.width+a,i.y,o.x-a,o.y,o.x,o.y),r.lineTo(o.x,o.y+o.height),r.curveTo(o.x-a,o.y+o.height,i.x+i.width+a,i.y+i.height,i.x+i.width,i.y+i.height),r.close()}else{var s=(o.y-(i.y+i.height))/2;r.moveTo(i.x,i.y+i.height),r.curveTo(i.x,i.y+i.height+s,o.x,o.y-s,o.x,o.y),r.lineTo(o.x+o.width,o.y),r.curveTo(o.x+o.width,o.y-s,i.x+i.width,i.y+i.height+s,i.x+i.width,i.y+i.height),r.close()}return r};var g={union:i.ClipType.ctUnion,difference:i.ClipType.ctDifference,intersection:i.ClipType.ctIntersection,xor:i.ClipType.ctXor};v._compoundToPoints=function(t){var e,n,r,i,a,s=[];for(e=0;e<t.length;e+=1){for(n=[],r=t[e],i=0;i<r.length;i+=1)(a=r[i]).type!==o.CLOSE&&n.push({X:a.x,Y:a.y});s.push(n)}return s},v.compound=function(t,e,n){t.commands||(t=f.combine(t)),e.commands||(e=f.combine(e));var r=t.resampleByLength(1).contours(),o=e.resampleByLength(1).contours(),a=v._compoundToPoints(r),s=v._compoundToPoints(o);i.JS.ScaleUpPaths(a,100),i.JS.ScaleUpPaths(s,100);var u=new i.Clipper;u.AddPaths(a,i.PolyType.ptSubject,t.isClosed()),u.AddPaths(s,i.PolyType.ptClip,e.isClosed());var l=new i.Paths;u.Execute(g[n],l,i.PolyFillType.pftNonZero,i.PolyFillType.pftNonZero),l=i.JS.Clean(l,10),i.JS.ScaleDownPaths(l,100);var h,c,p,d=new f;for(h=0;h<l.length;h+=1){for(p=l[h],c=0;c<p.length;c+=1)0===c?d.moveTo(p[c].X,p[c].Y):d.lineTo(p[c].X,p[c].Y);p[0].X===p[p.length-1].X&&p[0].Y===p[p.length-1].Y||d.closePath()}return d},t.exports=v},function(t,e,n){"use strict";var r=n(1),i={isDrawable:function(t){return Array.isArray(t)&&(t=t[0]),!!t&&("function"==typeof t.draw||("number"==typeof t.x&&"number"==typeof t.y||"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b))},drawPoints:function(t,e){var n;t.fillStyle="blue",t.beginPath();for(var r=0;r<e.length;r+=1)n=e[r],t.moveTo(n.x,n.y),t.arc(n.x,n.y,2,0,2*Math.PI,!1);t.fill()},drawColoredPoints:function(t,e){for(var n,i=0,o=e.length;i<o;i+=1)n=e[i],t.fillStyle=r.toCSS(n),t.fillRect(n.x-2,n.y-2,4,4)},drawRectangles:function(t,e){var n;t.save();for(var r=0;r<e.length;r+=1)n=e[r],t.strokeStyle="black",t.strokeWidth=1,t.rect(n.x,n.y,n.width,n.height),t.stroke();t.restore()},drawColors:function(t,e){var n;t.save();for(var i=0;i<e.length;i+=1)n=e[i],t.fillStyle=r.toCSS(n),t.fillRect(0,0,30,30),t.translate(30,0);t.restore()},draw:function(t,e){var n=e,r=!1;if(Array.isArray(e)&&(n=e[0],r=!0),n)if("function"==typeof n.draw)if(r)for(var o=0,a=e.length;o<a;o+=1)i.draw(t,e[o]);else e.draw(t);else"number"==typeof n.x&&"number"==typeof n.y?"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b?i.drawColoredPoints(t,r?e:[e]):"number"==typeof n.width&&"number"==typeof n.height?i.drawRectangles(t,r?e:[e]):i.drawPoints(t,r?e:[e]):"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b&&i.drawColors(t,r?e:[e])},toSVG:function(t,e){var n=!0===(e=e||{}).header,r=void 0!==e.x?e.x:0,o=void 0!==e.y?e.y:0,a=void 0!==e.width?e.width:500,s=void 0!==e.height?e.height:500,u="";if(t)if("function"==typeof t.toSVG)u=t.toSVG();else if(Array.isArray(t)){u="<g>\n";for(var l=0,h=t.length;l<h;l+=1)u+=i.toSVG(t[l])+"\n";u+="</g>\n"}return n&&(u='<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="'+r+'" y="'+o+'" width="'+a+'px" height="'+s+'px" viewBox="'+r+" "+o+" "+a+" "+s+'">\n'+u+"</svg>\n"),u}};t.exports=i},function(t,e,n){"use strict";var r=n(24),i=function(t){void 0!==t?this.m=t:((t=new Float32Array(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.m=t)};i.IDENTITY=new i,i.perspective=function(t,e,n,r){var o=new Float32Array(i.IDENTITY.m),a=1/Math.tan(.5*t);return o[0]=a/e,o[1]=o[2]=o[3]=0,o[5]=a,o[4]=o[6]=o[7]=0,o[8]=o[9]=0,o[10]=-r/(n-r),o[11]=1,o[12]=o[13]=o[15]=0,o[14]=n*r/(n-r),new i(o)},i.lookAt=function(t,e,n){var o,a,s,u,l,h,f;return o=new Float32Array(16),a=e.subtract(t).normalize(),s=r.cross(n,a).normalize(),u=r.cross(a,s).normalize(),l=-r.dot(s,t),h=-r.dot(u,t),f=-r.dot(a,t),o[0]=s.x,o[1]=u.x,o[2]=a.x,o[3]=0,o[4]=s.y,o[5]=u.y,o[6]=a.y,o[7]=0,o[8]=s.z,o[9]=u.z,o[10]=a.z,o[11]=0,o[12]=l,o[13]=h,o[14]=f,o[15]=1,new i(o)},i.prototype.invert=function(){var t,e,n,r,o,a,s,u,l,h,f,c,p,d,m,y,v,g,x,P,b,w,C,_,I,E,T,O,L,N,A,S,M,X,D,Y,k,B,R,F;return t=this.m[0],e=this.m[1],n=this.m[2],r=this.m[3],o=this.m[4],a=this.m[5],s=this.m[6],u=this.m[7],l=this.m[8],h=this.m[9],f=this.m[10],c=this.m[11],p=this.m[12],d=this.m[13],m=this.m[14],T=1/(t*(C=a*(v=f*(y=this.m[15])-c*m)-s*(g=h*y-c*d)+u*(x=h*m-f*d))+e*(_=-(o*v-s*(P=l*y-c*p)+u*(b=l*m-f*p)))+n*(I=o*g-a*P+u*(w=l*d-h*p))+r*(E=-(o*x-a*b+s*w))),O=s*y-u*m,L=a*y-u*d,N=a*m-s*d,A=o*y-u*p,S=o*m-s*p,M=o*d-a*p,X=s*c-u*f,D=a*c-u*h,Y=a*f-s*h,k=o*c-u*l,B=o*f-s*l,R=o*h-a*l,(F=new Float32Array(16))[0]=C*T,F[4]=_*T,F[8]=I*T,F[12]=E*T,F[1]=-(e*v-n*g+r*x)*T,F[5]=(t*v-n*P+r*b)*T,F[9]=-(t*g-e*P+r*w)*T,F[13]=(t*x-e*b+n*w)*T,F[2]=(e*O-n*L+r*N)*T,F[6]=-(t*O-n*A+r*S)*T,F[10]=(t*L-e*A+r*M)*T,F[14]=-(t*N-e*S+n*M)*T,F[3]=-(e*X-n*D+r*Y)*T,F[7]=(t*X-n*k+r*B)*T,F[11]=-(t*D-e*k+r*R)*T,F[15]=(t*Y-e*B+n*R)*T,new i(F)},i.prototype.multiply=function(t){var e=new Float32Array(16);return e[0]=this.m[0]*t.m[0]+this.m[1]*t.m[4]+this.m[2]*t.m[8]+this.m[3]*t.m[12],e[1]=this.m[0]*t.m[1]+this.m[1]*t.m[5]+this.m[2]*t.m[9]+this.m[3]*t.m[13],e[2]=this.m[0]*t.m[2]+this.m[1]*t.m[6]+this.m[2]*t.m[10]+this.m[3]*t.m[14],e[3]=this.m[0]*t.m[3]+this.m[1]*t.m[7]+this.m[2]*t.m[11]+this.m[3]*t.m[15],e[4]=this.m[4]*t.m[0]+this.m[5]*t.m[4]+this.m[6]*t.m[8]+this.m[7]*t.m[12],e[5]=this.m[4]*t.m[1]+this.m[5]*t.m[5]+this.m[6]*t.m[9]+this.m[7]*t.m[13],e[6]=this.m[4]*t.m[2]+this.m[5]*t.m[6]+this.m[6]*t.m[10]+this.m[7]*t.m[14],e[7]=this.m[4]*t.m[3]+this.m[5]*t.m[7]+this.m[6]*t.m[11]+this.m[7]*t.m[15],e[8]=this.m[8]*t.m[0]+this.m[9]*t.m[4]+this.m[10]*t.m[8]+this.m[11]*t.m[12],e[9]=this.m[8]*t.m[1]+this.m[9]*t.m[5]+this.m[10]*t.m[9]+this.m[11]*t.m[13],e[10]=this.m[8]*t.m[2]+this.m[9]*t.m[6]+this.m[10]*t.m[10]+this.m[11]*t.m[14],e[11]=this.m[8]*t.m[3]+this.m[9]*t.m[7]+this.m[10]*t.m[11]+this.m[11]*t.m[15],e[12]=this.m[12]*t.m[0]+this.m[13]*t.m[4]+this.m[14]*t.m[8]+this.m[15]*t.m[12],e[13]=this.m[12]*t.m[1]+this.m[13]*t.m[5]+this.m[14]*t.m[9]+this.m[15]*t.m[13],e[14]=this.m[12]*t.m[2]+this.m[13]*t.m[6]+this.m[14]*t.m[10]+this.m[15]*t.m[14],e[15]=this.m[12]*t.m[3]+this.m[13]*t.m[7]+this.m[14]*t.m[11]+this.m[15]*t.m[15],new i(e)},i.prototype.translate=function(t,e,n){var r=new Float32Array(this.m);return r[12]+=t,r[13]+=e,r[14]+=n,new i(r)},t.exports=i},function(t,e,n){"use strict";e.defineAlias=function(t,e,n){Object.defineProperty(t.prototype,n,{get:function(){return this[e]},set:function(t){this[e]=t}})},e.defineGetter=function(t,e,n){Object.defineProperty(t.prototype,e,{get:n})}},function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,a=1,s=2,u=3,l=4,h=5,f=6,c=7;function p(){}function d(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function m(t,e,n,r,i,p){for(var d,m=++e,y=o;;){var v=t.charAt(m);switch(v){case"=":if(y===a)d=t.slice(e,m),y=u;else{if(y!==s)throw new Error("attribute equal must after attrName");y=u}break;case"'":case'"':if(y===u||y===a){if(y===a&&(p.warning('attribute value must after "="'),d=t.slice(e,m)),e=m+1,!((m=t.indexOf(v,e))>0))throw new Error("attribute value no end '"+v+"' match");g=t.slice(e,m).replace(/&#?\w+;/g,i),n.add(d,g,e-1),y=h}else{if(y!=l)throw new Error('attribute value must after "="');g=t.slice(e,m).replace(/&#?\w+;/g,i),n.add(d,g,e),p.warning('attribute "'+d+'" missed start quot('+v+")!!"),e=m+1,y=h}break;case"/":switch(y){case o:n.setTagName(t.slice(e,m));case h:case f:case c:y=c,n.closed=!0;case l:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),y==o&&n.setTagName(t.slice(e,m)),m;case">":switch(y){case o:n.setTagName(t.slice(e,m));case h:case f:case c:break;case l:case a:"/"===(g=t.slice(e,m)).slice(-1)&&(n.closed=!0,g=g.slice(0,-1));case s:y===s&&(g=d),y==l?(p.warning('attribute "'+g+'" missed quot(")!!'),n.add(d,g.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===r[""]&&g.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+g+'" missed value!! "'+g+'" instead!!'),n.add(g,g,e));break;case u:throw new Error("attribute value missed!!")}return m;case"":v=" ";default:if(v<=" ")switch(y){case o:n.setTagName(t.slice(e,m)),y=f;break;case a:d=t.slice(e,m),y=s;break;case l:var g=t.slice(e,m).replace(/&#?\w+;/g,i);p.warning('attribute "'+g+'" missed quot(")!!'),n.add(d,g,e);case h:y=f}else switch(y){case s:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+d+'" missed value!! "'+d+'" instead2!!'),n.add(d,d,e),e=m,y=a;break;case h:p.warning('attribute space is required"'+d+'"!!');case f:y=a,e=m;break;case u:y=l,e=m;break;case c:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function y(t,e,n){for(var r=t.tagName,i=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((c=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,c),h=s.slice(c+1),f="xmlns"===l&&h;else h=s,l=null,f="xmlns"===s&&"";a.localName=h,!1!==f&&(null==i&&(i={},x(n,n={})),n[f]=i[f]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(f,u))}for(o=t.length;o--;){(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]))}var c;(c=r.indexOf(":"))>0?(l=t.prefix=r.slice(0,c),h=t.localName=r.slice(c+1)):(l=null,h=t.localName=r);var p=t.uri=n[l||""];if(e.startElement(p,h,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(e.endElement(p,h,r),i)for(l in i)e.endPrefixMapping(l)}function v(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return e+1}function g(t,e,n,r){var i=r[n];return null==i&&((i=t.lastIndexOf("</"+n+">"))<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function x(t,e){for(var n in t)e[n]=t[n]}function P(t,e,n,r){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var o=function(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e,i.exec(t);for(;n=i.exec(t);)if(r.push(n),n[1])return r}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],h=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function b(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function w(t){}function C(t,e){return t.__proto__=e,t}p.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),x(e,e={}),function(t,e,n,r,i){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function a(e){if(e>x){var n=t.substring(x,e).replace(/&#?\w+;/g,o);f&&s(x),r.characters(n,0,e-x),x=e}}function s(e,n){for(;e>=l&&(n=h.exec(t));)u=n.index,l=u+n[0].length,f.lineNumber++;f.columnNumber=e-u+1}var u=0,l=0,h=/.*(?:\r\n?|\n)|.*$/g,f=r.locator,c=[{currentNSMap:e}],p={},x=0;for(;;){try{var C=t.indexOf("<",x);if(C<0){if(!t.substr(x).match(/^\s*$/)){var _=r.doc,I=_.createTextNode(t.substr(x));_.appendChild(I),r.currentElement=I}return}switch(C>x&&a(C),t.charAt(C+1)){case"/":var E=t.indexOf(">",C+3),T=t.substring(C+2,E),O=c.pop();E<0?(T=t.substring(C+2).replace(/[\s<].*/,""),i.error("end tag name: "+T+" is not complete:"+O.tagName),E=C+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),i.error("end tag name: "+T+" maybe not complete"),E=C+1+T.length);var L=O.localNSMap,N=O.tagName==T,A=N||O.tagName&&O.tagName.toLowerCase()==T.toLowerCase();if(A){if(r.endElement(O.uri,O.localName,T),L)for(var S in L)r.endPrefixMapping(S);N||i.fatalError("end tag name: "+T+" is not match the current start tagName:"+O.tagName)}else c.push(O);E++;break;case"?":f&&s(C),E=b(t,C,r);break;case"!":f&&s(C),E=P(t,C,r,i);break;default:f&&s(C);var M=new w,X=c[c.length-1].currentNSMap,E=m(t,C,M,X,o,i),D=M.length;if(!M.closed&&g(t,E,M.tagName,p)&&(M.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),f&&D){for(var Y=d(f,{}),k=0;k<D;k++){var B=M[k];s(B.offset),B.locator=d(f,{})}r.locator=Y,y(M,r,X)&&c.push(M),r.locator=f}else y(M,r,X)&&c.push(M);"http://www.w3.org/1999/xhtml"!==M.uri||M.closed?E++:E=v(t,E,M.tagName,o,r)}}catch(t){i.error("element parse error: "+t),E=-1}E>x?x=E:a(Math.max(C,x)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},w.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},C({},C.prototype)instanceof C||(C=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n}),e.XMLReader=p},function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function o(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function s(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r.prototype.parseFromString=function(t,e){var n=this.options,r=new l,o=n.domBuilder||new i,s=n.errorHandler,u=n.locator,h=n.xmlns||{},f={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},o=t instanceof Function;function s(e){var i=t[e];!i&&o&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,o,u),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(e)&&(f.nbsp=" ",f.copy="©",h[""]="http://www.w3.org/1999/xhtml"),h.xml=h.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,h,f):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,a=i.createElementNS(t,n||e),s=r.length;u(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<s;l++){t=r.getURI(l);var h=r.getValue(l),f=(n=r.getQName(l),i.createAttributeNS(t,n));this.locator&&o(r.getLocator(l),f),f.value=f.nodeValue=h,a.setAttributeNode(f)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&o(this.locator,n),u(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=s.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&o(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&o(this.locator,i),u(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){i.prototype[t]=function(){return null}});var l=n(48).XMLReader,h=e.DOMImplementation=n(25).DOMImplementation;e.XMLSerializer=n(25).XMLSerializer,e.DOMParser=r},function(t,e,n){"use strict";var r=n(49),i=n(1),o=n(7),a=n(4),s=n(0),u=n(6),l=function(t){return t.replace(/^\s+|\s+$/g,"")},h=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},f=function(t){var e,n=l(h((t||"").replace(/,/g," "))).split(" ");for(e=0;e<n.length;e+=1)n[e]=parseFloat(n[e]);return n},c=function(t,e){var n,r,i,o,a,s,c,p,d,m,y,v,g,x,P,b,w,C,_;v=e?Object.create(e):{},p=[],(d={}).translate=function(t){var e=f(t),n=e[0],r=e[1]||0;return(new u).translate(n,r)},d.scale=function(t){var e=f(t),n=e[0],r=e[1]||n;return(new u).scale(n,r)},d.rotate=function(t){var e=f(t),n=e[0],r=e[1]||0,i=e[2]||0;return(new u).translate(r,i).rotate(n).translate(-r,-i)},d.matrix=function(t){var e=f(t);return new u([e[0],e[1],0,e[2],e[3],0,e[4],e[5],1])};for(var I=0;I<t.attributes.length;I+=1)switch((g=t.attributes[I]).nodeName){case"transform":for(x=l(h(g.nodeValue)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),y=0;y<x.length;y+=1)P=l(x[y].split("(")[0]),b=x[y].split("(")[1].replace(")",""),m=d[P](b),p.push(m);break;case"visibility":case"stroke-linecap":case"stroke-linejoin":case"stroke-miterlimit":break;case"stroke-width":a=parseFloat(g.nodeValue);break;case"stroke-opacity":o=parseFloat(g.nodeValue);break;case"fill-opacity":r=parseFloat(g.nodeValue);break;case"fill":n=g.nodeValue;break;case"stroke":i=g.nodeValue;break;case"opacity":s=parseFloat(g.nodeValue);break;case"color":c=g.nodeValue;break;case"style":for(w={},C=g.nodeValue.split(";"),y=0;y<C.length;y+=1)w[(_=C[y].split(":"))[0].trim()]=_[1];w.fill&&(n=w.fill),w.stroke&&(i=w.stroke),void 0!==w["stroke-width"]&&(a=parseFloat(w["stroke-width"])),void 0!==w["stroke-opacity"]&&(o=parseFloat(w["stroke-opacity"])),void 0!==w["fill-opacity"]&&(r=parseFloat(w["fill-opacity"])),void 0!==w.opacity&&(s=parseFloat(w.opacity)),w.color&&(c=w.color)}if(void 0!==n&&(v.fill=n),void 0!==i&&(v.stroke=i),void 0!==r&&(v.fillOpacity=r),void 0!==o&&(v.strokeOpacity=o),void 0!==a&&(v.strokeWidth=a),void 0!==s&&(v.opacity=s),void 0!==c&&"currentColor"!==c&&(v.color=c),p.length>0){for(m=new u,y=0;y<p.length;y+=1)m=m.append(p[y]);m.isIdentity()||(v.transform?v.transform=v.transform.append(m):v.transform=m)}return v},p=function(t,e){var n=e.fill;t.commands&&t.commands.length>0&&void 0===n&&(n="black");var r,o=e.fillOpacity,s=e.stroke,u=e.strokeOpacity,l=e.opacity,h=e.strokeWidth,f=e.transform,c=e.color;"currentColor"===n&&(n=void 0===c?"black":c),void 0!==n&&(n=i.parse(n),void 0!==o&&(n.a*=o),void 0!==l&&(n.a*=l)),"currentColor"===s&&(s=void 0===c?"black":c),void 0!==s&&(s=i.parse(s),void 0!==u&&(s.a*=u),void 0!==l&&(s.a*=l)),r=f?f.transformShape(t).commands:t.commands;var p=void 0===n?t.fill:n,d=void 0===s?t.stroke:s,m=void 0===h?t.strokeWidth:h;return void 0!==m&&void 0!==f&&(m*=f.m[0]),new a(r,p,d,m)},d=function(t,e,n,r,i,o,a,s,u){var l,h,f,c,p,d,m,y,v,g,x,P,b,w,C,_,I,E,T,O,L,N,A,S,M;for(l=a*(Math.PI/180),h=Math.sin(l),f=Math.cos(l),n=Math.abs(n),r=Math.abs(r),(d=(c=f*(s-t)*.5+h*(u-e)*.5)*c/(n*n)+(p=f*(u-e)*.5-h*(s-t)*.5)*p/(r*r))>1&&(n*=d=Math.sqrt(d),r*=d),(C=1/(((b=(m=f/n)*t+(y=h/n)*e)-(x=m*s+y*u))*(b-x)+((w=(v=-h/r)*t+(g=f/r)*e)-(P=v*s+g*u))*(w-P))-.25)<0&&(C=0),_=Math.sqrt(C),o===i&&(_=-_),I=.5*(x+b)-_*(w-P),E=.5*(P+w)+_*(b-x),T=Math.atan2(P-E,x-I),(O=Math.atan2(w-E,b-I)-T)<0&&1===o?O+=2*Math.PI:O>0&&0===o&&(O-=2*Math.PI),L=Math.ceil(Math.abs(O/(.5*Math.PI+.001))),N=[],M=0;M<L;M+=1)A=T+M*O/L,S=T+(M+1)*O/L,N[M]=[I,E,A,S,n,r,h,f];return N},m=function(t,e,n,r,i,o,a,s){var u=s*i,l=-a*o,h=a*i,f=s*o,c=.5*(r-n),p=8/3*Math.sin(.5*c)*Math.sin(.5*c)/Math.sin(c),d=t+Math.cos(n)-p*Math.sin(n),m=e+Math.sin(n)+p*Math.cos(n),y=t+Math.cos(r),v=e+Math.sin(r),g=y+p*Math.sin(r),x=v-p*Math.cos(r);return[u*d+l*m,h*d+f*m,u*g+l*x,h*g+f*x,u*y+l*v,h*y+f*v]},y={svg:function(){return y.g.apply(this,arguments)},g:function(t,e){for(var n,r,i,a,s=[],u=c(t,e),l=0;l<t.childNodes.length;l+=1){if(!(r=(n=t.childNodes[l]).nodeName))return;i=r.replace(/svg\:/gi,"").toLowerCase(),void 0!==y[i]&&(a=y[i].call(this,n,u),s.push(a))}return new o(s)},_polyline:function(t){var e=t.getAttribute("points"),n=new a;return e.replace(/([\d\.?]+),([\d\.?]+)/g,function(t,e,r){var i=parseFloat(e),o=parseFloat(r);0===n.commands.length?n.moveTo(i,o):n.lineTo(i,o)}),n},polygon:function(t,e){var n=c(t,e),r=y._polyline(t);return r.close(),p(r,n)},polyline:function(t,e){var n=c(t,e),r=y._polyline(t);return p(r,n)},rect:function(t,e){var n=c(t,e),r=parseFloat(t.getAttribute("x")),i=parseFloat(t.getAttribute("y"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <rect> attribute width="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <rect> attribute height="'+s+'"'),s=0);var u=parseFloat(t.getAttribute("rx")),l=parseFloat(t.getAttribute("ry"));u||(u=0),l||(l=0),u<0&&(console.error('Error: invalid negative value for <rect> attribute rx="'+u+'"'),u=0),l<0&&(console.error('Error: invalid negative value for <rect> attribute ry="'+l+'"'),l=0),u&&l||(u=l=Math.max(u,l)),u>o/2&&(u=o/2),l>s/2&&(l=s/2);var h=new a;return u&&l?h.addRoundedRect(r,i,o,s,u,l):h.addRect(r,i,o,s),p(h,n)},ellipse:function(t,e){var n=c(t,e),r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <ellipse> attribute rx="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <ellipse> attribute ry="'+s+'"'),s=0);var u=new a;return u.addEllipse(r-o,i-s,2*o,2*s),p(u,n)},circle:function(t,e){var n=c(t,e),r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("r"));o||(o=0),o<0&&(console.error('Error: invalid negative value for <circle> attribute r="'+o+'"'),o=0);var s=new a;return s.addEllipse(r-o,i-o,2*o,2*o),p(s,n)},line:function(t,e){var n=c(t,e),r=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),o=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2"));r||(r=0),i||(i=0),o||(o=0),s||(s=0);var u=new a;return u.addLine(r,i,o,s),p(u,n)},path:function(t,e){var n,r,i,o,u,f,y,v,g,x,P,b,w,C,_,I,E,T,O,L,N,A,S,M=c(t,e);n=(n=(n=(n=(n=(n=(n=(n=(n=t.getAttribute("d")).replace(/,/gm," ")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")).replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/(\.[0-9]*)(\.)/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=h(n),n=l(n),r=function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new s(0,0),this.control=new s(0,0),this.current=new s(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!==this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i+=1,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new s(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!==this.previousCommand.toLowerCase()&&"s"!==this.previousCommand.toLowerCase()&&"q"!==this.previousCommand.toLowerCase()&&"t"!==this.previousCommand.toLowerCase()?this.current:new s(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()?new s(t.x+this.current.x,t.y+this.current.y):t}};var X=new a;for((i=new r(n)).reset();!i.isEnd();)switch(i.nextCommand(),i.command){case"M":case"m":for(o=i.getAsCurrentPoint(),X.moveTo(o.x,o.y),i.start=i.current;!i.isCommandOrEnd();)o=i.getAsCurrentPoint(),X.lineTo(o.x,o.y);break;case"L":case"l":for(;!i.isCommandOrEnd();)o=i.getAsCurrentPoint(),X.lineTo(o.x,o.y);break;case"H":case"h":for(;!i.isCommandOrEnd();)u=new s((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y),i.current=u,X.lineTo(i.current.x,i.current.y);break;case"V":case"v":for(;!i.isCommandOrEnd();)u=new s(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar()),i.current=u,X.lineTo(i.current.x,i.current.y);break;case"C":case"c":for(;!i.isCommandOrEnd();)f=i.current,y=i.getPoint(),v=i.getAsControlPoint(),g=i.getAsCurrentPoint(),X.curveTo(y.x,y.y,v.x,v.y,g.x,g.y);break;case"S":case"s":for(;!i.isCommandOrEnd();)f=i.current,y=i.getReflectedControlPoint(),v=i.getAsControlPoint(),g=i.getAsCurrentPoint(),X.curveTo(y.x,y.y,v.x,v.y,g.x,g.y);break;case"Q":case"q":for(;!i.isCommandOrEnd();)f=i.current,v=i.getAsControlPoint(),g=i.getAsCurrentPoint(),x=f.x+2/3*(v.x-f.x),P=f.y+2/3*(v.y-f.y),b=x+1/3*(g.x-f.x),w=P+1/3*(g.y-f.y),X.curveTo(x,P,b,w,g.x,g.y);break;case"T":case"t":for(;!i.isCommandOrEnd();)f=i.current,v=i.getReflectedControlPoint(),i.control=v,g=i.getAsCurrentPoint(),x=f.x+2/3*(v.x-f.x),P=f.y+2/3*(v.y-f.y),b=x+1/3*(g.x-f.x),w=P+1/3*(g.y-f.y),X.curveTo(x,P,b,w,g.x,g.y);break;case"A":case"a":for(;!i.isCommandOrEnd();)for(f=i.current,C=i.getScalar(),_=i.getScalar(),I=i.getScalar(),E=i.getScalar(),T=i.getScalar(),O=(g=i.getAsCurrentPoint()).x,L=g.y,N=d(O,L,C,_,E,T,I,f.x,f.y),A=0;A<N.length;A+=1)S=m.apply(this,N[A]),X.curveTo.apply(X,S);break;case"Z":case"z":X.close(),i.current=i.start}return p(X,M)}};e.interpret=function(t){var e=t.tagName.toLowerCase();return void 0===y[e]?null:y[e].call(this,t)},e.parseString=function(t){var n=new r.DOMParser({errorHandler:function(e,n){throw new Error('Could not parse string "'+String(t)+'": '+n)}}).parseFromString(t);return n?e.interpret(n.documentElement):null}},function(t,e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s=Object.prototype,u=s.hasOwnProperty,l=s.toString,h=s.propertyIsEnumerable,f=Math.max;function c(t,e){var n=v(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&g(t)}(t)&&u.call(t,"callee")&&(!h.call(t,"callee")||l.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=n.length,o=!!i;for(var a in t)!e&&!u.call(t,a)||o&&("length"==a||m(a,i))||n.push(a);return n}function p(t,e,n){var r=t[e];u.call(t,e)&&y(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function d(t){if(!x(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||s;return t===n}(t),n=[];for(var r in t)("constructor"!=r||!e&&u.call(t,r))&&n.push(r);return n}function m(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function y(t,e){return t===e||t!=t&&e!=e}var v=Array.isArray;function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=x(t)?l.call(t):"";return e==i||e==o}(t)}function x(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var P=function(t){return function(t,e){return e=f(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=f(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=o,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(t,e,n){if(!x(n))return!1;var r=typeof e;return!!("number"==r?g(n)&&m(e,n.length):"string"==r&&e in n)&&y(n[e],t)}(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}(function(t,e){!function(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;p(n,a,void 0===s?t[a]:s)}}(e,function(t){return g(t)?c(t,!0):d(t)}(e),t)});t.exports=P},function(t,e,n){(function(t,n){var r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Map]",u="[object Set]",l=/^\[object .+?Constructor\]$/,h="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,c=h||f||Function("return this")(),p="object"==typeof e&&e&&!e.nodeType&&e,d=p&&"object"==typeof n&&n&&!n.nodeType&&n,m=d&&d.exports===p;var y=Function.prototype,v=Object.prototype,g=c["__core-js_shared__"],x=function(){var t=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),P=y.toString,b=v.hasOwnProperty,w=v.toString,C=RegExp("^"+P.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=m?c.Buffer:void 0,I=v.propertyIsEnumerable,E=_?_.isBuffer:void 0,T=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),O=F(c,"DataView"),L=F(c,"Map"),N=F(c,"Promise"),A=F(c,"Set"),S=F(c,"WeakMap"),M=!I.call({valueOf:1},"valueOf"),X=W(O),D=W(L),Y=W(N),k=W(A),B=W(S);function R(t){return!(!V(t)||function(t){return!!x&&x in t}(t))&&(H(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?C:l).test(W(t))}function F(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return R(n)?n:void 0}var j=function(t){return w.call(t)};function W(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function z(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&U(t)}(t)&&b.call(t,"callee")&&(!I.call(t,"callee")||w.call(t)==i)}(O&&"[object DataView]"!=j(new O(new ArrayBuffer(1)))||L&&j(new L)!=s||N&&"[object Promise]"!=j(N.resolve())||A&&j(new A)!=u||S&&"[object WeakMap]"!=j(new S))&&(j=function(t){var e=w.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?W(n):void 0;if(r)switch(r){case X:return"[object DataView]";case D:return s;case Y:return"[object Promise]";case k:return u;case B:return"[object WeakMap]"}return e});var q=Array.isArray;function U(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!H(t)}var Z=E||function(){return!1};function H(t){var e=V(t)?w.call(t):"";return e==o||e==a}function V(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(U(t)&&(q(t)||"string"==typeof t||"function"==typeof t.splice||Z(t)||z(t)))return!t.length;var e=j(t);if(e==s||e==u)return!t.size;if(M||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||v)}(t))return!T(t).length;for(var n in t)if(b.call(t,n))return!1;return!0}}).call(this,n(3),n(11)(t))},function(t,e,n){"use strict";var r=n(52),i=n(14),o=n(10),a=n(13),s={};function u(t){for(var e in t)s[e]=t[e]}for(var l in o)s[l]=o[l];for(var l in delete s.delete,a)s[l]=a[l];function h(t,e){var n,r,i=[],o="",a=!1;for(t=t.trim(),r=0;r<t.length;r+=1)'"'===(n=t[r])?'"'===t[r+1]?(o+='"',r+=1):a=!a:n===e?a?o+=n:(i.push(o),o=""):o+=n;return i.push(o),i}u(n(17)),u(n(35)),u(n(15)),u(n(33)),u(n(30)),u(n(29)),u(n(28)),s.importSVG=function(t){return s.svg.parseString(t)},s.importImage=function(t){var e=s.Layer.fromImage(t);return new s.Img(e.toCanvas())},s.importText=function(t){return t?String(t):""},s.importCSV=function(t,e){var n,i;if(e=e||",",!t)return null;i=h((n=t.split(/\r\n|\r|\n/g))[0],e),n=n.slice(1);for(var o,a,s,u,l,f=[],c=0;c<n.length;c+=1)if(o=n[c],!r(o)){for(a={},s=h(o,e),l=0;l<s.length;l+=1)u=s[l],a[i[l]]=isNaN(u)?u:parseFloat(u);f.push(a)}return f},s.merge=function(){var t=i(arguments);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n+=1)r(t[n])||e.push(t[n]);if(e.length>0){var s=e[0];if(s&&(s.commands||s.shapes||s.fontFamily))return o.merge(e);if(s instanceof a.Img)return a.merge(e)}}return null},s.mix=function(t,e,n){if(n=void 0!==n?n:.5,"number"==typeof t)return t*(1-n)+e*n;if(t instanceof s.Color&&e instanceof s.Color)return new s.Color(s.mix(t.r,e.r,n),s.mix(t.g,e.g,n),s.mix(t.b,e.b,n),s.mix(t.a,e.a,n));if("object"==typeof t){for(var r={},i=Object.keys(t),o=0,a=i.length;o<a;o+=1){var u=i[o],l=t[u],h=e[u];void 0!==l&&void 0!==h&&(r[u]=s.mix(l,h,n))}return r}return 0},t.exports=s},function(t,e,n){var r=n(53);window,testAndAppend({name:"Sine Wave Generate",description:"Sine Wave Generator outputs the value in a sine wave pattern given the timestamp",image:"",generatorFunction:(t,e,n)=>()=>r.sineWave(.5,t,e,n)})}]);